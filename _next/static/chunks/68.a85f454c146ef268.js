(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{4470:function(m){"use strict";var g=Object.prototype.hasOwnProperty,_=Object.prototype.toString,T=Object.defineProperty,A=Object.getOwnPropertyDescriptor,isArray=function(m){return"function"==typeof Array.isArray?Array.isArray(m):"[object Array]"===_.call(m)},isPlainObject=function(m){if(!m||"[object Object]"!==_.call(m))return!1;var T,A=g.call(m,"constructor"),k=m.constructor&&m.constructor.prototype&&g.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!A&&!k)return!1;for(T in m);return void 0===T||g.call(m,T)},setProperty=function(m,g){T&&"__proto__"===g.name?T(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},getProperty=function(m,_){if("__proto__"===_){if(!g.call(m,_))return;if(A)return A(m,_).value}return m[_]};m.exports=function extend(){var m,g,_,T,A,k,C=arguments[0],S=1,w=arguments.length,N=!1;for("boolean"==typeof C&&(N=C,C=arguments[1]||{},S=2),(null==C||"object"!=typeof C&&"function"!=typeof C)&&(C={});S<w;++S)if(m=arguments[S],null!=m)for(g in m)_=getProperty(C,g),C!==(T=getProperty(m,g))&&(N&&T&&(isPlainObject(T)||(A=isArray(T)))?(A?(A=!1,k=_&&isArray(_)?_:[]):k=_&&isPlainObject(_)?_:{},setProperty(C,{name:g,newValue:extend(N,k,T)})):void 0!==T&&setProperty(C,{name:g,newValue:T}));return C}},9821:function(m,g,_){"use strict";let T=_(4579).parse,A=_(7799).compile,k=_(7094).segment,C=_(1105);m.exports={parse:T,compile:A,segment:k,hls:C}},7799:function(m){"use strict";function CompilerError(m,g){this.message=m,this.error=g}function convertTimestamp(m){let g=pad(Math.floor(m/60/60),2),_=pad(Math.floor(m/60)%60,2),T=pad(Math.floor(m%60),2),A=pad(Math.floor(1e3*(m%1).toFixed(4)),3);return`${g}:${_}:${T}.${A}`}function pad(m,g){let _=`${m}`;for(;_.length<g;)_=`0${_}`;return _}CompilerError.prototype=Object.create(Error.prototype),m.exports={CompilerError,compile:function(m){if(!m)throw new CompilerError("Input must be non-null");if("object"!=typeof m)throw new CompilerError("Input must be an object");if(Array.isArray(m))throw new CompilerError("Input cannot be array");if(!m.valid)throw new CompilerError("Input must be valid");let g="WEBVTT\n";if(m.meta){if("object"!=typeof m.meta||Array.isArray(m.meta))throw new CompilerError("Metadata must be an object");Object.entries(m.meta).forEach(m=>{if("string"!=typeof m[1])throw new CompilerError(`Metadata value for "${m[0]}" must be string`);g+=`${m[0]}: ${m[1]}
`})}let _=null;return m.cues.forEach((m,T)=>{if(_&&_>m.start)throw new CompilerError(`Cue number ${T} is not in chronological order`);_=m.start,g+="\n"+function(m){if("object"!=typeof m)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof m.identifier&&"number"!=typeof m.identifier&&null!==m.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(m)}`);if(isNaN(m.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(m)}`);if(isNaN(m.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(m)}`);if(m.start>=m.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(m)}`);if("string"!=typeof m.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(m)}`);if("string"!=typeof m.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(m)}`);let g="";m.identifier.length>0&&(g+=`${m.identifier}
`);let _=convertTimestamp(m.start),T=convertTimestamp(m.end);return g+(`${_} --> ${T}`+(m.styles?` ${m.styles}`:""))+`
${m.text}`}(m)+"\n"}),g}}},1105:function(m,g,_){"use strict";let T=_(7094).segment;function pad(m,g){let _="0".repeat(Math.max(0,g-m.toString().length));return`${_}${m}`}function printableTimestamp(m){let g=(m%1).toFixed(3);m=Math.round(m-g);let _=Math.floor(m/3600),T=Math.floor((m-3600*_)/60),A=m-3600*_-60*T,k=`${pad(_,2)}:`;return`${k}${pad(T,2)}:${pad(A,2)}.${pad(1e3*g,3)}`}m.exports={hlsSegment:function(m,g,_){void 0===_&&(_="900000");let A=T(m,g),k=[];return A.forEach((m,g)=>{let T=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${_},LOCAL:00:00:00.000

${function(m){let g=[];return m.forEach(m=>{g.push(function(m){let g=[];m.identifier&&g.push(m.identifier);let _=printableTimestamp(m.start),T=printableTimestamp(m.end),A=m.styles?`${m.styles}`:"";return g.push(`${_} --> ${T} ${A}`),g.push(m.text),g.join("\n")}(m))}),g.join("\n\n")}(m.cues)}
`,A=`${g}.vtt`;k.push({filename:A,content:T})}),k},hlsSegmentPlaylist:function(m,g){let _;let A=T(m,g),k=function(m){let g=[];return m.forEach((m,_)=>{g.push(`#EXTINF:${m.duration.toFixed(5)},
${_}.vtt`)}),g.join("\n")}(A),C=Math.round((_=0,A.forEach(m=>{m.duration>_&&(_=m.duration)}),_)),S=`#EXTM3U
#EXT-X-TARGETDURATION:${C}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${k}
#EXT-X-ENDLIST
`;return S}}},4579:function(m){"use strict";function ParserError(m,g){this.message=m,this.error=g}ParserError.prototype=Object.create(Error.prototype);let g=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(m){let _=m.match(g);return 3600*parseFloat(_[1]||0)+(60*parseFloat(_[2])+parseFloat(_[3]))}m.exports={ParserError,parse:function(m,_){_||(_={});let{meta:T=!1,strict:A=!0}=_;if("string"!=typeof m)throw new ParserError("Input must be a string");m=(m=(m=m.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let k=m.split("\n\n"),C=k.shift();if(!C.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let S=C.split("\n"),w=S[0].replace("WEBVTT","");if(w.length>0&&" "!==w[0]&&"	"!==w[0])throw new ParserError("Header comment must start with space or tab");if(0===k.length&&1===S.length)return{valid:!0,strict:A,cues:[],errors:[]};if(!T&&S.length>1&&""!==S[1])throw new ParserError("Missing blank line after signature");let{cues:N,errors:O}=function(m,_){let T=[],A=m.map((m,A)=>{try{return function(m,_,T){var A,k;let C="",S=0,w=.01,N="",O="",R=m.split("\n").filter(Boolean);if(R.length>0&&R[0].trim().startsWith("NOTE"))return null;if(1===R.length&&!R[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${_})`);if(R.length>1&&!(R[0].includes("-->")||R[1].includes("-->"))){let m=`Cue identifier needs to be followed by timestamp (cue #${_})`;throw new ParserError(m)}R.length>1&&R[1].includes("-->")&&(C=R.shift());let L="string"==typeof R[0]&&R[0].split(" --> ");if(2!==L.length||(A=L[0],!g.test(A))||(k=L[1],!g.test(k)))throw new ParserError(`Invalid cue timestamp (cue #${_})`);if(S=parseTimestamp(L[0]),w=parseTimestamp(L[1]),T){if(S>w)throw new ParserError(`Start timestamp greater than end (cue #${_})`);if(w<=S)throw new ParserError(`End must be greater than start (cue #${_})`)}if(!T&&w<S)throw new ParserError(`End must be greater or equal to start when not strict (cue #${_})`);return O=L[1].replace(g,"").trim(),R.shift(),!!(N=R.join("\n"))&&{identifier:C,start:S,end:w,text:N,styles:O}}(m,A,_)}catch(m){return T.push(m),null}}).filter(Boolean);return{cues:A,errors:T}}(k,A);if(A&&O.length>0)throw O[0];let R=T?function(m){let g={};return m.slice(1).forEach(m=>{let _=m.indexOf(":"),T=m.slice(0,_).trim(),A=m.slice(_+1).trim();g[T]=A}),Object.keys(g).length>0?g:null}(S):null,L={valid:0===O.length,strict:A,cues:N,errors:O};return T&&(L.meta=R),L}}},7094:function(m,g,_){"use strict";let T=_(4579).parse;m.exports={segment:function(m,g){g=g||10;let _=T(m),A=[],k=[],C=null,S=0,w=0;return _.cues.forEach((m,T)=>{let N=0===T,O=T===_.cues.length-1,R=m.start,L=m.end,P=O?1/0:_.cues[T+1].start,F=N?L:L-R,z=N?0:R-_.cues[T-1].end;S=S+F+z,A.length,C&&(k.push(C),S+=C.end-w,C=null),k.push(m);let $=P-L<g&&z<g&&S>g;if(function(m,g,_,T){return(T<=g||T+(g-T%g)+m<_)&&_-m>=g}(w,g,P,z)){var q,Q,K,Z;let m;let _=(q=g,Q=S,K=w,m=q,Q>q&&(m=(Z=Q-q)+(q-Z%q)),m=O?parseFloat((L-K).toFixed(2)):Math.round(m));A.push({duration:_,cues:k}),w+=_,S=0,k=[]}else $=!1;$&&(C=m)}),A}}},4887:function(m,g){!function(m){"use strict";function t(m){return null==m}function r(m){throw Error("Argument "+m+" is empty.")}function e(m){return"function"==typeof m&&"getType"in m}function i(m){throw Error("Argument "+m+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function o(m,g){if(null==m)throw Error("Argument contains array with empty element at index "+g);if(null==m.getType)throw Error("Argument contains array with invalid element at index "+g+', it should be an action-creator instance from "typesafe-actions"')}function u(m){return"string"==typeof m||"symbol"==typeof m}function c(m){throw Error("Argument "+m+" is invalid, it should be an action type of type: string | symbol")}function f(m,g){if(null==m)throw Error("Argument contains array with empty element at index "+g);if("string"!=typeof m&&"symbol"!=typeof m)throw Error("Argument contains array with invalid element at index "+g+", it should be of type: string | symbol")}function s(m,g,_,T){return t(m)&&r(1),u(m)||i(1),{type:m,payload:g,meta:_,error:T}}function y(m,g){return t(m)&&r(1),u(m)||c(1),Object.assign(function(){var _=null!=g?g.apply(void 0,arguments):void 0;return Object.assign({type:m},_)},{getType:function(){return m},toString:function(){return m}})}function l(m,g,_){return t(m)&&r(1),u(m)||c(1),function(){return y(m,function(){var m=arguments.length<=0?void 0:arguments[0],T=arguments.length<=1?void 0:arguments[1];return null==g&&null==_||(m=null!=g?g.apply(void 0,arguments):void 0,T=null!=_?_.apply(void 0,arguments):void 0),Object.assign({},void 0!==m&&{payload:m},{},void 0!==T&&{meta:T})})}}function p(m){return t(m)&&r(1),e(m)||i(1),m.getType()}function d(m,g){return t(m)&&r(1),u(m)||c(1),Object.assign(null!=g?g(m):function(){return{type:m}},{getType:function(){return m},toString:function(){return m}})}m.action=s,m.createAction=l,m.createAsyncAction=function(m,g,_,T){return function(){var A=[m,g,_,T].map(function(m,g){return Array.isArray(m)?l(m[0],m[1],m[2])():"string"==typeof m||"symbol"==typeof m?l(m)():void(g<3&&function(m){throw Error("Argument "+m+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(g))});return{request:A[0],success:A[1],failure:A[2],cancel:A[3]}}},m.createCustomAction=y,m.createReducer=function n(m,g){void 0===g&&(g={});var _=Object.assign({},g),o=function(g,T){var A=Array.isArray(g)?g:[g],k={};return A.map(function(m,g){return e(m)?p(m):u(m)?m:function(m){throw Error("Argument "+m+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(g+1)}).forEach(function(m){return k[m]=T}),n(m,Object.assign({},_,{},k))};return Object.assign(function(g,T){if(void 0===g&&(g=m),_.hasOwnProperty(T.type)){var A=_[T.type];if("function"!=typeof A)throw Error('Reducer under "'+T.type+'" key is not a valid reducer');return A(g,T)}return g},{handlers:Object.assign({},_),handleAction:o,handleType:o})},m.deprecated={createAction:function(m,g){return Object.assign(null==g?function(){return s(m)}:g(s.bind(null,m)),{getType:function(){return m},toString:function(){return m}})},createCustomAction:d,createStandardAction:function(m){return t(m)&&r(1),u(m)||c(1),Object.assign(function(){return d(m,function(m){return function(g,_){return{type:m,payload:g,meta:_}}})},{map:function(g){return d(m,function(m){return function(_,T){return Object.assign(g(_,T),{type:m})}})}})}},m.getType=p,m.isActionOf=function(m,g){t(m)&&r(1);var _=Array.isArray(m)?m:[m];_.forEach(o);var u=function(m){return _.some(function(g){return m.type===g.getType()})};return void 0===g?u:u(g)},m.isOfType=function(m,g){t(m)&&r(1);var _=Array.isArray(m)?m:[m];_.forEach(f);var o=function(m){return _.includes(m.type)};return void 0===g?o:o(g)}}(g)},1068:function(m,g,_){"use strict";let T,A;_.r(g),_.d(g,{Image:function(){return se},Primitives:function(){return eW.default},Scroll:function(){return Ft},Slider:function(){return og.default},Viewer:function(){return ma},default:function(){return lU}});var k,C,S,w,N,O,R,L,P,F,z,$,q,Q,K,Z,et,en,er,ei,ea,eo,es,el,ec,eu,ed,em,eh,ep,ef,eg,e_,eE,eT,eA,ey,ek,ev={};_.r(ev),_.d(ev,{boolean:function(){return np},booleanish:function(){return nf},commaOrSpaceSeparated:function(){return nA},commaSeparated:function(){return nT},number:function(){return n_},overloadedBoolean:function(){return ng},spaceSeparated:function(){return nE}});var eb={};_.r(eb),_.d(eb,{attentionMarkers:function(){return am},contentInitial:function(){return aa},disable:function(){return ah},document:function(){return ai},flow:function(){return al},flowInitial:function(){return ao},insideSpan:function(){return ad},string:function(){return ac},text:function(){return au}});var ex=_(9203),eC=_(4511),eI=_(6744),eS=_(7294);let ew="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var eN={randomUUID:ew};let eO=new Uint8Array(16),eR=[];for(let m=0;m<256;++m)eR.push((m+256).toString(16).slice(1));var esm_browser_v4=function(m,g,_){if(eN.randomUUID&&!g&&!m)return eN.randomUUID();m=m||{};let A=m.random||(m.rng||function(){if(!T&&!(T="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(eO)})();if(A[6]=15&A[6]|64,A[8]=63&A[8]|128,g){_=_||0;for(let m=0;m<16;++m)g[_+m]=A[m];return g}return function(m,g=0){return eR[m[g+0]]+eR[m[g+1]]+eR[m[g+2]]+eR[m[g+3]]+"-"+eR[m[g+4]]+eR[m[g+5]]+"-"+eR[m[g+6]]+eR[m[g+7]]+"-"+eR[m[g+8]]+eR[m[g+9]]+"-"+eR[m[g+10]]+eR[m[g+11]]+eR[m[g+12]]+eR[m[g+13]]+eR[m[g+14]]+eR[m[g+15]]}(A)};let eD=window.OpenSeadragon;if(!eD&&!(eD=ex))throw Error("OpenSeadragon is missing.");let eL="http://www.w3.org/2000/svg";eD.Viewer&&(eD.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new y(this)),this._svgOverlayInfo});let y=function(m){let g=this;this._viewer=m,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(eL,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(eL,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};y.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let m=this._viewer.viewport.pixelFromPoint(new eD.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),T=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,k=A*g,C=k;T&&(k=-k,m.x=-m.x+A),this._node.setAttribute("transform","translate("+m.x+","+m.y+") scale("+k+","+C+") rotate("+_+")")},onClick:function(m,g){new eD.MouseTracker({element:m,clickHandler:g}).setTracking(!0)}};let b=m=>fetch(`${m.replace(/\/$/,"")}/info.json`).then(m=>m.json()).then(m=>m).catch(g=>{console.error(`The IIIF tilesource ${m.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),H=m=>{let g,_;return Array.isArray(m)&&(g=m[0])&&(_="@id"in g?g["@id"]:g.id),_};var eP=((k=eP||{}).TiledImage="tiledImage",k.SimpleImage="simpleImage",k);let M=m=>{let g=Array.isArray(null==m?void 0:m.service)&&(null==m?void 0:m.service.length)>0,_=g?H(null==m?void 0:m.service):null==m?void 0:m.id,T=g?eP.TiledImage:eP.SimpleImage;return{uri:_,imageType:T}},B=(m,g)=>{let _=g?eP.TiledImage:eP.SimpleImage;return{uri:m,imageType:_}},{styled:eM,css:eF,keyframes:eB,createTheme:eH}=(0,eI.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),eU=eM("div",{display:"flex",flexDirection:"column",alignItems:"center"}),ez=eM("p",{fontWeight:"bold",fontSize:"x-large"}),eG=eM("span",{fontSize:"medium"}),W=({error:m})=>{let{message:g}=m;return eS.createElement(eU,{role:"alert"},eS.createElement(ez,{"data-testid":"headline"},"Something went wrong"),g&&eS.createElement(eG,null,`Error message: ${g}`," "))},ej=eM("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),e$=eM("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),eq=eM("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${ej}`]:{display:"block"}},false:{[`${ej}`]:{display:"none"}}}}}),eV=eM("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),h=({className:m,id:g,label:_,children:T})=>{let A=_.toLowerCase().replace(/\s/g,"-");return eS.createElement(eV,{id:g,className:m,"data-testid":"openseadragon-button","data-button":A},eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",{id:`${g}-svg-title`},_),T))},eY=eM("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),j=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),V=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),U=()=>eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),D=()=>eS.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),image_$=()=>eS.createElement(eS.Fragment,null,eS.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eS.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),X=({_cloverViewerHasPlaceholder:m,config:g})=>eS.createElement(eY,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:m},g.showZoomControl&&eS.createElement(eS.Fragment,null,eS.createElement(h,{id:g.zoomInButton,label:"zoom in"},eS.createElement(j,null)),eS.createElement(h,{id:g.zoomOutButton,label:"zoom out"},eS.createElement(V,null))),g.showFullPageControl&&eS.createElement(h,{id:g.fullPageButton,label:"full page"},eS.createElement(U,null)),g.showRotationControl&&eS.createElement(eS.Fragment,null,eS.createElement(h,{id:g.rotateRightButton,label:"rotate right"},eS.createElement(image_$,null)),eS.createElement(h,{id:g.rotateLeftButton,label:"rotate left"},eS.createElement(image_$,null))),g.showHomeControl&&eS.createElement(h,{id:g.homeButton,label:"reset"},eS.createElement(D,null))),Y=({ariaLabel:m,config:g,uri:_,_cloverViewerHasPlaceholder:T,imageType:A,openSeadragonCallback:k})=>{let[C,S]=(0,eS.useState)(),[w,N]=(0,eS.useState)();return(0,eS.useEffect)(()=>(w||N(ex(g)),()=>null==w?void 0:w.destroy()),[]),(0,eS.useEffect)(()=>{w&&k&&k(w)},[w,k]),(0,eS.useEffect)(()=>{_!==C&&S(_)},[C,_]),(0,eS.useEffect)(()=>{if(C&&w)switch(A){case"simpleImage":w.addSimpleImage({url:C});break;case"tiledImage":b(C).then(m=>{try{if(!m)throw Error(`No tile source found for ${C}`);w.addTiledImage({tileSource:m})}catch(m){console.error(m)}});break;default:w.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${A}"`)}},[A,C,w]),eS.createElement(eq,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},eS.createElement(X,{_cloverViewerHasPlaceholder:T,config:g}),g.showNavigator&&eS.createElement(ej,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eS.createElement(e$,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...m&&{"aria-label":m}}))},G=(m,g="none")=>{if(!m)return null;if("string"==typeof m)return[m];if(!m[g]){let g=Object.getOwnPropertyNames(m);if(g.length>0)return m[g[0]]}return m[g]&&Array.isArray(m[g])?m[g]:null},J=(m,g="none",_=", ")=>{let T=G(m,g);return Array.isArray(T)?T.join(`${_}`):T},se=({_cloverViewerHasPlaceholder:m=!1,body:g,instanceId:_,isTiledImage:T=!1,label:A,src:k="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let w=_||esm_browser_v4(),N="string"==typeof A?A:J(A),O={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:R,uri:L}=g?M(g):B(k,T);return L?eS.createElement(eC.SV,{FallbackComponent:W},eS.createElement(Y,{_cloverViewerHasPlaceholder:m,ariaLabel:N,config:O,imageType:R,key:w,uri:L,openSeadragonCallback:C})):null};var eW=_(1830),eQ=Object.defineProperty,__defNormalProp=(m,g,_)=>g in m?eQ(m,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):m[g]=_,__publicField=(m,g,_)=>(__defNormalProp(m,"symbol"!=typeof g?g+"":g,_),_);let eX=[];Object.freeze(eX);let eK={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:eX,motivation:null,label:null,thumbnail:eX,summary:null,requiredStatement:null,metadata:eX,rights:null,provider:eX,items:eX,seeAlso:eX,homepage:eX,logo:eX,rendering:eX,service:eX},eZ={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:eX,motivation:null,thumbnail:eX,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eX,rights:null,navDate:null,provider:eX,items:eX,annotations:eX,seeAlso:eX,homepage:eX,logo:eX,partOf:eX,rendering:eX,service:eX,duration:0,height:0,width:0},eJ={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:eX,motivation:null,thumbnail:eX,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eX,rights:null,navDate:null,provider:eX,items:eX,annotations:eX,seeAlso:eX,homepage:eX,logo:eX,partOf:eX,rendering:eX,service:eX,services:eX},e0={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:eX,behavior:eX,homepage:eX,items:eX,label:null,logo:eX,metadata:eX,motivation:null,navDate:null,provider:eX,partOf:eX,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,rendering:eX,requiredStatement:null,rights:null,seeAlso:eX,service:eX,services:eX,start:null,structures:eX,summary:null,thumbnail:eX,viewingDirection:"left-to-right"},e1={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:eX,motivation:null,thumbnail:eX,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eX,rights:null,navDate:null,provider:eX,items:eX,annotations:eX,seeAlso:eX,homepage:eX,logo:eX,partOf:eX,rendering:eX,service:eX,start:null,supplementary:null,viewingDirection:"left-to-right"},e2={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:eX,seeAlso:eX,homepage:eX};function ensureArray$1(m){return Array.isArray(m)?m:[m]}let e3=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"];let Traverse$1=class Traverse$1{constructor(m,g={}){__publicField(this,"traversals"),__publicField(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],...m},this.options={allowUndefinedReturn:!1,...g}}static all(m){return new Traverse$1({collection:[m],manifest:[m],canvas:[m],annotationCollection:[m],annotationPage:[m],annotation:[m],contentResource:[m],choice:[m],range:[m],service:[m]})}traverseDescriptive(m){return m.thumbnail&&(m.thumbnail=m.thumbnail.map(m=>this.traverseType(m,this.traversals.contentResource))),m.provider&&(m.provider=m.provider.map(m=>this.traverseAgent(m))),m}traverseLinking(m){return m.seeAlso&&(m.seeAlso=m.seeAlso.map(m=>this.traverseType(m,this.traversals.contentResource))),m.service&&(m.service=ensureArray$1(m.service).map(m=>this.traverseType(m,this.traversals.service))),m.services&&(m.services=m.services.map(m=>this.traverseType(m,this.traversals.service))),m.logo&&(m.logo=m.logo.map(m=>this.traverseType(m,this.traversals.contentResource))),m.homepage&&(m.homepage=m.homepage.map(m=>this.traverseType(m,this.traversals.contentResource))),m.partOf&&(m.partOf=m.partOf.map(m=>"string"!=typeof m&&m.type?"Canvas"===m.type?this.traverseType(m,this.traversals.canvas):"AnnotationCollection"===m.type?this.traverseType(m,this.traversals.annotationCollection):"Collection"===m.type?this.traverseType(m,this.traversals.collection):this.traverseType(m,this.traversals.contentResource):this.traverseType(m,this.traversals.contentResource))),m.start&&(m.start=m.start?this.traverseType(m.start,this.traversals.canvas):null),m.rendering&&(m.rendering=m.rendering.map(m=>this.traverseType(m,this.traversals.contentResource))),m.supplementary&&(m.supplementary=m.supplementary.map(m=>this.traverseType(m,this.traversals.contentResource))),m}traverseCollectionItems(m){return m.items&&m.items.map(m=>"Collection"===m.type?this.traverseCollection(m):this.traverseManifest(m)),m}traverseCollection(m){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traversePosterCanvas(this.traverseCollectionItems(m))))),this.traversals.collection)}traverseManifestItems(m){return m.items&&(m.items=m.items.map(m=>this.traverseCanvas(m))),m}traverseManifestStructures(m){return m.structures&&(m.structures=m.structures.map(m=>this.traverseRange(m))),m}traverseManifest(m){return this.traverseType(this.traverseInlineAnnotationPages(this.traverseManifestStructures(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(m)))))),this.traversals.manifest)}traverseCanvasItems(m){return m.items=(m.items||[]).map(m=>this.traverseAnnotationPage(m)),m}traverseInlineAnnotationPages(m){return"string"!=typeof m&&m&&m.annotations&&(m.annotations=m.annotations.map(m=>this.traverseAnnotationPage(m))),m}traverseCanvas(m){return this.traverseType(this.traverseInlineAnnotationPages(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(m))))),this.traversals.canvas)}traverseAnnotationPageItems(m){return m.items&&(m.items=m.items.map(m=>this.traverseAnnotation(m))),m}traverseAnnotationPage(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationPageItems(m))),this.traversals.annotationPage)}traverseAnnotationBody(m){return Array.isArray(m.body)?m.body=m.body.map(m=>this.traverseContentResource(m)):m.body&&(m.body=this.traverseContentResource(m.body)),m}traversePosterCanvas(m){return m.posterCanvas&&(m.posterCanvas=this.traverseCanvas(m.posterCanvas)),m.placeholderCanvas&&(m.placeholderCanvas=this.traverseCanvas(m.placeholderCanvas)),m.accompanyingCanvas&&(m.accompanyingCanvas=this.traverseCanvas(m.accompanyingCanvas)),m}traverseAnnotation(m){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(m)),this.traversals.annotation)}traverseContentResourceLinking(m){return"string"!=typeof m&&m&&m&&m.service&&(m.service=ensureArray$1(m.service||[]).map(m=>this.traverseType(m,this.traversals.service))),m}traverseContentResource(m){return"Choice"===m.type&&(m.items=m.items.map(m=>this.traverseContentResource(m))),this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(m)),this.traversals.contentResource)}traverseRangeRanges(m){return m.items&&(m.items=m.items.map(m=>"string"==typeof m?this.traverseCanvas({id:m,type:"Canvas"}):"Manifest"===m.type?this.traverseManifest(m):this.traverseRange(m))),m}traverseRange(m){return this.traverseType(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseRangeRanges(m)))),this.traversals.range)}traverseAgent(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(m)),this.traversals.agent)}traverseType(m,g){return g.reduce((m,g)=>{let _=g(m);return void 0!==_||this.options.allowUndefinedReturn?_:m},m)}traverseService(m){return this.traverseType(m,this.traversals.service)}traverseUnknown(m){let g=function(m){if(null==m)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(m))throw Error("Array is not a valid entity");if("object"!=typeof m)throw Error(`${typeof m} is not a valid entity`);if("string"==typeof m.type){let g=e3.indexOf(m.type);if(-1!==g)return e3[g]}if(m.profile)return"Service";throw Error("Resource type is not known")}(m);switch(g){case"Collection":return this.traverseCollection(m);case"Manifest":return this.traverseManifest(m);case"Canvas":return this.traverseCanvas(m);case"AnnotationPage":return this.traverseAnnotationPage(m);case"Annotation":return this.traverseAnnotation(m);case"ContentResource":return this.traverseContentResource(m);case"Range":return this.traverseRange(m);case"Service":return this.traverseService(m);case"Agent":return this.traverseAgent(m);default:throw Error(`Unknown or unsupported resource type of ${g}`)}}};let e4=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"];let Traverse=class Traverse{constructor(m,g={}){__publicField(this,"traversals"),__publicField(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...m},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...g}}static all(m){return new Traverse({collection:[m],manifest:[m],canvas:[m],annotationList:[m],sequence:[m],annotation:[m],contentResource:[m],choice:[m],range:[m],service:[m],layer:[m]})}traverseCollection(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(m))),this.traversals.collection)}traverseCollectionItems(m){if(this.options.mergeMemberProperties){let g=[...(m.manifests||[]).map(m=>"string"==typeof m?{"@id":m,"@type":"sc:Manifest"}:m),...(m.collections||[]).map(m=>"string"==typeof m?{"@id":m,"@type":"sc:Collection"}:m),...m.members||[]];delete m.collections,delete m.manifests,m.members=g}return m.manifests&&(m.manifests=m.manifests.map(m=>this.traverseManifest("string"==typeof m?{"@id":m,"@type":"sc:Manifest"}:m))),m.collections&&(m.collections=m.collections.map(m=>this.traverseCollection("string"==typeof m?{"@id":m,"@type":"sc:Collection"}:m))),m.members&&(m.members=m.members.map(m=>"string"==typeof m?m:this.traverseUnknown(m))),m}traverseManifest(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(m))),this.traversals.manifest)}traverseManifestItems(m){return m.sequences&&(m.sequences=m.sequences.map(m=>this.traverseSequence(m))),m.structures&&(m.structures=m.structures.map(m=>this.traverseRange(m))),m}traverseSequence(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(m))),this.traversals.sequence)}traverseSequenceItems(m){return m.canvases&&(m.canvases=m.canvases.map(m=>this.traverseCanvas(m))),m}traverseCanvas(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(m))),this.traversals.canvas)}traverseCanvasItems(m){return m.images&&(m.images=m.images.map(m=>this.traverseAnnotation(m))),m.otherContent&&(m.otherContent=m.otherContent.map(m=>this.traverseAnnotationList(m))),m}traverseRange(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(m))),this.traversals.range)}traverseRangeItems(m){if(this.options.mergeMemberProperties){let g=[...(m.ranges||[]).map(m=>"string"==typeof m?{"@id":m,"@type":"sc:Range"}:m),...(m.canvases||[]).map(m=>"string"==typeof m?{"@id":m,"@type":"sc:Canvas"}:m),...m.members||[]];delete m.ranges,delete m.canvases,m.members=g.length?g.map(m=>this.traverseUnknown(m)):void 0}return m}traverseAnnotationList(m){let g="string"==typeof m?{"@id":m,"@type":"sc:AnnotationList"}:m;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(g)),this.traversals.annotationList)}traverseAnnotationListItems(m){return m.resources&&(m.resources=m.resources.map(m=>this.traverseAnnotation(m))),m}traverseAnnotation(m){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(m))),this.traversals.annotation)}traverseAnnotationItems(m){return m.resource&&(Array.isArray(m.resource)?m.resource=m.resource.map(m=>this.traverseContentResource(m)):m.resource=this.traverseContentResource(m.resource)),m.on,m}traverseLayer(m){return this.traverseType(this.traverseLinking(this.traverseLayerItems(m)),this.traversals.layer)}traverseLayerItems(m){return m.otherContent&&(m.otherContent=m.otherContent.map(m=>this.traverseAnnotationList(m))),m}traverseChoice(m){return this.traverseType(this.traverseChoiceItems(m),this.traversals.choice)}traverseChoiceItems(m){return m.default&&"rdf:nil"!==m.default&&(m.default=this.traverseContentResource(m.default)),m.item&&"rdf:nil"!==m.item&&(m.item=m.item.map(m=>this.traverseContentResource(m))),m}traverseService(m){return this.traverseType(this.traverseLinking(m),this.traversals.service)}traverseContentResource(m){return"oa:Choice"===m["@type"]?this.traverseChoice(m):this.traverseType(this.traverseDescriptive(this.traverseLinking(m)),this.traversals.contentResource)}traverseUnknown(m){if(!m["@type"]||"string"==typeof m)return m;switch(function(m){if(null==m)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(m))throw Error("Array is not a valid entity");if("object"!=typeof m)throw Error(`${typeof m} is not a valid entity`);if("string"==typeof m["@type"]){let g=e4.indexOf(m["@type"]);if(-1!==g)return e4[g]}if(m.profile)return"Service";if(m.format||m["@type"])return"ContentResource";throw Error("Resource type is not known")}(m)){case"sc:Collection":return this.traverseCollection(m);case"sc:Manifest":return this.traverseManifest(m);case"sc:Canvas":return this.traverseCanvas(m);case"sc:Sequence":return this.traverseSequence(m);case"sc:Range":return this.traverseRange(m);case"oa:Annotation":return this.traverseAnnotation(m);case"sc:AnnotationList":return this.traverseAnnotationList(m);case"sc:Layer":return this.traverseLayer(m);case"Service":return this.traverseService(m);case"oa:Choice":return this.traverseChoice(m);case"ContentResource":return this.traverseContentResource(m)}return m.profile?this.traverseService(m):m}traverseImageResource(m){let g=Array.isArray(m),_=Array.isArray(m)?m:[m],T=[];for(let m of _)"string"==typeof m?T.push(this.traverseContentResource({"@id":m,"@type":"dctypes:Image"})):T.push(this.traverseContentResource(m));return g||this.options.convertPropsToArray?T:T[0]}traverseDescriptive(m){return m.thumbnail&&(m.thumbnail=this.traverseImageResource(m.thumbnail)),m.logo&&(m.logo=this.traverseImageResource(m.logo)),m}traverseOneOrMoreServices(m){let g=Array.isArray(m),_=Array.isArray(m)?m:[m],T=[];for(let m of _)T.push(this.traverseService(m));return g||this.options.convertPropsToArray?T:T[0]}traverseLinking(m){return m.related&&(m.related=this.traverseOneOrManyType(m.related,this.traversals.contentResource)),m.rendering&&(m.rendering=this.traverseOneOrManyType(m.rendering,this.traversals.contentResource)),m.service&&(m.service=this.traverseOneOrMoreServices(m.service)),m.seeAlso&&(m.seeAlso=this.traverseOneOrManyType(m.seeAlso,this.traversals.contentResource)),m.within&&("string"==typeof m.within||(m.within=this.traverseOneOrManyType(m.within,this.traversals.contentResource))),m.startCanvas&&("string"==typeof m.startCanvas?m.startCanvas=this.traverseType({"@id":m.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):m.startCanvas&&this.traverseType(m.startCanvas,this.traversals.canvas)),m.contentLayer&&("string"==typeof m.contentLayer?m.contentLayer=this.traverseLayer({"@id":m.contentLayer,"@type":"sc:Layer"}):m.contentLayer=this.traverseLayer(m.contentLayer)),m}traverseOneOrManyType(m,g){if(!Array.isArray(m)){if(!this.options.convertPropsToArray)return this.traverseType(m,g);m=[m]}return m.map(m=>this.traverseType(m,g))}traverseType(m,g){return g.reduce((m,g)=>{let _=g(m);return void 0!==_||this.options.allowUndefinedReturn?_:m},m)}};let e5="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e6="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e8="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e9="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e7="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",tt="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",tn="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",tr="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",ti="http://iiif.io/api/image/1/level1.json",ta="http://iiif.io/api/image/1/profiles/level1.json",to="http://iiif.io/api/image/1/level2.json",ts="http://iiif.io/api/image/1/profiles/level2.json",tl="http://iiif.io/api/image/2/level1.json",tc="http://iiif.io/api/image/2/profiles/level1.json",tu="http://iiif.io/api/image/2/level2.json",td="http://iiif.io/api/image/2/profiles/level2.json",tm="level1",th="level2",tp="http://iiif.io/api/image/2/level1",tf="http://iiif.io/api/image/2/level2",tg=[tp,tf,e5,e6,e8,e9,e7,tt,tn,tr,ti,ta,to,ts,tl,tc,tu,td,tm,th],t_=["http://iiif.io/api/image/2/level0",tp,tf,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",e5,e6,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",e8,e9,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e7,tt,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",tn,tr,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",ti,ta,to,ts,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",tl,tc,tu,td,"level0",tm,th],tE={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function convertLanguageMapping(m,g="none"){if(!m)return{};let _=Array.isArray(m)?m:[m],T={};for(let m of _){if("string"==typeof m){T[g]=T[g]?T[g]:[],T[g].push(m||"");continue}if(!m["@language"]){T[g]=T[g]?T[g]:[],T[g].push(m["@value"]||"");continue}let _=m["@language"];T[_]=T[_]?T[_]:[],T[_].push(m["@value"]||"")}return T}function removePrefix(m){for(let g of["sc","oa","dcterms","dctypes","iiif"])if(m.startsWith(`${g}:`))return m.slice(g.length+1);return m}let tT=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function getNewType(m){let g=m["@id"]||m.id,_=m["@type"]||m.type,T=m.profile||void 0,A=m["@context"]||void 0;if(T){let m=function(m){switch(m){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(T);if(m)return m}if(A){let m=function(m){let g=Array.isArray(m)?m:[m];for(let m of g)switch(m){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(A);if(m)return m}if(_){if(Array.isArray(_)){if(-1!==_.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==_.indexOf("cnt:ContentAsText"))return"TextualBody";_=_[0]}for(let m of["sc","oa","dcterms","dctypes","iiif"])if(_.startsWith(`${m}:`)){_=_.slice(m.length+1);break}switch(_){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(_&&-1!==tT.indexOf(_))return _;if(m.format){if(m.format.startsWith("image/"))return"Image";if(m.format.startsWith("text/")||"application/pdf"===m.format)return"Text";if(m.format.startsWith("application/"))return"Dataset"}return g&&(g.endsWith(".jpg")||g.endsWith(".png")||g.endsWith(".jpeg"))?"Image":_||"unknown"}let tA=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,ty=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"];function removeUndefinedProperties(m){for(let g in m)(void 0===m[g]||null===m[g])&&delete m[g];return m}let tk=0;function mintNewIdFromResource(m,g){let _=encodeURI(m.id||m["@id"]||"").trim();return _&&g?`${_}/${g}`:_||(tk++,`http://example.org/${m["@type"]}${g?`/${g}`:""}/${tk}`)}function technicalProperties$2(m){let g;let _=[...m.behavior||[]];return m.viewingHint&&_.push(m.viewingHint),Array.isArray(m.motivation)?g=m.motivation.map(removePrefix):m.motivation&&(g=removePrefix(m.motivation)),{"@context":m["@context"]?function(m){if(m){let g=Array.isArray(m)?m:[m],_=[];for(let m of g)"http://iiif.io/api/presentation/2/context.json"===m&&_.push("http://iiif.io/api/presentation/3/context.json"),-1===ty.indexOf(m)&&_.push(m);if(g.length)return 1===_.length?_[0]:_}}(m["@context"]):void 0,id:(m["@id"]||mintNewIdFromResource(m)).trim(),type:getNewType(m),behavior:_.length?_:void 0,height:m.height?m.height:void 0,width:m.width?m.width:void 0,motivation:g,viewingDirection:m.viewingDirection,profile:m.profile,format:m.format?m.format:void 0,duration:void 0,timeMode:void 0}}function descriptiveProperties$2(m){var g;let[_,T]=function(m,g="Rights/License",_="none"){let T=null,A=[],k=Array.isArray(m)?m:[m];for(let m of k){let k=m?function(m){let g=m.match(tA);return g?g[0]:m}(m):void 0;if(k&&(-1!==k.indexOf("creativecommons.org")||-1!==k.indexOf("rightsstatements.org"))){T=k.startsWith("https://")?`http://${k.slice(8)}`:k;continue}k&&A.push({label:{[_]:[g]},value:{[_]:[k]}})}return[T,A]}(m.license),A=[...m.metadata&&(g=m.metadata)?g.map(m=>({label:convertLanguageMapping(m.label),value:convertLanguageMapping(m.value)})):[],...T];return{rights:_,metadata:A.length?A:void 0,label:m.label?convertLanguageMapping(m.label):void 0,requiredStatement:m.attribution?{label:convertLanguageMapping(tE.attributionLabel),value:convertLanguageMapping(m.attribution)}:void 0,navDate:m.navDate,summary:m.description?convertLanguageMapping(m.description):void 0,thumbnail:m.thumbnail}}function linkingProperties$2(m){let g=m.related?Array.isArray(m.related)?m.related:[m.related]:[],_=m.contentLayer;return{provider:m.logo||g.length?[{id:tE.providerId,type:"Agent",homepage:g.length?[g[0]]:void 0,logo:m.logo?Array.isArray(m.logo)?m.logo:[m.logo]:void 0,label:convertLanguageMapping(tE.providerName)}]:void 0,partOf:function(m){if(!m.within)return;let g=Array.isArray(m.within)?m.within:[m.within],_=[];for(let T of g)"string"==typeof T?T&&"sc:Manifest"===m["@type"]&&_.push({id:T,type:"Collection"}):T["@id"]&&_.push({id:T["@id"],type:getNewType(T)});return _.length?_:void 0}(m),rendering:m.rendering,seeAlso:m.seeAlso,start:m.startCanvas,service:m.service?ensureArray$1(m.service):void 0,supplementary:_?[_]:void 0}}function upgradeContentResource(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),chars:m.chars,format:m.format?m.format:void 0,language:m.language})}let tv=new Traverse({collection:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),items:m.members})}],manifest:[function(m){let g=[],_=[];for(let T of m.sequences||[])T.canvases.length&&g.push(...T.canvases),T.behavior&&_.push(...T.behavior);let T=technicalProperties$2(m);return _.length&&(T.behavior?T.behavior.push(..._):T.behavior=_),removeUndefinedProperties({...T,...descriptiveProperties$2(m),...linkingProperties$2(m),items:g,structures:m.structures})}],canvas:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),annotations:m.otherContent&&m.otherContent.length?m.otherContent:void 0,items:m.images&&m.images.length?[{id:mintNewIdFromResource(m,"annotation-page"),type:"AnnotationPage",items:m.images}]:void 0})}],annotationList:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),items:m.resources&&m.resources.length?m.resources:void 0})}],sequence:[function(m){return m.canvases&&0!==m.canvases.length?{canvases:m.canvases,behavior:m.viewingHint?[m.viewingHint]:[]}:{canvases:[],behavior:[]}}],annotation:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),target:function upgradeTarget(m){if(Array.isArray(m)){if(m.length>1)return{type:"List",items:m.map(upgradeTarget)};m=m[0]}if("string"==typeof m)return encodeURI(m).trim();if(!("@type"in m))return encodeURI(m["@id"]).trim();{let g;if("string"==typeof m.full)g=m.full;else if("dctypes:Image"===m.full["@type"])g={id:m.full["@id"],type:"Image"};else if("sc:Canvas"===m.full["@type"])g={id:m.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${m.full["@type"]}`);return{type:"SpecificResource",source:g,selector:function upgradeSelector(m){let g=(Array.isArray(m["@type"])&&m["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==m["@type"])&&("chars"in m||"value"in m);if(g)return{type:"SvgSelector",value:"chars"in m?m.chars:m.value};if("oa:FragmentSelector"===m["@type"])return{type:"FragmentSelector",value:m.value};if("oa:Choice"===m["@type"])return[upgradeSelector(m.default),...(Array.isArray(m.item)?m.item:[m.item]).map(upgradeSelector)];if("iiif:ImageApiSelector"==m["@type"])return{type:"ImageApiSelector",region:"region"in m?m.region:void 0,rotation:"rotation"in m?m.rotation:void 0};throw Error(`Unsupported selector type: ${m["@type"]}`)}(m.selector)}}}(m.on),body:Array.isArray(m.resource)?m.resource.map(upgradeContentResource):upgradeContentResource(m.resource)})}],contentResource:[upgradeContentResource],choice:[function(m){let g=[];return m.default&&"rdf:nil"!==m.default&&g.push(m.default),m.item&&"rdf:nil"!==m.item&&g.push(...m.item),{...technicalProperties$2(m),...descriptiveProperties$2(m),items:g}}],range:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m),items:m.members})}],service:[function(m){let{"@id":g,"@type":_,"@context":T,profile:A,...k}=m,C={};return g&&(C["@id"]=g),C["@type"]=getNewType(m),"unknown"===C["@type"]&&(T&&T.length&&(C["@context"]=T),C["@type"]="Service"),A&&(C.profile=function getProfile(m){return Array.isArray(m)?getProfile(m.find(m=>"string"==typeof m)):-1!==t_.indexOf(m)?"level2":-1!==tg.indexOf(m)?"level1":"string"==typeof m?m:void 0}(A)),removeUndefinedProperties({...C,...k})}],layer:[function(m){return removeUndefinedProperties({...technicalProperties$2(m),...descriptiveProperties$2(m),...linkingProperties$2(m)})}]});function getResource(m,g){if("string"==typeof m)return{id:m,type:g};if(!m.id)throw Error(`Invalid resource does not have an ID (${g})`);return m}function addMissingIdToContentResource(m){return g=>"string"==typeof g?{id:g,type:m}:g.id?g.type?g:{type:m,...g}:{id:`vault://${function(m){let g=JSON.stringify(m),_=5381,T=g.length;for(;T;)_=33*_^g.charCodeAt(--T);let A=_>>>0,k=A.toString(16);return k.length%2?"0"+k:k}(g)}`,type:m,...g}}function ensureDefaultFields(m){return g=>({...m,...g})}function ensureArray(m){return Array.isArray(m)?m:[m]}function ensureArrayOnAnnotation(m){return m.body&&(m.body=ensureArray(m.body)),m.seeAlso&&(m.seeAlso=ensureArray(m.seeAlso)),m.body&&(m.body=ensureArray(m.body)),m.audience&&(m.audience=ensureArray(m.audience)),m.accessibility&&(m.accessibility=ensureArray(m.accessibility)),m.motivation&&(m.motivation=ensureArray(m.motivation)),m}let tb="__$UNSET$__",tx="__$UNWRAP$__";function languageString2to3(m){if(!m)return;let g=Object.keys(m);if(0!==g.length){if(1===g.length){let _=g[0];if(!_)return"";let T=(m[_]||[]).join("");return"@none"===_||"none"===_||"en"===_?T:{"@language":_,"@value":T}}return g.map(g=>({"@language":g,"@value":(m[g]||[]).join("")}))}}function unNestArray(m,g=!1){return m?m.length>1&&!g?m:m[0]||void 0:void 0}function convertService(m){if(m){if("string"==typeof m)return{"@id":m};if("@id"in m){let g={...m};return delete g["@type"],g}return{"@context":"http://iiif.io/api/image/2/context.json","@id":m.id,profile:`http://iiif.io/api/image/2/profiles/${m.profile}.json`}}}function technicalProperties$1(m,g){return[["@id",m.id],["@type",g],["format",m.format],["height",m.height],["width",m.width],["viewingDirection","left-to-right"!==m.viewingDirection?m.viewingDirection:void 0]]}function*descriptiveProperties$1(m){let g=m.provider?yield m.provider[0]:void 0;return[["label",languageString2to3(m.label)],["metadata",m.metadata&&m.metadata.length?m.metadata.map(m=>({label:languageString2to3(m.label)||"",value:languageString2to3(m.value)||""})):void 0],["description",languageString2to3(m.summary)],["thumbnail",unNestArray((yield m.thumbnail))],["navDate",m.navDate],["logo",g?unNestArray(g.logo):void 0],["homepage",g?g.homepage:void 0],["attribution",m.requiredStatement?languageString2to3(m.requiredStatement.value):void 0]]}function*linkingProperties$1(m){return[["seeAlso",unNestArray((yield m.seeAlso))],["service",unNestArray((m.service||[]).map(convertService))],["rendering",unNestArray((yield m.rendering))],["startCanvas",m.start?m.start.id:void 0]]}let tC={Manifest:function*(m){return[...technicalProperties$1(m,"sc:Manifest"),...yield*descriptiveProperties$1(m),...yield*linkingProperties$1(m),["sequences",[{"@id":`${m.id}/sequence0`,"@type":"sc:Sequence",canvases:yield m.items}]],["structures",(yield m.structures)]]},Canvas:function*(m){let g=yield m.items,_=g[0];return[...technicalProperties$1(m,"sc:Canvas"),...yield*descriptiveProperties$1(m),...yield*linkingProperties$1(m),["images",_?[_.resources]:void 0],["annotations",m.annotations&&m.annotations.length?unNestArray((yield m.annotations)):void 0]]},AnnotationPage:function*(m){return[...technicalProperties$1(m,"sc:AnnotationList"),...yield*descriptiveProperties$1(m),["resources",m.items&&m.items.length?unNestArray((yield m.items)):void 0]]},Annotation:function*(m){return[["@id",m.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function parseCanvasTarget(m){return Array.isArray(m)?m.map(m=>parseCanvasTarget(m)):"string"==typeof m?m:m.type&&"Canvas"===m.type?m.id:m}(m.target)],["resource",unNestArray((yield m.body),!0)]]},ContentResource:function*(m){return"Image"===m.type?[...technicalProperties$1(m,"dctypes:Image"),...yield*descriptiveProperties$1(m),...yield*linkingProperties$1(m)]:[...technicalProperties$1(m,void 0),...yield*descriptiveProperties$1(m)]},AnnotationCollection:function*(m){return[["@id",m.id],["@type","sc:Layer"],["label",languageString2to3(m.label)]]},Collection:function*(m){return[...technicalProperties$1(m,"sc:Collection"),...yield*descriptiveProperties$1(m),...yield*linkingProperties$1(m),["members",(yield*m.items)]]},Range:function*(m){let g=[],_=[];if(m.items)for(let T of m.items){let A=yield T;g.push({"@id":T.id,"@type":T.type,label:A?A.label:void 0,within:m.id}),"Canvas"===T.type&&_.push(T.id)}return[...technicalProperties$1(m,"sc:Range"),...yield*descriptiveProperties$1(m),...yield*linkingProperties$1(m),["canvases",_.length===g.length?_:void 0],["members",_.length!==g.length?g:void 0]]}};function technicalProperties(m){var g;return[["id",(null==(g=m.id)?void 0:g.startsWith("vault://"))?void 0:m.id],["type",m.type],["format",m.format],["profile",m.profile],["height",m.height],["width",m.width],["duration",m.duration||void 0],["viewingDirection","left-to-right"!==m.viewingDirection?m.viewingDirection:void 0],["behavior",m.behavior&&m.behavior.length?m.behavior:void 0],["timeMode",m.timeMode],["motivation",Array.isArray(m.motivation)?m.motivation[0]:m.motivation]]}function filterEmpty(m){if(m&&0!==m.length)return m}function service2compat(m){if(m&&m.type&&"ImageService2"===m.type){let{id:g,type:_,profile:T,...A}=m,k="string"==typeof T?T:Array.isArray(T)?T.find(m=>"string"==typeof m):"";return{"@id":g,"@type":_,profile:k?k.startsWith("http")?k:`http://iiif.io/api/image/2/${k}.json`:"http://iiif.io/api/image/2/level0.json",...A}}return m}function filterService2Compat(m){if(m&&0!==m.length)return m.map(service2compat)}function*descriptiveProperties(m){return[["label",m.label],["metadata",filterEmpty(m.metadata)],["summary",m.summary],["requiredStatement",m.requiredStatement],["rights",m.rights],["navDate",m.navDate],["language",m.language],["thumbnail",filterEmpty((yield m.thumbnail))],["placeholderCanvas",(yield m.placeholderCanvas)],["accompanyingCanvas",(yield m.accompanyingCanvas)],["provider",filterEmpty((yield m.provider))]]}function*linkingProperties(m){return[["seeAlso",filterEmpty((yield m.seeAlso))],["service",filterService2Compat(m.service)],["services",filterService2Compat(m.services)],["rendering",filterEmpty((yield m.rendering))],["supplementary",filterEmpty((yield m.supplementary))],["homepage",filterEmpty((yield m.homepage))],["logo",filterEmpty((yield m.logo))],["partOf",filterEmpty((yield m.partOf))],["start",m.start]]}let tI={Manifest:function*(m,g,{isTopLevel:_}){return _?[["@context","http://iiif.io/api/presentation/3/context.json"],...technicalProperties(m),...yield*descriptiveProperties(m),...yield*linkingProperties(m),["items",(yield m.items)],["structures",filterEmpty((yield m.structures))],["annotations",filterEmpty((yield m.annotations))]]:[...technicalProperties(m),...yield*descriptiveProperties(m)]},Canvas:function*(m){return[...technicalProperties(m),...yield*descriptiveProperties(m),...yield*linkingProperties(m),["items",(yield m.items)],["annotations",filterEmpty((yield m.annotations))]]},Agent:function*(m){return[["id",m.id],["type","Agent"],["label",m.label],...yield*linkingProperties(m)]},AnnotationPage:function*(m){let g=Object.entries(m).map(([m,g])=>[m,Array.isArray(g)?filterEmpty(g):g]).filter(([m,g])=>"items"!==m);return[...g,...yield*linkingProperties(m),["items",(yield m.items)]]},Service:function*(m){return[[tx,service2compat(m)]]},Annotation:function*(m){let g=Object.entries(m).map(([m,g])=>"motivation"===m?[m,Array.isArray(g)?g[0]:g]:[m,Array.isArray(g)?filterEmpty(g):g]).filter(([m])=>"body"!==m),_=yield m.body;return[...g,["body",1===_.length?_[0]:_]]},ContentResource:function*(m){return[...technicalProperties(m),...yield*descriptiveProperties(m),...yield*linkingProperties(m),["annotations",filterEmpty((yield m.annotations))],["items",filterEmpty((yield m.items))]]},AnnotationCollection:function*(m){return[["id",m.id],["type","AnnotationCollection"],["label",m.label]]},Collection:function*(m,g,{isTopLevel:_}){return _?[["@context","http://iiif.io/api/presentation/3/context.json"],...technicalProperties(m),...yield*descriptiveProperties(m),...yield*linkingProperties(m),["items",filterEmpty((yield m.items))]]:[...technicalProperties(m),...yield*descriptiveProperties(m)]},Range:function*(m){let g=[];for(let _ of m.items)"Range"===_.type?g.push((yield _)):g.push(_);return[...technicalProperties(m),...yield*descriptiveProperties(m),...yield*linkingProperties(m),["items",g],["annotations",filterEmpty((yield m.annotations))]]}};var tS=_(4887);function _typeof(m){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(m)}function ownKeys(m,g){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(g){return Object.getOwnPropertyDescriptor(m,g).enumerable})),_.push.apply(_,T)}return _}function _objectSpread2(m){for(var g=1;g<arguments.length;g++){var _=null!=arguments[g]?arguments[g]:{};g%2?ownKeys(Object(_),!0).forEach(function(g){!function(m,g,_){var T;T=function(m,g){if("object"!==_typeof(m)||null===m)return m;var _=m[Symbol.toPrimitive];if(void 0!==_){var T=_.call(m,g||"default");if("object"!==_typeof(T))return T;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(m)}(g,"string"),(g="symbol"===_typeof(T)?T:String(T))in m?Object.defineProperty(m,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[g]=_}(m,g,_[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(g){Object.defineProperty(m,g,Object.getOwnPropertyDescriptor(_,g))})}return m}function formatProdErrorMessage(m){return"Minified Redux error #"+m+"; visit https://redux.js.org/Errors?code="+m+" for the full message or use the non-minified dev environment for full errors. "}var tw="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},tN={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function combineReducers(m){for(var g,_=Object.keys(m),T={},A=0;A<_.length;A++){var k=_[A];"function"==typeof m[k]&&(T[k]=m[k])}var C=Object.keys(T);try{!function(m){Object.keys(m).forEach(function(g){var _=m[g];if(void 0===_(void 0,{type:tN.INIT}))throw Error(formatProdErrorMessage(12));if(void 0===_(void 0,{type:tN.PROBE_UNKNOWN_ACTION()}))throw Error(formatProdErrorMessage(13))})}(T)}catch(m){g=m}return function(m,_){if(void 0===m&&(m={}),g)throw g;for(var A=!1,k={},S=0;S<C.length;S++){var w=C[S],N=T[w],O=m[w],R=N(O,_);if(void 0===R)throw _&&_.type,Error(formatProdErrorMessage(14));k[w]=R,A=A||R!==O}return(A=A||C.length!==Object.keys(m).length)?k:m}}function compose(){for(var m=arguments.length,g=Array(m),_=0;_<m;_++)g[_]=arguments[_];return 0===g.length?function(m){return m}:1===g.length?g[0]:g.reduce(function(m,g){return function(){return m(g.apply(void 0,arguments))}})}function applyMiddleware(){for(var m=arguments.length,g=Array(m),_=0;_<m;_++)g[_]=arguments[_];return function(m){return function(){var _=m.apply(void 0,arguments),_dispatch=function(){throw Error(formatProdErrorMessage(15))},T={getState:_.getState,dispatch:function(){return _dispatch.apply(void 0,arguments)}},A=g.map(function(m){return m(T)});return _dispatch=compose.apply(void 0,A)(_.dispatch),_objectSpread2(_objectSpread2({},_),{},{dispatch:_dispatch})}}}let tO="@iiif/IMPORT_ENTITIES",tR="@iiif/MODIFY_ENTITY_FIELD",tD="@iiif/REORDER_ENTITY_FIELD",tL="@iiif/ADD_REFERENCE",tP="@iiif/REMOVE_REFERENCE",tM=(0,tS.createAction)(tO)(),tF=(0,tS.createAction)(tR)(),tB=(0,tS.createAction)(tD)(),tH=(0,tS.createAction)(tL)(),tU=(0,tS.createAction)(tP)(),tz={importEntities:tM,modifyEntityField:tF,reorderEntityField:tB,addReference:tH,removeReference:tU},tG="@iiif/ADD_MAPPING",tj="@iiif/ADD_MAPPINGS",t$=(0,tS.createAction)(tG)(),tq=(0,tS.createAction)(tj)(),tV="@iiif/SET_META_VALUE",tY="@iiif/SET_META_VALUE_DYNAMIC",tW="@iiif/UNSET_META_VALUE",tQ=(0,tS.createAction)(tV)(),tX=(0,tS.createAction)(tY)(),tK=(0,tS.createAction)(tW)(),tZ={setMetaValue:tQ,setMetaValueDynamic:tX,unsetMetaValue:tK},tJ="RESOURCE_ERROR",t0="RESOURCE_LOADING",t1="RESOURCE_READY",t2="@iiif/REQUEST_RESOURCE",t3="@iiif/REQUEST_ERROR",t4="@iiif/REQUEST_MISMATCH",t5="@iiif/REQUEST_COMPLETE",t6="@iiif/REQUEST_OFFLINE_RESOURCE",t8=(0,tS.createAction)(t2)(),t9=(0,tS.createAction)(t3)(),t7=(0,tS.createAction)(t4)(),ne=(0,tS.createAction)(t5)();(0,tS.createAction)(t6)();let nt="@iiif/BATCH",nn="@iiif/BATCH_IMPORT",nr=(0,tS.createAction)(nt)();(0,tS.createAction)(nn)();let actionListFromResource=(m,g)=>{let{entities:_,resource:T,mapping:A}=function(m){let g=m&&m["@context"]&&("http://iiif.io/api/presentation/2/context.json"===m["@context"]||-1!==m["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===m["@context"])||"http://iiif.io/api/image/2/context.json"===m["@context"]?tv.traverseUnknown(m):m,_={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},T={},addToEntities=(m,g)=>{let T=_[m]?_[m]:{};return _=>{let A=getResource(_,g||m);return A&&A.id&&m?(T[A.id]=T[A.id]?function(m,g){if("string"==typeof m)return m;if(g.id!==m.id||g.type!==m.type)throw Error("Can only merge entities with identical identifiers and type!");return function merge(m,g){if(!g)return m;if(Array.isArray(m)){if(!Array.isArray(g))throw Error("Cannot merge array with non-array");let _=[...m];for(let T of g)if(null!=T){if(Array.isArray(T))_.push(T);else if("object"==typeof T&&T.id&&T.type){let m=_.findIndex(m=>m.id===T.id&&m.type===T.type);m>=0&&(_[m]=merge(_[m],T))}else -1===m.indexOf(T)&&_.push(T)}return _}if("object"==typeof m){if(Array.isArray(g)||"object"!=typeof g)throw Error("Cannot merge object with non-object");let _={...m};for(let[m,T]of Object.entries(g)){let g=_[m];g!==eX&&g?_[m]=merge(g,T):_[m]=T}return _}return m||g}({...m},g)}(T[A.id],A):Object.assign({},A),{id:A.id,type:"ContentResource"===m?m:A.type}):A}},addToMapping=(m,g)=>_=>{let{id:A,type:k}=getResource(_,g||m);if(void 0===A)throw Error("Found invalid entity without an ID.");return"ContentResource"===m?T[A]=m:T[A]=k,_},A=new Traverse$1({collection:[ensureDefaultFields(eJ),addToMapping("Collection"),addToEntities("Collection")],manifest:[ensureDefaultFields(e0),addToMapping("Manifest"),addToEntities("Manifest")],canvas:[ensureDefaultFields(eZ),addToMapping("Canvas"),addToEntities("Canvas")],annotationPage:[addMissingIdToContentResource("AnnotationPage"),ensureDefaultFields(eK),addToMapping("AnnotationPage"),addToEntities("AnnotationPage")],annotation:[addMissingIdToContentResource("Annotation"),ensureArrayOnAnnotation,addToMapping("Annotation"),addToEntities("Annotation")],contentResource:[addMissingIdToContentResource("ContentResource"),addToMapping("ContentResource"),addToEntities("ContentResource")],range:[ensureDefaultFields(e1),addToMapping("Range","Canvas"),addToEntities("Range","Canvas")],agent:[ensureDefaultFields(e2),addToMapping("Agent"),addToEntities("Agent")]}),k=A.traverseUnknown(g);return{entities:_,resource:k,mapping:T}}(g);if(void 0===T.id)return[t9({id:m,message:"ID is not defined in resource."})];let k=[tM({entities:_}),tq({mapping:A})];return T.id!==m&&(k.push(t$({id:m,type:T.type})),k.push(t7({requestId:m,actualId:T.id}))),k.push(ne({id:m})),k},ni=Number.isNaN||function(m){return"number"==typeof m&&m!=m};function areInputsEqual(m,g){if(!Array.isArray(m)||!Array.isArray(g))return m===g;if(m.length!==g.length)return!1;for(let A=0;A<m.length;A++){var _,T;if(!((_=m[A])===(T=g[A])||ni(_)&&ni(T)))return!1}return!0}function esm_resolveIfExists(m,g){let _=m.iiif.requests[g],T=m.iiif.mapping[g];if(T&&m.iiif.entities[T][_.resourceUri])return m.iiif.entities[T][_.resourceUri]}function createFetchHelper(m,g,{waitTimeout:_=30}={}){return async(T,A)=>{let k=m.getState(),C=k.iiif.requests[T];if(C)switch(C.loadingState){case tJ:break;case t0:{let g;let A=!1;try{let k=await Promise.race([new Promise((_,k)=>{A||(g=m.subscribe(()=>{let g=m.getState();if(g.iiif.requests[T].loadingState===tJ){k();return}if(g.iiif.requests[T].loadingState===t1){let m=esm_resolveIfExists(g,T);m?_(m):k()}}))}),new Promise((m,g)=>setTimeout(()=>{A=!0,g()},60*_))]);if(g&&g(),k)return k}catch(m){g&&g()}break}case t1:{let m=esm_resolveIfExists(k,T);if(m)return m}}m.dispatch(t8({id:T}));try{let _=await g(T,A);_.id||_["@id"]||(_["@type"]&&(_["@id"]=T),_.id=T);let k=actionListFromResource(T,_);return m.dispatch(nr({actions:k})),esm_resolveIfExists(m.getState(),T)}catch(g){throw m.dispatch(t9({id:T,message:g.toString()})),g}}}function esm_getDefaultEntities(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function isReferenceList(m,g,_,T){return!(!m[_]||!m[_][g]||!m[_][g][T]||!Array.isArray(m[_][g][T]))}let na=combineReducers({mapping:(m={},g)=>{switch(g.type){case tG:return{...m,[g.payload.id]:g.payload.type};case tj:return{...m,...g.payload.mapping};default:return m}},entities:(m=esm_getDefaultEntities(),g)=>{switch(g.type){case tR:{if(!m[g.payload.type]||!m[g.payload.type][g.payload.id])return m;let _=m[g.payload.type][g.payload.id];if("string"==typeof _)return m;return{...m,[g.payload.type]:{...m[g.payload.type],[g.payload.id]:{..._,[g.payload.key]:g.payload.value}}}}case tD:{if(!isReferenceList(m,g.payload.id,g.payload.type,g.payload.key))return m;let _=m[g.payload.type][g.payload.id];if("string"==typeof _)return m;let T=Array.from(_[g.payload.key]),[A]=T.splice(g.payload.startIndex,1);return T.splice(g.payload.endIndex,0,A),{...m,[g.payload.type]:{...m[g.payload.type],[g.payload.id]:{..._,[g.payload.key]:T}}}}case tO:{let _=Object.keys(g.payload.entities),T={...m};for(let A of _){let _=g.payload.entities[A],k={...m[A]||{}},C=!1,S=Object.keys(_||{})||[];if(_&&S){for(let g of S)C=!0,k[g]=m[A][g]?function(m,g){let _={},T=[];for(let[A,k]of Object.entries(m||{})){T.push(A);let m=(g||{})[A];if(!m||0===m.length){_[A]=k;continue}_[A]=m}for(let[m,A]of Object.entries(g||{}))-1===T.indexOf(m)&&(_[m]=A);return _}(m[A][g],_[g]):_[g];C&&(T[A]=k)}}return T}case tL:{if(!isReferenceList(m,g.payload.id,g.payload.type,g.payload.key))return m;let _=m[g.payload.type][g.payload.id],T=Array.from(_[g.payload.key]);return T.splice(g.payload.index||T.length+1,0,g.payload.reference),{...m,[g.payload.type]:{...m[g.payload.type],[g.payload.id]:{..._,[g.payload.key]:T}}}}case tP:{if(!isReferenceList(m,g.payload.id,g.payload.type,g.payload.key))return m;let _=m[g.payload.type][g.payload.id],T=Array.from(_[g.payload.key]),A=g.payload.index||T.findIndex(m=>m&&m.id===g.payload.reference.id);if(-1===A||T[A]?.id!==g.payload.reference.id)return m;return T.splice(A,1),{...m,[g.payload.type]:{...m[g.payload.type],[g.payload.id]:{..._,[g.payload.key]:T}}}}default:return m}},requests:(m={},g)=>{switch(g.type){case t2:case t6:return{...m,[g.payload.id]:{requestUri:g.payload.id,loadingState:t0,uriMismatch:!1,resourceUri:g.payload.id}};case t4:return{...m,[g.payload.requestId]:{...m[g.payload.requestId]||{},uriMismatch:!0,resourceUri:g.payload.actualId},[g.payload.actualId]:{requestUri:g.payload.requestId,loadingState:m[g.payload.requestId].loadingState,uriMismatch:!0,resourceUri:g.payload.actualId}};case t3:return{...m,[g.payload.id]:{...m[g.payload.id]||{},loadingState:tJ,error:g.payload.message}};case t5:return{...m,[g.payload.id]:{...m[g.payload.id]||{},loadingState:t1,error:void 0}}}return m},meta:(m={},g)=>{let{id:_,updateValue:T,value:A,meta:k,key:C}=g&&g.payload||{};switch(g.type){case tV:return{...m,[_]:{...m[_]||{},[k]:{...m[_]&&m[_][k]||{},[C]:A}}};case tY:return{...m,[_]:{...m[_]||{},[k]:{...m[_]&&m[_][k]||{},[C]:T(m[_]&&m[_][k]?m[_][k][C]:void 0)}}};case tW:if(m[_]&&m[_][k]&&m[_][k][C])return{...m,[_]:{...m[_]||{},[k]:{...m[_]&&m[_][k]||{},[C]:void 0}}};return m;default:return m}}}),no="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;let Vault=class Vault{options;store;emitter;isBatching=!1;batchQueue=[];remoteFetcher;staticFetcher;constructor(m,g){var _;this.options=Object.assign({reducers:{},middleware:[],defaultState:{},customFetcher:this.defaultFetcher,enableDevtools:!0},m||{}),this.store=g||function(m={}){let{enableDevtools:g=!0,iiifStoreName:_="iiif",defaultState:T={},extraMiddleware:A=[],customReducers:k={}}=m,C=combineReducers({[_]:na,...k}),S=function createStore(m,g,_){if("function"==typeof g&&"function"==typeof _||"function"==typeof _&&"function"==typeof arguments[3])throw Error(formatProdErrorMessage(0));if("function"==typeof g&&void 0===_&&(_=g,g=void 0),void 0!==_){if("function"!=typeof _)throw Error(formatProdErrorMessage(1));return _(createStore)(m,g)}if("function"!=typeof m)throw Error(formatProdErrorMessage(2));var T,A=m,k=g,C=[],S=C,w=!1;function ensureCanMutateNextListeners(){S===C&&(S=C.slice())}function getState(){if(w)throw Error(formatProdErrorMessage(3));return k}function subscribe(m){if("function"!=typeof m)throw Error(formatProdErrorMessage(4));if(w)throw Error(formatProdErrorMessage(5));var g=!0;return ensureCanMutateNextListeners(),S.push(m),function(){if(g){if(w)throw Error(formatProdErrorMessage(6));g=!1,ensureCanMutateNextListeners();var _=S.indexOf(m);S.splice(_,1),C=null}}}function dispatch(m){if(!function(m){if("object"!=typeof m||null===m)return!1;for(var g=m;null!==Object.getPrototypeOf(g);)g=Object.getPrototypeOf(g);return Object.getPrototypeOf(m)===g}(m))throw Error(formatProdErrorMessage(7));if(void 0===m.type)throw Error(formatProdErrorMessage(8));if(w)throw Error(formatProdErrorMessage(9));try{w=!0,k=A(k,m)}finally{w=!1}for(var g=C=S,_=0;_<g.length;_++)(0,g[_])();return m}return dispatch({type:tN.INIT}),(T={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(m){if("function"!=typeof m)throw Error(formatProdErrorMessage(10));A=m,dispatch({type:tN.REPLACE})}})[tw]=function(){var m;return(m={subscribe:function(m){if("object"!=typeof m||null===m)throw Error(formatProdErrorMessage(11));function observeState(){m.next&&m.next(getState())}return observeState(),{unsubscribe:subscribe(observeState)}}})[tw]=function(){return this},m},T}((m,g)=>g&&g.type===nt?g.payload.actions.reduce(C,m):g&&g.type===nn?g.payload.state:C(m,g),T,g?no(applyMiddleware(...A)):compose(applyMiddleware(...A)));return S}({customReducers:this.options.reducers,extraMiddleware:[...this.options.middleware,this.middleware],defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:_=_||new Map,on:function(m,g){var T=_.get(m);T?T.push(g):_.set(m,[g])},off:function(m,g){var T=_.get(m);T&&(g?T.splice(T.indexOf(g)>>>0,1):_.set(m,[]))},emit:function(m,g){var T=_.get(m);T&&T.slice().map(function(m){m(g)}),(T=_.get("*"))&&T.slice().map(function(_){_(m,g)})}},this.remoteFetcher=createFetchHelper(this.store,this.options.customFetcher),this.staticFetcher=createFetchHelper(this.store,(m,g)=>g)}defaultFetcher=m=>fetch(m).then(m=>m.json());batch(m){this.isBatching=!0;try{m(this),this.store.dispatch(nr({actions:this.batchQueue}))}catch(m){throw this.batchQueue=[],this.isBatching=!1,m}this.batchQueue=[],this.isBatching=!1}async asyncBatch(m){this.isBatching=!0;try{await m(this),this.store.dispatch(nr({actions:this.batchQueue}))}catch(m){throw this.batchQueue=[],this.isBatching=!1,m}this.batchQueue=[],this.isBatching=!1}modifyEntityField(m,g,_){this.dispatch(tz.modifyEntityField({id:m.id,type:m.type,key:g,value:_}))}dispatch(m){this.isBatching?this.batchQueue.push(m):this.store.dispatch(m)}middleware=m=>g=>_=>{if(_.type===nt){for(let g of _.payload.actions)this.emitter.emit(g.type,{realAction:g,state:m.getState()});let T=g(_);for(let m of _.payload.actions)this.emitter.emit(`after:${_.type}`,{action:_,state:T});return T}this.emitter.emit(_.type,{action:_,state:m.getState()});let T=g(_);return this.emitter.emit(`after:${_.type}`,{action:_,state:T}),T};serialize(m,g){return function(m,g,_){if(!g.type||!g.id)throw Error("Unknown entity");if(!_[g.type])throw Error(`Serializer not found for ${g.type}`);return function flatten(T){let A=_[T.type];if(!A)return tb;let k=function(m,g){let _=m.requests[g],T=m.mapping[g];if(T&&(!_||!_.resourceUri||m.entities[T][_.resourceUri]))return m.entities[T][_?_.resourceUri:g]}(m,T.id)||(T.id&&T.type?T:null);if(!k)return tb;let C=A(k,m,{isTopLevel:g.id===T.id}),S=C.next();for(;!S.done;){let m=S.value,g=tb;if(m){if(Array.isArray(m)){let _=[];for(let g of m)_.push(flatten(g));g=_}else g=flatten(m)}S=C.next(g)}return S.value===tb?tb:function(m){let g={};for(let[_,T]of m){if(_===tx&&T!==tb)return T;T!==tb&&null!=T&&(g[_]=T)}return g}(S.value)}(g)}(this.getState().iiif,m,g)}toPresentation2(m){return this.serialize(m,tC)}toPresentation3(m){return this.serialize(m,tI)}hydrate(m,g){return this.get(m,g,{skipSelfReturn:!1})}get(m,g,_={}){"string"!=typeof g&&(_=g||{},g=void 0);let{skipSelfReturn:T=!0}=_||{};if(Array.isArray(m))return m.map(m=>this.get(m,_));let A=this.getState();if("string"==typeof m){let _=g||A.iiif.mapping[m];if(!_)return T?null:{id:m,type:"unknown"};m={id:m,type:_}}let k=g||m.type,C=m.id,S=A.iiif.entities[k];if(!S){let g=A.iiif.requests[C];return g&&g.resourceUri!==C?this.get(g.resourceUri,_):T?null:m}return S[m.id]||(T?null:m)}select(m){return m(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}loadManifest(m,g){let _="string"==typeof m?m:m.id;return this.load(_,g)}loadCollection(m,g){let _="string"==typeof m?m:m.id;return this.load(_,g)}load(m,g){let _="string"==typeof m?m:m.id;return g?this.staticFetcher(_,g):this.remoteFetcher(_)}areInputsEqual(m,g){return areInputsEqual(m,g)}subscribe(m,g,_){void 0===_&&(void 0===g||!1===g||!0===g)&&(_=g,g=m,m=m=>m);let T=_?null:m(this.store.getState());return _||g(T,this),this.store.subscribe(()=>{let _=this.store.getState(),A=m(_);T===A||areInputsEqual(T,A)||g(A,this),T=A})}async ensureLoaded(m){let g="string"==typeof m?m:m.id;this.requestStatus(g)||await this.load(g)}requestStatus(m){return this.select(g=>g.iiif.requests[m])}getResourceMeta(m,g){let _=this.getState().iiif.meta[m];return _?g?_[g]:_:void 0}setMetaValue([m,g,_],T){this.dispatch("function"==typeof T?tZ.setMetaValueDynamic({id:m,meta:g,key:_,updateValue:T}):tZ.setMetaValue({id:m,meta:g,key:_,value:T}))}};var ns=_(1036),nl=_(3041);let nc="object"==typeof self?self:globalThis,deserializer=(m,g)=>{let as=(g,_)=>(m.set(_,g),g),unpair=_=>{if(m.has(_))return m.get(_);let[T,A]=g[_];switch(T){case 0:case -1:return as(A,_);case 1:{let m=as([],_);for(let g of A)m.push(unpair(g));return m}case 2:{let m=as({},_);for(let[g,_]of A)m[unpair(g)]=unpair(_);return m}case 3:return as(new Date(A),_);case 4:{let{source:m,flags:g}=A;return as(new RegExp(m,g),_)}case 5:{let m=as(new Map,_);for(let[g,_]of A)m.set(unpair(g),unpair(_));return m}case 6:{let m=as(new Set,_);for(let g of A)m.add(unpair(g));return m}case 7:{let{name:m,message:g}=A;return as(new nc[m](g),_)}case 8:return as(BigInt(A),_);case"BigInt":return as(Object(BigInt(A)),_)}return as(new nc[T](A),_)};return unpair},deserialize=m=>deserializer(new Map,m)(0),{toString:nu}={},{keys:nd}=Object,typeOf=m=>{let g=typeof m;if("object"!==g||!m)return[0,g];let _=nu.call(m).slice(8,-1);switch(_){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return _.includes("Array")?[1,_]:_.includes("Error")?[7,_]:[2,_]},shouldSkip=([m,g])=>0===m&&("function"===g||"symbol"===g),serializer=(m,g,_,T)=>{let as=(m,g)=>{let A=T.push(m)-1;return _.set(g,A),A},pair=T=>{if(_.has(T))return _.get(T);let[A,k]=typeOf(T);switch(A){case 0:{let g=T;switch(k){case"bigint":A=8,g=T.toString();break;case"function":case"symbol":if(m)throw TypeError("unable to serialize "+k);g=null;break;case"undefined":return as([-1],T)}return as([A,g],T)}case 1:{if(k)return as([k,[...T]],T);let m=[],g=as([A,m],T);for(let g of T)m.push(pair(g));return g}case 2:{if(k)switch(k){case"BigInt":return as([k,T.toString()],T);case"Boolean":case"Number":case"String":return as([k,T.valueOf()],T)}if(g&&"toJSON"in T)return pair(T.toJSON());let _=[],C=as([A,_],T);for(let g of nd(T))(m||!shouldSkip(typeOf(T[g])))&&_.push([pair(g),pair(T[g])]);return C}case 3:return as([A,T.toISOString()],T);case 4:{let{source:m,flags:g}=T;return as([A,{source:m,flags:g}],T)}case 5:{let g=[],_=as([A,g],T);for(let[_,A]of T)(m||!(shouldSkip(typeOf(_))||shouldSkip(typeOf(A))))&&g.push([pair(_),pair(A)]);return _}case 6:{let g=[],_=as([A,g],T);for(let _ of T)(m||!shouldSkip(typeOf(_)))&&g.push(pair(_));return _}}let{message:C}=T;return as([A,{name:k,message:C}],T)};return pair},serialize_serialize=(m,{json:g,lossy:_}={})=>{let T=[];return serializer(!(g||_),!!g,new Map,T)(m),T};var nm="function"==typeof structuredClone?(m,g)=>g&&("json"in g||"lossy"in g)?deserialize(serialize_serialize(m,g)):structuredClone(m):(m,g)=>deserialize(serialize_serialize(m,g));let Schema=class Schema{constructor(m,g,_){this.property=m,this.normal=g,_&&(this.space=_)}};function merge_merge(m,g){let _={},T={},A=-1;for(;++A<m.length;)Object.assign(_,m[A].property),Object.assign(T,m[A].normal);return new Schema(_,T,g)}function normalize_normalize(m){return m.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(m,g){this.property=m,this.attribute=g}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let nh=0,np=increment(),nf=increment(),ng=increment(),n_=increment(),nE=increment(),nT=increment(),nA=increment();function increment(){return 2**++nh}let ny=Object.keys(ev);let DefinedInfo=class DefinedInfo extends Info{constructor(m,g,_,T){var A,k;let C=-1;if(super(m,g),T&&(this.space=T),"number"==typeof _)for(;++C<ny.length;){let m=ny[C];A=ny[C],(k=(_&ev[m])===ev[m])&&(this[A]=k)}}};DefinedInfo.prototype.defined=!0;let nk={}.hasOwnProperty;function create(m){let g;let _={},T={};for(g in m.properties)if(nk.call(m.properties,g)){let A=m.properties[g],k=new DefinedInfo(g,m.transform(m.attributes||{},g),A,m.space);m.mustUseProperty&&m.mustUseProperty.includes(g)&&(k.mustUseProperty=!0),_[g]=k,T[normalize_normalize(g)]=g,T[normalize_normalize(k.attribute)]=g}return new Schema(_,T,m.space)}let nv=create({space:"xlink",transform:(m,g)=>"xlink:"+g.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),nb=create({space:"xml",transform:(m,g)=>"xml:"+g.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(m,g){return g in m?m[g]:g}function caseInsensitiveTransform(m,g){return caseSensitiveTransform(m,g.toLowerCase())}let nx=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),nC=create({transform:(m,g)=>"role"===g?g:"aria-"+g.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:nf,ariaAutoComplete:null,ariaBusy:nf,ariaChecked:nf,ariaColCount:n_,ariaColIndex:n_,ariaColSpan:n_,ariaControls:nE,ariaCurrent:null,ariaDescribedBy:nE,ariaDetails:null,ariaDisabled:nf,ariaDropEffect:nE,ariaErrorMessage:null,ariaExpanded:nf,ariaFlowTo:nE,ariaGrabbed:nf,ariaHasPopup:null,ariaHidden:nf,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nE,ariaLevel:n_,ariaLive:null,ariaModal:nf,ariaMultiLine:nf,ariaMultiSelectable:nf,ariaOrientation:null,ariaOwns:nE,ariaPlaceholder:null,ariaPosInSet:n_,ariaPressed:nf,ariaReadOnly:nf,ariaRelevant:null,ariaRequired:nf,ariaRoleDescription:nE,ariaRowCount:n_,ariaRowIndex:n_,ariaRowSpan:n_,ariaSelected:nf,ariaSetSize:n_,ariaSort:null,ariaValueMax:n_,ariaValueMin:n_,ariaValueNow:n_,ariaValueText:null,role:null}}),nI=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nT,acceptCharset:nE,accessKey:nE,action:null,allow:null,allowFullScreen:np,allowPaymentRequest:np,allowUserMedia:np,alt:null,as:null,async:np,autoCapitalize:null,autoComplete:nE,autoFocus:np,autoPlay:np,blocking:nE,capture:np,charSet:null,checked:np,cite:null,className:nE,cols:n_,colSpan:null,content:null,contentEditable:nf,controls:np,controlsList:nE,coords:n_|nT,crossOrigin:null,data:null,dateTime:null,decoding:null,default:np,defer:np,dir:null,dirName:null,disabled:np,download:ng,draggable:nf,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:np,formTarget:null,headers:nE,height:n_,hidden:np,high:n_,href:null,hrefLang:null,htmlFor:nE,httpEquiv:nE,id:null,imageSizes:null,imageSrcSet:null,inert:np,inputMode:null,integrity:null,is:null,isMap:np,itemId:null,itemProp:nE,itemRef:nE,itemScope:np,itemType:nE,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:np,low:n_,manifest:null,max:null,maxLength:n_,media:null,method:null,min:null,minLength:n_,multiple:np,muted:np,name:null,nonce:null,noModule:np,noValidate:np,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:np,optimum:n_,pattern:null,ping:nE,placeholder:null,playsInline:np,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:np,referrerPolicy:null,rel:nE,required:np,reversed:np,rows:n_,rowSpan:n_,sandbox:nE,scope:null,scoped:np,seamless:np,selected:np,shape:null,size:n_,sizes:null,slot:null,span:n_,spellCheck:nf,src:null,srcDoc:null,srcLang:null,srcSet:null,start:n_,step:null,style:null,tabIndex:n_,target:null,title:null,translate:null,type:null,typeMustMatch:np,useMap:null,value:nf,width:n_,wrap:null,align:null,aLink:null,archive:nE,axis:null,background:null,bgColor:null,border:n_,borderColor:null,bottomMargin:n_,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:np,declare:np,event:null,face:null,frame:null,frameBorder:null,hSpace:n_,leftMargin:n_,link:null,longDesc:null,lowSrc:null,marginHeight:n_,marginWidth:n_,noResize:np,noHref:np,noShade:np,noWrap:np,object:null,profile:null,prompt:null,rev:null,rightMargin:n_,rules:null,scheme:null,scrolling:nf,standby:null,summary:null,text:null,topMargin:n_,valueType:null,version:null,vAlign:null,vLink:null,vSpace:n_,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:np,disableRemotePlayback:np,prefix:null,property:null,results:n_,security:null,unselectable:null}}),nS=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:nA,accentHeight:n_,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:n_,amplitude:n_,arabicForm:null,ascent:n_,attributeName:null,attributeType:null,azimuth:n_,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:n_,by:null,calcMode:null,capHeight:n_,className:nE,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:n_,diffuseConstant:n_,direction:null,display:null,dur:null,divisor:n_,dominantBaseline:null,download:np,dx:null,dy:null,edgeMode:null,editable:null,elevation:n_,enableBackground:null,end:null,event:null,exponent:n_,externalResourcesRequired:null,fill:null,fillOpacity:n_,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nT,g2:nT,glyphName:nT,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:n_,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:n_,horizOriginX:n_,horizOriginY:n_,id:null,ideographic:n_,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:n_,k:n_,k1:n_,k2:n_,k3:n_,k4:n_,kernelMatrix:nA,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:n_,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:n_,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:n_,overlineThickness:n_,paintOrder:null,panose1:null,path:null,pathLength:n_,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nE,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:n_,pointsAtY:n_,pointsAtZ:n_,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nA,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nA,rev:nA,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nA,requiredFeatures:nA,requiredFonts:nA,requiredFormats:nA,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:n_,specularExponent:n_,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:n_,strikethroughThickness:n_,string:null,stroke:null,strokeDashArray:nA,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:n_,strokeOpacity:n_,strokeWidth:null,style:null,surfaceScale:n_,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nA,tabIndex:n_,tableValues:null,target:null,targetX:n_,targetY:n_,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nA,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:n_,underlineThickness:n_,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:n_,values:null,vAlphabetic:n_,vMathematical:n_,vectorEffect:null,vHanging:n_,vIdeographic:n_,version:null,vertAdvY:n_,vertOriginX:n_,vertOriginY:n_,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:n_,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),nw=merge_merge([nb,nv,nx,nC,nI],"html"),nN=merge_merge([nb,nv,nx,nC,nS],"svg");function parse(m){let g=[],_=String(m||""),T=_.indexOf(","),A=0,k=!1;for(;!k;){-1===T&&(T=_.length,k=!0);let m=_.slice(A,T).trim();(m||!k)&&g.push(m),A=T+1,T=_.indexOf(",",A)}return g}function comma_separated_tokens_stringify(m,g){let _=g||{},T=""===m[m.length-1]?[...m,""]:m;return T.join((_.padRight?" ":"")+","+(!1===_.padLeft?"":" ")).trim()}let nO=/[#.]/g,nR=/^data[-\w.:]+$/i,nD=/-[a-z]/g,nL=/[A-Z]/g;function find(m,g){let _=normalize_normalize(g),T=g,A=Info;if(_ in m.normal)return m.property[m.normal[_]];if(_.length>4&&"data"===_.slice(0,4)&&nR.test(g)){if("-"===g.charAt(4)){let m=g.slice(5).replace(nD,camelcase);T="data"+m.charAt(0).toUpperCase()+m.slice(1)}else{let m=g.slice(4);if(!nD.test(m)){let _=m.replace(nL,kebab);"-"!==_.charAt(0)&&(_="-"+_),g="data"+_}}A=DefinedInfo}return new A(T,g)}function kebab(m){return"-"+m.toLowerCase()}function camelcase(m){return m.charAt(1).toUpperCase()}function space_separated_tokens_parse(m){let g=String(m||"").trim();return g?g.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(m){return m.join(" ").trim()}let nP=new Set(["button","menu","reset","submit"]),nM={}.hasOwnProperty;function createH(m,g,_){let T=_&&function(m){let g={},_=-1;for(;++_<m.length;)g[m[_].toLowerCase()]=m[_];return g}(_);return function(_,A,...k){let C,S=-1;if(null==_)C={type:"root",children:[]},k.unshift(A);else{var w;if((C=function(m,g){let _,T;let A=m||"",k={},C=0;for(;C<A.length;){nO.lastIndex=C;let m=nO.exec(A),g=A.slice(C,m?m.index:A.length);g&&(_?"#"===_?k.id=g:Array.isArray(k.className)?k.className.push(g):k.className=[g]:T=g,C+=g.length),m&&(_=m[0],C++)}return{type:"element",tagName:T||g||"div",properties:k,children:[]}}(_,g)).tagName=C.tagName.toLowerCase(),T&&nM.call(T,C.tagName)&&(C.tagName=T[C.tagName]),w=C.tagName,!(null==A||"object"!=typeof A||Array.isArray(A))&&("input"===w||!A.type||"string"!=typeof A.type||!("children"in A&&Array.isArray(A.children))&&("button"===w?nP.has(A.type.toLowerCase()):!("value"in A)))){let g;for(g in A)nM.call(A,g)&&function(m,g,_,T){let A;let k=find(m,_),C=-1;if(null!=T){if("number"==typeof T){if(Number.isNaN(T))return;A=T}else A="boolean"==typeof T?T:"string"==typeof T?k.spaceSeparated?space_separated_tokens_parse(T):k.commaSeparated?parse(T):k.commaOrSpaceSeparated?space_separated_tokens_parse(parse(T).join(" ")):parsePrimitive(k,k.property,T):Array.isArray(T)?T.concat():"style"===k.property?function(m){let g;let _=[];for(g in m)nM.call(m,g)&&_.push([g,m[g]].join(": "));return _.join("; ")}(T):String(T);if(Array.isArray(A)){let m=[];for(;++C<A.length;){let g=parsePrimitive(k,k.property,A[C]);m[C]=g}A=m}if("className"===k.property&&Array.isArray(g.className)){let m=A;A=g.className.concat(m)}g[k.property]=A}}(m,C.properties,g,A[g])}else k.unshift(A)}for(;++S<k.length;)!function addChild(m,g){let _=-1;if(null==g);else if("string"==typeof g||"number"==typeof g)m.push({type:"text",value:String(g)});else if(Array.isArray(g))for(;++_<g.length;)addChild(m,g[_]);else if("object"==typeof g&&"type"in g)"root"===g.type?addChild(m,g.children):m.push(g);else throw Error("Expected node, nodes, or string, got `"+g+"`")}(C.children,k[S]);return"element"===C.type&&"template"===C.tagName&&(C.content={type:"root",children:C.children},C.children=[]),C}}function parsePrimitive(m,g,_){if("string"==typeof _){if(m.number&&_&&!Number.isNaN(Number(_)))return Number(_);if((m.boolean||m.overloadedBoolean)&&(""===_||normalize_normalize(_)===normalize_normalize(g)))return!0}return _}let nF=createH(nw,"div"),nB=createH(nN,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),nH=/\r?\n|\r/g,nU={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nz={}.hasOwnProperty,nG=Object.prototype;function one(m,g){let _;switch(g.nodeName){case"#comment":return _={type:"comment",value:g.data},patch(m,g,_),_;case"#document":case"#document-fragment":{let T="mode"in g&&("quirks"===g.mode||"limited-quirks"===g.mode);if(_={type:"root",children:lib_all(m,g.childNodes),data:{quirksMode:T}},m.file&&m.location){let g=String(m.file),T=function(m){let g=String(m),_=[];for(nH.lastIndex=0;nH.test(g);)_.push(nH.lastIndex);return _.push(g.length+1),{toPoint:function(m){let g=-1;if("number"==typeof m&&m>-1&&m<_[_.length-1]){for(;++g<_.length;)if(_[g]>m)return{line:g+1,column:m-(g>0?_[g-1]:0)+1,offset:m}}},toOffset:function(m){let g=m&&m.line,T=m&&m.column;if("number"==typeof g&&"number"==typeof T&&!Number.isNaN(g)&&!Number.isNaN(T)&&g-1 in _){let m=(_[g-2]||0)+T-1||0;if(m>-1&&m<_[_.length-1])return m}}}}(g),A=T.toPoint(0),k=T.toPoint(g.length);_.position={start:A,end:k}}return _}case"#documentType":return patch(m,g,_={type:"doctype"}),_;case"#text":return _={type:"text",value:g.value},patch(m,g,_),_;default:return function(m,g){let _=m.schema;m.schema=g.namespaceURI===nU.svg?nN:nw;let T=-1,A={};for(;++T<g.attrs.length;){let m=g.attrs[T],_=(m.prefix?m.prefix+":":"")+m.name;nz.call(nG,_)||(A[_]=m.value)}let k="svg"===m.schema.space?nB:nF,C=k(g.tagName,A,lib_all(m,g.childNodes));if(patch(m,g,C),"template"===C.tagName){let _=g.sourceCodeLocation,T=_&&_.startTag&&position(_.startTag),A=_&&_.endTag&&position(_.endTag),k=one(m,g.content);T&&A&&m.file&&(k.position={start:T.end,end:A.start}),C.content=k}return m.schema=_,C}(m,g)}}function lib_all(m,g){let _=-1,T=[];for(;++_<g.length;){let A=one(m,g[_]);T.push(A)}return T}function patch(m,g,_){if("sourceCodeLocation"in g&&g.sourceCodeLocation&&m.file){let T=function(m,g,_){let T=position(_);if("element"===g.type){let A=g.children[g.children.length-1];if(T&&!_.endTag&&A&&A.position&&A.position.end&&(T.end=Object.assign({},A.position.end)),m.verbose){let T;let A={};if(_.attrs)for(T in _.attrs)nz.call(_.attrs,T)&&(A[find(m.schema,T).property]=position(_.attrs[T]));_.startTag;let k=position(_.startTag),C=_.endTag?position(_.endTag):void 0,S={opening:k};C&&(S.closing=C),S.properties=A,g.data={position:S}}}return T}(m,_,g.sourceCodeLocation);T&&(m.location=!0,_.position=T)}}function position(m){let g=point({line:m.startLine,column:m.startCol,offset:m.startOffset}),_=point({line:m.endLine,column:m.endCol,offset:m.endOffset});return g||_?{start:g,end:_}:void 0}function point(m){return m.line&&m.column?m:void 0}let nj={}.hasOwnProperty;function zwitch(m,g){let _=g||{};function one(g,..._){let T=one.invalid,A=one.handlers;if(g&&nj.call(g,m)){let _=String(g[m]);T=nj.call(A,_)?A[_]:one.unknown}if(T)return T.call(this,g,..._)}return one.handlers=_.handlers||{},one.invalid=_.invalid,one.unknown=_.unknown,one}let n$={},nq={}.hasOwnProperty,nV=zwitch("type",{handlers:{root:function(m,g){let _={nodeName:"#document",mode:(m.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(m.children,_,g),lib_patch(m,_),_},element:function(m,g){let _;let T=g;"element"===m.type&&"svg"===m.tagName.toLowerCase()&&"html"===g.space&&(T=nN);let A=[];if(m.properties){for(_ in m.properties)if("children"!==_&&nq.call(m.properties,_)){let g=function(m,g,_){let T=find(m,g);if(!1===_||null==_||"number"==typeof _&&Number.isNaN(_)||!_&&T.boolean)return;Array.isArray(_)&&(_=T.commaSeparated?comma_separated_tokens_stringify(_):space_separated_tokens_stringify(_));let A={name:T.attribute,value:!0===_?"":String(_)};if(T.space&&"html"!==T.space&&"svg"!==T.space){let m=A.name.indexOf(":");m<0?A.prefix="":(A.name=A.name.slice(m+1),A.prefix=T.attribute.slice(0,m)),A.namespace=nU[T.space]}return A}(T,_,m.properties[_]);g&&A.push(g)}}let k=T.space,C={nodeName:m.tagName,tagName:m.tagName,attrs:A,namespaceURI:nU[k],childNodes:[],parentNode:null};return C.childNodes=hast_util_to_parse5_lib_all(m.children,C,T),lib_patch(m,C),"template"===m.tagName&&m.content&&(C.content=function(m,g){let _={nodeName:"#document-fragment",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(m.children,_,g),lib_patch(m,_),_}(m.content,T)),C},text:function(m){let g={nodeName:"#text",value:m.value,parentNode:null};return lib_patch(m,g),g},comment:function(m){let g={nodeName:"#comment",data:m.value,parentNode:null};return lib_patch(m,g),g},doctype:function(m){let g={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(m,g),g}}});function hast_util_to_parse5_lib_all(m,g,_){let T=-1,A=[];if(m)for(;++T<m.length;){let k=nV(m[T],_);k.parentNode=g,A.push(k)}return A}function lib_patch(m,g){let _=m.position;_&&_.start&&_.end&&(_.start.offset,_.end.offset,g.sourceCodeLocation={startLine:_.start.line,startCol:_.start.column,startOffset:_.start.offset,endLine:_.end.line,endCol:_.end.column,endOffset:_.end.offset})}let nY=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],nW=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(C=er=er||(er={}))[C.EOF=-1]="EOF",C[C.NULL=0]="NULL",C[C.TABULATION=9]="TABULATION",C[C.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",C[C.LINE_FEED=10]="LINE_FEED",C[C.FORM_FEED=12]="FORM_FEED",C[C.SPACE=32]="SPACE",C[C.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",C[C.QUOTATION_MARK=34]="QUOTATION_MARK",C[C.NUMBER_SIGN=35]="NUMBER_SIGN",C[C.AMPERSAND=38]="AMPERSAND",C[C.APOSTROPHE=39]="APOSTROPHE",C[C.HYPHEN_MINUS=45]="HYPHEN_MINUS",C[C.SOLIDUS=47]="SOLIDUS",C[C.DIGIT_0=48]="DIGIT_0",C[C.DIGIT_9=57]="DIGIT_9",C[C.SEMICOLON=59]="SEMICOLON",C[C.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",C[C.EQUALS_SIGN=61]="EQUALS_SIGN",C[C.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",C[C.QUESTION_MARK=63]="QUESTION_MARK",C[C.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",C[C.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",C[C.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",C[C.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",C[C.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",C[C.GRAVE_ACCENT=96]="GRAVE_ACCENT",C[C.LATIN_SMALL_A=97]="LATIN_SMALL_A",C[C.LATIN_SMALL_F=102]="LATIN_SMALL_F",C[C.LATIN_SMALL_X=120]="LATIN_SMALL_X",C[C.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",C[C.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let nQ={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(m){return m>=55296&&m<=57343}function isControlCodePoint(m){return 32!==m&&10!==m&&13!==m&&9!==m&&12!==m&&m>=1&&m<=31||m>=127&&m<=159}function isUndefinedCodePoint(m){return m>=64976&&m<=65007||nW.has(m)}(S=ei=ei||(ei={})).controlCharacterInInputStream="control-character-in-input-stream",S.noncharacterInInputStream="noncharacter-in-input-stream",S.surrogateInInputStream="surrogate-in-input-stream",S.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",S.endTagWithAttributes="end-tag-with-attributes",S.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",S.unexpectedSolidusInTag="unexpected-solidus-in-tag",S.unexpectedNullCharacter="unexpected-null-character",S.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",S.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",S.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",S.missingEndTagName="missing-end-tag-name",S.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",S.unknownNamedCharacterReference="unknown-named-character-reference",S.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",S.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",S.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",S.eofBeforeTagName="eof-before-tag-name",S.eofInTag="eof-in-tag",S.missingAttributeValue="missing-attribute-value",S.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",S.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",S.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",S.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",S.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",S.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",S.missingDoctypePublicIdentifier="missing-doctype-public-identifier",S.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",S.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",S.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",S.cdataInHtmlContent="cdata-in-html-content",S.incorrectlyOpenedComment="incorrectly-opened-comment",S.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",S.eofInDoctype="eof-in-doctype",S.nestedComment="nested-comment",S.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",S.eofInComment="eof-in-comment",S.incorrectlyClosedComment="incorrectly-closed-comment",S.eofInCdata="eof-in-cdata",S.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",S.nullCharacterReference="null-character-reference",S.surrogateCharacterReference="surrogate-character-reference",S.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",S.controlCharacterReference="control-character-reference",S.noncharacterCharacterReference="noncharacter-character-reference",S.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",S.missingDoctypeName="missing-doctype-name",S.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",S.duplicateAttribute="duplicate-attribute",S.nonConformingDoctype="non-conforming-doctype",S.missingDoctype="missing-doctype",S.misplacedDoctype="misplaced-doctype",S.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",S.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",S.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",S.openElementsLeftAfterEof="open-elements-left-after-eof",S.abandonedHeadElementChild="abandoned-head-element-child",S.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",S.nestedNoscriptInHead="nested-noscript-in-head",S.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(m){this.handler=m,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(m){let{line:g,col:_,offset:T}=this;return{code:m,startLine:g,endLine:g,startCol:_,endCol:_,startOffset:T,endOffset:T}}_err(m){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(m)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(m){if(this.pos!==this.html.length-1){let g=this.html.charCodeAt(this.pos+1);if(g>=56320&&g<=57343)return this.pos++,this._addGap(),(m-55296)*1024+9216+g}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,er.EOF;return this._err(ei.surrogateInInputStream),m}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(m,g){this.html.length>0?this.html+=m:this.html=m,this.endOfChunkHit=!1,this.lastChunkWritten=g}insertHtmlAtCurrentPos(m){this.html=this.html.substring(0,this.pos+1)+m+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(m,g){if(this.pos+m.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(g)return this.html.startsWith(m,this.pos);for(let g=0;g<m.length;g++){let _=32|this.html.charCodeAt(this.pos+g);if(_!==m.charCodeAt(g))return!1}return!0}peek(m){let g=this.pos+m;if(g>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,er.EOF;let _=this.html.charCodeAt(g);return _===er.CARRIAGE_RETURN?er.LINE_FEED:_}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,er.EOF;let m=this.html.charCodeAt(this.pos);if(m===er.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,er.LINE_FEED;if(m===er.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(m)&&(m=this._processSurrogate(m));let g=null===this.handler.onParseError||m>31&&m<127||m===er.LINE_FEED||m===er.CARRIAGE_RETURN||m>159&&m<64976;return g||this._checkForProblematicCharacters(m),m}_checkForProblematicCharacters(m){isControlCodePoint(m)?this._err(ei.controlCharacterInInputStream):isUndefinedCodePoint(m)&&this._err(ei.noncharacterInInputStream)}retreat(m){for(this.pos-=m;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(m,g){for(let _=m.attrs.length-1;_>=0;_--)if(m.attrs[_].name===g)return m.attrs[_].value;return null}(w=ea=ea||(ea={}))[w.CHARACTER=0]="CHARACTER",w[w.NULL_CHARACTER=1]="NULL_CHARACTER",w[w.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",w[w.START_TAG=3]="START_TAG",w[w.END_TAG=4]="END_TAG",w[w.COMMENT=5]="COMMENT",w[w.DOCTYPE=6]="DOCTYPE",w[w.EOF=7]="EOF",w[w.HIBERNATION=8]="HIBERNATION";var nX=new Uint16Array('<\xd5\x00\x00\x00\x00\x00\x00EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\xc6P&cute\xc1reve;iyx}rc\xc2;r;\ud835\udd04rave\xc0pha;acr;d;gp\x9d\xa1on;f;\ud835\udd38plyFunction;ing\xc5cs\xbe\xc3r;\ud835\udc9cign;ilde\xc3ml\xc4aceforsu\xe5\xfb\xfecr\xea\xf2kslash;\xf6\xf8;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;c\xf2mpeq;HOacdefhilorsucy;PY\xa9cpyute;;italDifferentialD;leys;aeioron;dil\xc7rc;nint;ot;dnilla;terDot;\xf2i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\x00\x00\x00\x00f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegra\xeco\x00\x00\xbbnArrow;eoftARTrrow;ightArrow;e\xe5ngLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\x00\x00rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\x00\x00ightVector;eeVector;ector;Bar;ight\x00eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;H\xd0cute\xc9aiyron;rc\xca;ot;r;\ud835\udd08rave\xc8ement;apcr;ty\x00\x00mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;ml\xcbipsts;onentialE;cfiosy;r;\ud835\udd09lled\x00\x00mallSquare;erySmallSquare;\x00\x00\x00f;\ud835\udd3dAll;riertrf;c\xf2JTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\x00f;izontalLine;ct\xf2rok;mpownHum\xf0qual;EJOacdfgmnostucy;lig;cy;cute\xcdiyrc\xce;ot;r;rave\xcc;apcgr;inaryI;lie\xf3\x00;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\x00cy;l\xcfcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\x00r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\x00bleBracket;n\x00eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ight\xe1sEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftaright\xe1ight\xe1f;\ud835\udd43erLReftArrow;ightArrow;cht\xf2;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c\xf2;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicn\xeberyThi\xeetedGLreaterGreate\xf2essLes\xf3Line;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde\xd1;Eacdfgmoprstuvlig;cute\xd3iyrc\xd4;blac;r;\ud835\udd12rave\xd2aeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaash\xd8ide\xd5es;ml\xd6erBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplan\xe5f;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;G\xaecnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;r\xbbo;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\x00bleBracket;n\x00eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArrow\xbbeftArrow\xbbightArrow\xbbpArrow;gma;allCircle;pf;\ud835\udd4a\x00\x00t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th\xe1;;esrset;Equal;et\xbbHRSacfhiorsORN\xdeADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\x00efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\x00\x00\x00\x00\x00\x00\x00crute\xdar;ocir;r\x00y;ve;iyrc\xdb;blac;r;\ud835\udd18rave\xd9acr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;own\xe1erLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;ml\xdcDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cute\xddiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\x00oWidt\xe8a;r;pf;cr;\ud835\udcb5\x00\x00\x00\x00\x00\x00\x00cute\xe1reve;;Ediuy;;rc\xe2te\xb4;lig\xe6;r\xb2;\ud835\udd1erave\xe0epfpsym;\xe8ha;apcclr;g;\x00\x00;adsvnd;;lope;;;elmrsz;e\xbbsd;a;;;;;;;;t;vb;d;pth;\xbb\xb9arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;e\xf1ing\xe5ctyr;\ud835\udcb6;mp;e\xf1ilde\xe3ml\xe4cionin\xf4nt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;ge\xbbrk;tbrk;oy;quo;cmprtaus;eptyv;s\xe9no\xf5ahw;;een;r;\ud835\udd1fgcostuvwaiu\xf0rc;p\xbbdptot;lus;imes;\x00\x00cup;ar;riangleduown;p;plus;e\xe5\xe5arow;akocnklstozenge;riangle;dlrown;eft;ight;k;\x00\x00;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tom\xbbtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbar\xa6ceior;\ud835\udcb7mi;m;el;bh;sub;l;et\xbbp;Ee;;q\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00cprute;;abcdsnd;rcup;aup;p;ot;;eot;\xeeaeiu\x00s;on;dil\xe7rc;ps;sm;ot;dmnil\xb8ptyv;t\xa2;er\xe4r;\ud835\udd20ceiy;ck;mark\xbb;r;Ecefms;;elq;e\x00\x00rrowlreft;ight;RSacd\xbb;st;irc;ash;nint;id;cir;ubs;uit\xbb\x00on;e;q\xc7\xc6\x00\x00a;t;;fl\xeeemxent\xbbe\xf3\x00;dot;n\xf4fry;\ud835\udd54o\xe4\xa9;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\x00\x00r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\x00\x00re\xe3u\xe3ee;edge;en\xa4earrowlreft\xbbight\xbbe\xe4cionin\xf4nt;lcty;AHabcdefhijlorstuwzr\xf2ar;glrsger;eth;\xf2h;v\xbbarow;a\xe3ayron;;;aogrr;tseq;glm\xb0ta;ptyv;irsht;;\ud835\udd21arlr\xbb\xbbaegsvm;osnd;suit;amma;in;;iode\xf7;ontimes;n\xf8cy;c\x00\x00rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedg\xe5\xfanadhownarrow\xf3arpoonlref\xf4igh\xf4karo\xf7\x00\x00rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahr\xf2a\xf2angle;ciy;grarr;DacdefglmnopqrstuxDoo\xf4csute\xe9ter;aioyron;r;c\xealon;;ot;Drot;;\ud835\udd22;rsave\xe8;dot;;ilsnters;;;dot;apscr;ty;svet\xbbp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon\xbb;csuviorc\xbb\x00\x00\xedantgltr\xbbess\xbbaeils;st;v;DD;parsl;Daot;rr;cdir;o\xf4ah;\xf0mrl\xebo;cipl;s\xf4eoctatio\xeenential\xe5\x00\x00\x00\x00\x00\x00\x00llingdotse\xf1y;male;ilrlig;\x00\x00g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\x00f;\ud835\udd57ak;v;artint;aocs\x00\x00\xbd;\xbc;;;\x00;;\x00\x00\xbe;;5;\x00;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan\xf4;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox\xbb;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\x00pro\xf8r;qlqles\xf3i\xedenrtneqq;\xc5Aabcefkosyr\xf2ilmrrs\xf0f\xbbil\xf4drcy;;cwir;;ar;irc;alrrts;uit\xbblip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdas\xe8rok;bpull;hen\xbb\x00\x00\x00\x00\x00\x00cute\xed;iyrc\xee;cxy;cl\xa1fr;\ud835\udd26rave\xec;inoinnt;t;fin;ta;lig;aopcgtr;elpin\xe5ar\xf4h;f;ed;;cfotare;in;tie;do\xf4;celpal;grer\xf3\xe3arhk;rod;cgpty;on;f;\ud835\udd5aa;uest\xbfcir;\ud835\udcben;Edsv;ot;;v;;ilde;\x00cy;l\xefcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\x00r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartr\xf2\xf2ail;arr;;g;ar;\x00\x00\x00\x00\x00\x00\x00\x00\x00ute;mptyv;ra\xeebda;g;dl;\xe5;uo\xabr;bfhlpst;fs;s;\xebp;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;ta\xe9arpoonduown\xbbp\xbbeftarrows;ightahsrrow;sarpoon\xf3quigarro\xf7hreetimes;;qslan\xf4;cdgsc;ot;o;r;;es;adegsppro\xf8ot;qgq\xf4gt\xf2\xf4i\xedilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtr\xf2orne\xf2ard;ri;iodot;ust;ache\xbbEaes;p;prox\xbb;q;qim;abnoptwznrg;r;r\xebglmreftaright\xe1apsto;ight\xe1parrowlref\xf4ight;aflr;;\ud835\udd5dus;imes;st;\xe1;efnge\xbbar;lt;achmtr\xf2orne\xf2ar;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;re\xe5mes;arr;uest;Piar;;efrdushar;har;enrtneqq;\xc5DacdefhilnopsuDot;clprr\xafet;;ese\xbb;sto;dluow\xeeef\xf4\xf0ker;oymma;;ash;asuredangle\xbbr;\ud835\udd2ao;cdnro\xb5;acds\xf4ir;ot\xb7us;bd;u;p;\xf2\xf0dpels;f;\ud835\udd5ectr;\ud835\udcc2pos\xbb;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptla\xbbute;g;;Eiop;d;s;ro\xf8ur;al;s\x00p\xa0mp;eaeouy\x00;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;ui\xf6eiar;\xedist;sr;\ud835\udd2bEest;qs;qslan\xf4i\xed;r\xbbAapr\xf2rr;ar;;sv;d;cy;AEadestr\xf2;rr;r;;fqstarrro\xf7ightarro\xf7;qslan\xf4;s\xbbi\xed;ri;ei\xe4ptf;\ud835\udd5f\xac;inn;Edv;ot;;;i;v;;aorr;astlle\xecl;;lint;;ceu\xe5;c;e\xf1Aaitr\xf2rr;cw;;ghtarrow\xbbri;echimpqu;ceru\xe5;\ud835\udcc3ort\x00\x00ar\xe1m;e;qsubp\xe5\xe5bcp;Ees;et;eq;qc;e\xf1;Ees;et;eq;qgilr\xeclde\xf1\xe7ianglelreft;e\xf1ight;e\xf1;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00csute\xf3iyr;c\xf4;abioslac;v;old;lig;crir;;\ud835\udd2c\x00\x00\x00n;ave\xf2;bmar;acitr\xf2irr;oss;n\xe5;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr\xf2;efmr;of\xbb\xaa\xbagof;r;lope;;clo\xf2ash\xf8l;ide\xf5es;as;ml\xf6bar;\x00\x00\x00\x00\x00\x00\x00\x00\x00r;ast\xb6;lle\xec\x00\x00m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;ma\xf4ne;;tvchfork\xbb;aunckk;h;\xf6s;abcdemstcir;ir;ou;;n\xb1im;wo;ipuntint;f;\ud835\udd61nd\xa3;Eaceinosu;p;u\xe5;c;acensppro\xf8urlye\xf1\xf1aespprox;qq;im;i\xedme;sEas\xf0dfpalslar;ine;urf;;t\xefrel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnion\xf3nt;st;e\xf1\xf4ABHabcdefhilmnoprstuxartr\xf2\xf2ail;ar\xf2ar;cdenqrteu;te;i\xe3mptyv;g;del;;\xe5uo\xbbr;abcfhlpstwp;;fs;;s;\xeb\xf0l;im;l;;aiil;o;nal\xf3abrr\xf2rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;clqsa;dhar;uo;rh;acgl;ipsn\xe5ar\xf4t;ilrsht;;\ud835\udd2faordu\xbb;l;;v;gnshtahlrstrrow;ta\xe9arpoonduow\xeep\xbbeftahrrow\xf3arpoon\xf3ightarrows;quigarro\xf7hreetimes;g;ingdotse\xf1ahmr\xf2a\xf2;oust;ache\xbbmid;abptnrg;r;r\xebaflr;;\ud835\udd63us;imes;apr;gt;olint;ar\xf2achqquo;r;\ud835\udcc7buo;rhirre\xe5mes;i;efltri;luhar;;\x00\x00\x00\x00\x00\x00\x00cute;qu\xef;Eaceinpsy;\x00;on;u\xe5;dil;rc;Eas;p;im;olint;i\xed;ot;be;Aacmstxrr;rhr\xeb;ot\xa7i;war;min\xf0nu\xf3\xf1t;r;o\ud835\udd30acoyrp;hycy;;rt\x00\x00i\xe4ara\xec\xadgmma;fv;;deglnprot;;q;E;;E;e;lus;arr;ar\xf2aeitlslsetm\xe9hp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uit\xbbcsuaup;s;p;s;ubp;eset;e\xf1;eset;e\xf1;afr\xbbar\xf2cemtr;\ud835\udcc8tm\xee\xf1i\xecar\xe6arr;fanighteppsilo\xeeh\xe9s\xbbbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acensppro\xf8urlye\xf1\xf1aesppro\xf8q\xf1g;123;Edehlmnps\xb9\xb2\xb3;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr\xeb;owar;lig\xdf\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00get;;r\xebaeyron;dil;;lrec;r;\ud835\udd31eiko\x00e4fa;svym;cnkasppro\xf8im\xbbs\xf0as\xf0rn\xfees\xd7;bd;ar;;eps\xe1;bcfot;ir;;o\ud835\udd65rk;\xe1rime;aipd\xe5adempstngle;dlqrown\xbbeft;e\xf1;ight;e\xf1ot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;iox\xf4headlreftarro\xf7ightarrow\xbbAHabcdfghlmoprstuwr\xf2ar;crute\xfa\xf2r\x00y;ve;iyrc\xfb;abhr\xf2lac;a\xf2irsht;;\ud835\udd32rave\xf9rlr\xbb\xbblk;ct\x00\x00rn;er\xbbop;ri;alcr;\xa8gpon;f;\ud835\udd66adhlsuown\xe1arpoonlref\xf4igh\xf4i;hl\xbbon\xbbparrows;cit\x00\x00rn;er\xbbop;ng;ri;cr;\ud835\udccadirot;lde;i;f\xbbamr\xf2l\xfcangle;ABDacdeflnoprszr\xf2ar;v;as\xe8nrgrt;eknprstapp\xe1othin\xe7hirop\xf4;h\xefiugm\xe1bpsetneq;q;setneq;q;hret\xe1ianglelreft\xbbight\xbby;ash\xbbelr;bear;q;lip;bta\xf2r;\ud835\udd33tr\xe9subp\xbb\xbbpf;\ud835\udd67ro\xf0tr\xe9cur;\ud835\udccbbpnEe\xbbnEe\xbbigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eat\xe8cr;\ud835\udccc\x00\x00\x00\x00\x00\x00\x00tr\xe9r;\ud835\udd35Aar\xf2r\xf2;Aar\xf2r\xf2a\xf0is;dptfl;\ud835\udd69im\xe5Aar\xf2r\xf2cqr;\ud835\udccdptr\xe9acefiosucuyte\xfd;iyrc;;n\xa5r;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;l\xffacdefhioswcute;ayron;;ot;ettr\xe6a;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(m=>m.charCodeAt(0))),nK=new Uint16Array("aglq	\x15\x18\x1b\x0f\x00\x00\x12p;os;t;t;uot;".split("").map(m=>m.charCodeAt(0)));let nZ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),nJ=null!==(eo=String.fromCodePoint)&&void 0!==eo?eo:function(m){let g="";return m>65535&&(m-=65536,g+=String.fromCharCode(m>>>10&1023|55296),m=56320|1023&m),g+=String.fromCharCode(m)};function isNumber(m){return m>=es.ZERO&&m<=es.NINE}(N=es||(es={}))[N.NUM=35]="NUM",N[N.SEMI=59]="SEMI",N[N.EQUALS=61]="EQUALS",N[N.ZERO=48]="ZERO",N[N.NINE=57]="NINE",N[N.LOWER_A=97]="LOWER_A",N[N.LOWER_F=102]="LOWER_F",N[N.LOWER_X=120]="LOWER_X",N[N.LOWER_Z=122]="LOWER_Z",N[N.UPPER_A=65]="UPPER_A",N[N.UPPER_F=70]="UPPER_F",N[N.UPPER_Z=90]="UPPER_Z",(O=el||(el={}))[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE",(R=ec||(ec={}))[R.EntityStart=0]="EntityStart",R[R.NumericStart=1]="NumericStart",R[R.NumericDecimal=2]="NumericDecimal",R[R.NumericHex=3]="NumericHex",R[R.NamedEntity=4]="NamedEntity",(L=eu||(eu={}))[L.Legacy=0]="Legacy",L[L.Strict=1]="Strict",L[L.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(m,g,_){this.decodeTree=m,this.emitCodePoint=g,this.errors=_,this.state=ec.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=eu.Strict}startEntity(m){this.decodeMode=m,this.state=ec.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(m,g){switch(this.state){case ec.EntityStart:if(m.charCodeAt(g)===es.NUM)return this.state=ec.NumericStart,this.consumed+=1,this.stateNumericStart(m,g+1);return this.state=ec.NamedEntity,this.stateNamedEntity(m,g);case ec.NumericStart:return this.stateNumericStart(m,g);case ec.NumericDecimal:return this.stateNumericDecimal(m,g);case ec.NumericHex:return this.stateNumericHex(m,g);case ec.NamedEntity:return this.stateNamedEntity(m,g)}}stateNumericStart(m,g){return g>=m.length?-1:(32|m.charCodeAt(g))===es.LOWER_X?(this.state=ec.NumericHex,this.consumed+=1,this.stateNumericHex(m,g+1)):(this.state=ec.NumericDecimal,this.stateNumericDecimal(m,g))}addToNumericResult(m,g,_,T){if(g!==_){let A=_-g;this.result=this.result*Math.pow(T,A)+parseInt(m.substr(g,A),T),this.consumed+=A}}stateNumericHex(m,g){let _=g;for(;g<m.length;){var T;let A=m.charCodeAt(g);if(!isNumber(A)&&(!((T=A)>=es.UPPER_A)||!(T<=es.UPPER_F))&&(!(T>=es.LOWER_A)||!(T<=es.LOWER_F)))return this.addToNumericResult(m,_,g,16),this.emitNumericEntity(A,3);g+=1}return this.addToNumericResult(m,_,g,16),-1}stateNumericDecimal(m,g){let _=g;for(;g<m.length;){let T=m.charCodeAt(g);if(!isNumber(T))return this.addToNumericResult(m,_,g,10),this.emitNumericEntity(T,2);g+=1}return this.addToNumericResult(m,_,g,10),-1}emitNumericEntity(m,g){var _,T,A;if(this.consumed<=g)return null===(_=this.errors)||void 0===_||_.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(m===es.SEMI)this.consumed+=1;else if(this.decodeMode===eu.Strict)return 0;return this.emitCodePoint((T=this.result)>=55296&&T<=57343||T>1114111?65533:null!==(A=nZ.get(T))&&void 0!==A?A:T,this.consumed),this.errors&&(m!==es.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(m,g){let{decodeTree:_}=this,T=_[this.treeIndex],A=(T&el.VALUE_LENGTH)>>14;for(;g<m.length;g++,this.excess++){let k=m.charCodeAt(g);if(this.treeIndex=determineBranch(_,T,this.treeIndex+Math.max(1,A),k),this.treeIndex<0)return 0===this.result||this.decodeMode===eu.Attribute&&(0===A||function(m){var g;return m===es.EQUALS||(g=m)>=es.UPPER_A&&g<=es.UPPER_Z||g>=es.LOWER_A&&g<=es.LOWER_Z||isNumber(g)}(k))?0:this.emitNotTerminatedNamedEntity();if(0!=(A=((T=_[this.treeIndex])&el.VALUE_LENGTH)>>14)){if(k===es.SEMI)return this.emitNamedEntityData(this.treeIndex,A,this.consumed+this.excess);this.decodeMode!==eu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var m;let{result:g,decodeTree:_}=this,T=(_[g]&el.VALUE_LENGTH)>>14;return this.emitNamedEntityData(g,T,this.consumed),null===(m=this.errors)||void 0===m||m.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(m,g,_){let{decodeTree:T}=this;return this.emitCodePoint(1===g?T[m]&~el.VALUE_LENGTH:T[m+1],_),3===g&&this.emitCodePoint(T[m+2],_),_}end(){var m;switch(this.state){case ec.NamedEntity:return 0!==this.result&&(this.decodeMode!==eu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ec.NumericDecimal:return this.emitNumericEntity(0,2);case ec.NumericHex:return this.emitNumericEntity(0,3);case ec.NumericStart:return null===(m=this.errors)||void 0===m||m.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ec.EntityStart:return 0}}};function getDecoder(m){let g="",_=new EntityDecoder(m,m=>g+=nJ(m));return function(m,T){let A=0,k=0;for(;(k=m.indexOf("&",k))>=0;){g+=m.slice(A,k),_.startEntity(T);let C=_.write(m,k+1);if(C<0){A=k+_.end();break}A=k+C,k=0===C?A+1:A}let C=g+m.slice(A);return g="",C}}function determineBranch(m,g,_,T){let A=(g&el.BRANCH_LENGTH)>>7,k=g&el.JUMP_TABLE;if(0===A)return 0!==k&&T===k?_:-1;if(k){let g=T-k;return g<0||g>=A?-1:m[_+g]-1}let C=_,S=C+A-1;for(;C<=S;){let g=C+S>>>1,_=m[g];if(_<T)C=g+1;else{if(!(_>T))return m[g+A];S=g-1}}return -1}getDecoder(nX),getDecoder(nK),(P=ed=ed||(ed={})).HTML="http://www.w3.org/1999/xhtml",P.MATHML="http://www.w3.org/1998/Math/MathML",P.SVG="http://www.w3.org/2000/svg",P.XLINK="http://www.w3.org/1999/xlink",P.XML="http://www.w3.org/XML/1998/namespace",P.XMLNS="http://www.w3.org/2000/xmlns/",(F=em=em||(em={})).TYPE="type",F.ACTION="action",F.ENCODING="encoding",F.PROMPT="prompt",F.NAME="name",F.COLOR="color",F.FACE="face",F.SIZE="size",(z=eh=eh||(eh={})).NO_QUIRKS="no-quirks",z.QUIRKS="quirks",z.LIMITED_QUIRKS="limited-quirks",($=ep=ep||(ep={})).A="a",$.ADDRESS="address",$.ANNOTATION_XML="annotation-xml",$.APPLET="applet",$.AREA="area",$.ARTICLE="article",$.ASIDE="aside",$.B="b",$.BASE="base",$.BASEFONT="basefont",$.BGSOUND="bgsound",$.BIG="big",$.BLOCKQUOTE="blockquote",$.BODY="body",$.BR="br",$.BUTTON="button",$.CAPTION="caption",$.CENTER="center",$.CODE="code",$.COL="col",$.COLGROUP="colgroup",$.DD="dd",$.DESC="desc",$.DETAILS="details",$.DIALOG="dialog",$.DIR="dir",$.DIV="div",$.DL="dl",$.DT="dt",$.EM="em",$.EMBED="embed",$.FIELDSET="fieldset",$.FIGCAPTION="figcaption",$.FIGURE="figure",$.FONT="font",$.FOOTER="footer",$.FOREIGN_OBJECT="foreignObject",$.FORM="form",$.FRAME="frame",$.FRAMESET="frameset",$.H1="h1",$.H2="h2",$.H3="h3",$.H4="h4",$.H5="h5",$.H6="h6",$.HEAD="head",$.HEADER="header",$.HGROUP="hgroup",$.HR="hr",$.HTML="html",$.I="i",$.IMG="img",$.IMAGE="image",$.INPUT="input",$.IFRAME="iframe",$.KEYGEN="keygen",$.LABEL="label",$.LI="li",$.LINK="link",$.LISTING="listing",$.MAIN="main",$.MALIGNMARK="malignmark",$.MARQUEE="marquee",$.MATH="math",$.MENU="menu",$.META="meta",$.MGLYPH="mglyph",$.MI="mi",$.MO="mo",$.MN="mn",$.MS="ms",$.MTEXT="mtext",$.NAV="nav",$.NOBR="nobr",$.NOFRAMES="noframes",$.NOEMBED="noembed",$.NOSCRIPT="noscript",$.OBJECT="object",$.OL="ol",$.OPTGROUP="optgroup",$.OPTION="option",$.P="p",$.PARAM="param",$.PLAINTEXT="plaintext",$.PRE="pre",$.RB="rb",$.RP="rp",$.RT="rt",$.RTC="rtc",$.RUBY="ruby",$.S="s",$.SCRIPT="script",$.SECTION="section",$.SELECT="select",$.SOURCE="source",$.SMALL="small",$.SPAN="span",$.STRIKE="strike",$.STRONG="strong",$.STYLE="style",$.SUB="sub",$.SUMMARY="summary",$.SUP="sup",$.TABLE="table",$.TBODY="tbody",$.TEMPLATE="template",$.TEXTAREA="textarea",$.TFOOT="tfoot",$.TD="td",$.TH="th",$.THEAD="thead",$.TITLE="title",$.TR="tr",$.TRACK="track",$.TT="tt",$.U="u",$.UL="ul",$.SVG="svg",$.VAR="var",$.WBR="wbr",$.XMP="xmp",(q=ef=ef||(ef={}))[q.UNKNOWN=0]="UNKNOWN",q[q.A=1]="A",q[q.ADDRESS=2]="ADDRESS",q[q.ANNOTATION_XML=3]="ANNOTATION_XML",q[q.APPLET=4]="APPLET",q[q.AREA=5]="AREA",q[q.ARTICLE=6]="ARTICLE",q[q.ASIDE=7]="ASIDE",q[q.B=8]="B",q[q.BASE=9]="BASE",q[q.BASEFONT=10]="BASEFONT",q[q.BGSOUND=11]="BGSOUND",q[q.BIG=12]="BIG",q[q.BLOCKQUOTE=13]="BLOCKQUOTE",q[q.BODY=14]="BODY",q[q.BR=15]="BR",q[q.BUTTON=16]="BUTTON",q[q.CAPTION=17]="CAPTION",q[q.CENTER=18]="CENTER",q[q.CODE=19]="CODE",q[q.COL=20]="COL",q[q.COLGROUP=21]="COLGROUP",q[q.DD=22]="DD",q[q.DESC=23]="DESC",q[q.DETAILS=24]="DETAILS",q[q.DIALOG=25]="DIALOG",q[q.DIR=26]="DIR",q[q.DIV=27]="DIV",q[q.DL=28]="DL",q[q.DT=29]="DT",q[q.EM=30]="EM",q[q.EMBED=31]="EMBED",q[q.FIELDSET=32]="FIELDSET",q[q.FIGCAPTION=33]="FIGCAPTION",q[q.FIGURE=34]="FIGURE",q[q.FONT=35]="FONT",q[q.FOOTER=36]="FOOTER",q[q.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",q[q.FORM=38]="FORM",q[q.FRAME=39]="FRAME",q[q.FRAMESET=40]="FRAMESET",q[q.H1=41]="H1",q[q.H2=42]="H2",q[q.H3=43]="H3",q[q.H4=44]="H4",q[q.H5=45]="H5",q[q.H6=46]="H6",q[q.HEAD=47]="HEAD",q[q.HEADER=48]="HEADER",q[q.HGROUP=49]="HGROUP",q[q.HR=50]="HR",q[q.HTML=51]="HTML",q[q.I=52]="I",q[q.IMG=53]="IMG",q[q.IMAGE=54]="IMAGE",q[q.INPUT=55]="INPUT",q[q.IFRAME=56]="IFRAME",q[q.KEYGEN=57]="KEYGEN",q[q.LABEL=58]="LABEL",q[q.LI=59]="LI",q[q.LINK=60]="LINK",q[q.LISTING=61]="LISTING",q[q.MAIN=62]="MAIN",q[q.MALIGNMARK=63]="MALIGNMARK",q[q.MARQUEE=64]="MARQUEE",q[q.MATH=65]="MATH",q[q.MENU=66]="MENU",q[q.META=67]="META",q[q.MGLYPH=68]="MGLYPH",q[q.MI=69]="MI",q[q.MO=70]="MO",q[q.MN=71]="MN",q[q.MS=72]="MS",q[q.MTEXT=73]="MTEXT",q[q.NAV=74]="NAV",q[q.NOBR=75]="NOBR",q[q.NOFRAMES=76]="NOFRAMES",q[q.NOEMBED=77]="NOEMBED",q[q.NOSCRIPT=78]="NOSCRIPT",q[q.OBJECT=79]="OBJECT",q[q.OL=80]="OL",q[q.OPTGROUP=81]="OPTGROUP",q[q.OPTION=82]="OPTION",q[q.P=83]="P",q[q.PARAM=84]="PARAM",q[q.PLAINTEXT=85]="PLAINTEXT",q[q.PRE=86]="PRE",q[q.RB=87]="RB",q[q.RP=88]="RP",q[q.RT=89]="RT",q[q.RTC=90]="RTC",q[q.RUBY=91]="RUBY",q[q.S=92]="S",q[q.SCRIPT=93]="SCRIPT",q[q.SECTION=94]="SECTION",q[q.SELECT=95]="SELECT",q[q.SOURCE=96]="SOURCE",q[q.SMALL=97]="SMALL",q[q.SPAN=98]="SPAN",q[q.STRIKE=99]="STRIKE",q[q.STRONG=100]="STRONG",q[q.STYLE=101]="STYLE",q[q.SUB=102]="SUB",q[q.SUMMARY=103]="SUMMARY",q[q.SUP=104]="SUP",q[q.TABLE=105]="TABLE",q[q.TBODY=106]="TBODY",q[q.TEMPLATE=107]="TEMPLATE",q[q.TEXTAREA=108]="TEXTAREA",q[q.TFOOT=109]="TFOOT",q[q.TD=110]="TD",q[q.TH=111]="TH",q[q.THEAD=112]="THEAD",q[q.TITLE=113]="TITLE",q[q.TR=114]="TR",q[q.TRACK=115]="TRACK",q[q.TT=116]="TT",q[q.U=117]="U",q[q.UL=118]="UL",q[q.SVG=119]="SVG",q[q.VAR=120]="VAR",q[q.WBR=121]="WBR",q[q.XMP=122]="XMP";let n0=new Map([[ep.A,ef.A],[ep.ADDRESS,ef.ADDRESS],[ep.ANNOTATION_XML,ef.ANNOTATION_XML],[ep.APPLET,ef.APPLET],[ep.AREA,ef.AREA],[ep.ARTICLE,ef.ARTICLE],[ep.ASIDE,ef.ASIDE],[ep.B,ef.B],[ep.BASE,ef.BASE],[ep.BASEFONT,ef.BASEFONT],[ep.BGSOUND,ef.BGSOUND],[ep.BIG,ef.BIG],[ep.BLOCKQUOTE,ef.BLOCKQUOTE],[ep.BODY,ef.BODY],[ep.BR,ef.BR],[ep.BUTTON,ef.BUTTON],[ep.CAPTION,ef.CAPTION],[ep.CENTER,ef.CENTER],[ep.CODE,ef.CODE],[ep.COL,ef.COL],[ep.COLGROUP,ef.COLGROUP],[ep.DD,ef.DD],[ep.DESC,ef.DESC],[ep.DETAILS,ef.DETAILS],[ep.DIALOG,ef.DIALOG],[ep.DIR,ef.DIR],[ep.DIV,ef.DIV],[ep.DL,ef.DL],[ep.DT,ef.DT],[ep.EM,ef.EM],[ep.EMBED,ef.EMBED],[ep.FIELDSET,ef.FIELDSET],[ep.FIGCAPTION,ef.FIGCAPTION],[ep.FIGURE,ef.FIGURE],[ep.FONT,ef.FONT],[ep.FOOTER,ef.FOOTER],[ep.FOREIGN_OBJECT,ef.FOREIGN_OBJECT],[ep.FORM,ef.FORM],[ep.FRAME,ef.FRAME],[ep.FRAMESET,ef.FRAMESET],[ep.H1,ef.H1],[ep.H2,ef.H2],[ep.H3,ef.H3],[ep.H4,ef.H4],[ep.H5,ef.H5],[ep.H6,ef.H6],[ep.HEAD,ef.HEAD],[ep.HEADER,ef.HEADER],[ep.HGROUP,ef.HGROUP],[ep.HR,ef.HR],[ep.HTML,ef.HTML],[ep.I,ef.I],[ep.IMG,ef.IMG],[ep.IMAGE,ef.IMAGE],[ep.INPUT,ef.INPUT],[ep.IFRAME,ef.IFRAME],[ep.KEYGEN,ef.KEYGEN],[ep.LABEL,ef.LABEL],[ep.LI,ef.LI],[ep.LINK,ef.LINK],[ep.LISTING,ef.LISTING],[ep.MAIN,ef.MAIN],[ep.MALIGNMARK,ef.MALIGNMARK],[ep.MARQUEE,ef.MARQUEE],[ep.MATH,ef.MATH],[ep.MENU,ef.MENU],[ep.META,ef.META],[ep.MGLYPH,ef.MGLYPH],[ep.MI,ef.MI],[ep.MO,ef.MO],[ep.MN,ef.MN],[ep.MS,ef.MS],[ep.MTEXT,ef.MTEXT],[ep.NAV,ef.NAV],[ep.NOBR,ef.NOBR],[ep.NOFRAMES,ef.NOFRAMES],[ep.NOEMBED,ef.NOEMBED],[ep.NOSCRIPT,ef.NOSCRIPT],[ep.OBJECT,ef.OBJECT],[ep.OL,ef.OL],[ep.OPTGROUP,ef.OPTGROUP],[ep.OPTION,ef.OPTION],[ep.P,ef.P],[ep.PARAM,ef.PARAM],[ep.PLAINTEXT,ef.PLAINTEXT],[ep.PRE,ef.PRE],[ep.RB,ef.RB],[ep.RP,ef.RP],[ep.RT,ef.RT],[ep.RTC,ef.RTC],[ep.RUBY,ef.RUBY],[ep.S,ef.S],[ep.SCRIPT,ef.SCRIPT],[ep.SECTION,ef.SECTION],[ep.SELECT,ef.SELECT],[ep.SOURCE,ef.SOURCE],[ep.SMALL,ef.SMALL],[ep.SPAN,ef.SPAN],[ep.STRIKE,ef.STRIKE],[ep.STRONG,ef.STRONG],[ep.STYLE,ef.STYLE],[ep.SUB,ef.SUB],[ep.SUMMARY,ef.SUMMARY],[ep.SUP,ef.SUP],[ep.TABLE,ef.TABLE],[ep.TBODY,ef.TBODY],[ep.TEMPLATE,ef.TEMPLATE],[ep.TEXTAREA,ef.TEXTAREA],[ep.TFOOT,ef.TFOOT],[ep.TD,ef.TD],[ep.TH,ef.TH],[ep.THEAD,ef.THEAD],[ep.TITLE,ef.TITLE],[ep.TR,ef.TR],[ep.TRACK,ef.TRACK],[ep.TT,ef.TT],[ep.U,ef.U],[ep.UL,ef.UL],[ep.SVG,ef.SVG],[ep.VAR,ef.VAR],[ep.WBR,ef.WBR],[ep.XMP,ef.XMP]]);function getTagID(m){var g;return null!==(g=n0.get(m))&&void 0!==g?g:ef.UNKNOWN}let n1=ef,n2={[ed.HTML]:new Set([n1.ADDRESS,n1.APPLET,n1.AREA,n1.ARTICLE,n1.ASIDE,n1.BASE,n1.BASEFONT,n1.BGSOUND,n1.BLOCKQUOTE,n1.BODY,n1.BR,n1.BUTTON,n1.CAPTION,n1.CENTER,n1.COL,n1.COLGROUP,n1.DD,n1.DETAILS,n1.DIR,n1.DIV,n1.DL,n1.DT,n1.EMBED,n1.FIELDSET,n1.FIGCAPTION,n1.FIGURE,n1.FOOTER,n1.FORM,n1.FRAME,n1.FRAMESET,n1.H1,n1.H2,n1.H3,n1.H4,n1.H5,n1.H6,n1.HEAD,n1.HEADER,n1.HGROUP,n1.HR,n1.HTML,n1.IFRAME,n1.IMG,n1.INPUT,n1.LI,n1.LINK,n1.LISTING,n1.MAIN,n1.MARQUEE,n1.MENU,n1.META,n1.NAV,n1.NOEMBED,n1.NOFRAMES,n1.NOSCRIPT,n1.OBJECT,n1.OL,n1.P,n1.PARAM,n1.PLAINTEXT,n1.PRE,n1.SCRIPT,n1.SECTION,n1.SELECT,n1.SOURCE,n1.STYLE,n1.SUMMARY,n1.TABLE,n1.TBODY,n1.TD,n1.TEMPLATE,n1.TEXTAREA,n1.TFOOT,n1.TH,n1.THEAD,n1.TITLE,n1.TR,n1.TRACK,n1.UL,n1.WBR,n1.XMP]),[ed.MATHML]:new Set([n1.MI,n1.MO,n1.MN,n1.MS,n1.MTEXT,n1.ANNOTATION_XML]),[ed.SVG]:new Set([n1.TITLE,n1.FOREIGN_OBJECT,n1.DESC]),[ed.XLINK]:new Set,[ed.XML]:new Set,[ed.XMLNS]:new Set};function isNumberedHeader(m){return m===n1.H1||m===n1.H2||m===n1.H3||m===n1.H4||m===n1.H5||m===n1.H6}ep.STYLE,ep.SCRIPT,ep.XMP,ep.IFRAME,ep.NOEMBED,ep.NOFRAMES,ep.PLAINTEXT;let n3=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(Q=eg||(eg={}))[Q.DATA=0]="DATA",Q[Q.RCDATA=1]="RCDATA",Q[Q.RAWTEXT=2]="RAWTEXT",Q[Q.SCRIPT_DATA=3]="SCRIPT_DATA",Q[Q.PLAINTEXT=4]="PLAINTEXT",Q[Q.TAG_OPEN=5]="TAG_OPEN",Q[Q.END_TAG_OPEN=6]="END_TAG_OPEN",Q[Q.TAG_NAME=7]="TAG_NAME",Q[Q.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",Q[Q.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",Q[Q.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",Q[Q.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",Q[Q.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",Q[Q.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",Q[Q.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",Q[Q.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",Q[Q.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",Q[Q.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",Q[Q.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",Q[Q.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",Q[Q.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",Q[Q.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",Q[Q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",Q[Q.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",Q[Q.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",Q[Q.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",Q[Q.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",Q[Q.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",Q[Q.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",Q[Q.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",Q[Q.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",Q[Q.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",Q[Q.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",Q[Q.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",Q[Q.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",Q[Q.BOGUS_COMMENT=40]="BOGUS_COMMENT",Q[Q.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",Q[Q.COMMENT_START=42]="COMMENT_START",Q[Q.COMMENT_START_DASH=43]="COMMENT_START_DASH",Q[Q.COMMENT=44]="COMMENT",Q[Q.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",Q[Q.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",Q[Q.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",Q[Q.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",Q[Q.COMMENT_END_DASH=49]="COMMENT_END_DASH",Q[Q.COMMENT_END=50]="COMMENT_END",Q[Q.COMMENT_END_BANG=51]="COMMENT_END_BANG",Q[Q.DOCTYPE=52]="DOCTYPE",Q[Q.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",Q[Q.DOCTYPE_NAME=54]="DOCTYPE_NAME",Q[Q.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",Q[Q.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",Q[Q.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",Q[Q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",Q[Q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",Q[Q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",Q[Q.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",Q[Q.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",Q[Q.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",Q[Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",Q[Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",Q[Q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",Q[Q.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",Q[Q.CDATA_SECTION=68]="CDATA_SECTION",Q[Q.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",Q[Q.CDATA_SECTION_END=70]="CDATA_SECTION_END",Q[Q.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",Q[Q.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",Q[Q.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",Q[Q.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",Q[Q.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",Q[Q.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",Q[Q.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",Q[Q.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let n4={DATA:eg.DATA,RCDATA:eg.RCDATA,RAWTEXT:eg.RAWTEXT,SCRIPT_DATA:eg.SCRIPT_DATA,PLAINTEXT:eg.PLAINTEXT,CDATA_SECTION:eg.CDATA_SECTION};function isAsciiDigit(m){return m>=er.DIGIT_0&&m<=er.DIGIT_9}function isAsciiUpper(m){return m>=er.LATIN_CAPITAL_A&&m<=er.LATIN_CAPITAL_Z}function isAsciiLetter(m){return m>=er.LATIN_SMALL_A&&m<=er.LATIN_SMALL_Z||isAsciiUpper(m)}function tokenizer_isAsciiAlphaNumeric(m){return isAsciiLetter(m)||isAsciiDigit(m)}function isAsciiUpperHexDigit(m){return m>=er.LATIN_CAPITAL_A&&m<=er.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(m){return m>=er.LATIN_SMALL_A&&m<=er.LATIN_SMALL_F}function isWhitespace(m){return m===er.SPACE||m===er.LINE_FEED||m===er.TABULATION||m===er.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(m){return isWhitespace(m)||m===er.SOLIDUS||m===er.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(m,g){this.options=m,this.handler=g,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=eg.DATA,this.returnState=eg.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(g),this.currentLocation=this.getCurrentLocation(-1)}_err(m){var g,_;null===(_=(g=this.handler).onParseError)||void 0===_||_.call(g,this.preprocessor.getError(m))}getCurrentLocation(m){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-m,startOffset:this.preprocessor.offset-m,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let m=this._consume();this._ensureHibernation()||this._callState(m)}this.inLoop=!1}}pause(){this.paused=!0}resume(m){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==m||m())}write(m,g,_){this.active=!0,this.preprocessor.write(m,g),this._runParsingLoop(),this.paused||null==_||_()}insertHtmlAtCurrentPos(m){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(m),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(m){this.consumedAfterSnapshot-=m,this.preprocessor.retreat(m)}_reconsumeInState(m,g){this.state=m,this._callState(g)}_advanceBy(m){this.consumedAfterSnapshot+=m;for(let g=0;g<m;g++)this.preprocessor.advance()}_consumeSequenceIfMatch(m,g){return!!this.preprocessor.startsWith(m,g)&&(this._advanceBy(m.length-1),!0)}_createStartTagToken(){this.currentToken={type:ea.START_TAG,tagName:"",tagID:ef.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ea.END_TAG,tagName:"",tagID:ef.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(m){this.currentToken={type:ea.COMMENT,data:"",location:this.getCurrentLocation(m)}}_createDoctypeToken(m){this.currentToken={type:ea.DOCTYPE,name:m,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(m,g){this.currentCharacterToken={type:m,chars:g,location:this.currentLocation}}_createAttr(m){this.currentAttr={name:m,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var m,g;let _=this.currentToken;if(null===getTokenAttr(_,this.currentAttr.name)){if(_.attrs.push(this.currentAttr),_.location&&this.currentLocation){let T=null!==(m=(g=_.location).attrs)&&void 0!==m?m:g.attrs=Object.create(null);T[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ei.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(m){this._emitCurrentCharacterToken(m.location),this.currentToken=null,m.location&&(m.location.endLine=this.preprocessor.line,m.location.endCol=this.preprocessor.col+1,m.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let m=this.currentToken;this.prepareToken(m),m.tagID=getTagID(m.tagName),m.type===ea.START_TAG?(this.lastStartTagName=m.tagName,this.handler.onStartTag(m)):(m.attrs.length>0&&this._err(ei.endTagWithAttributes),m.selfClosing&&this._err(ei.endTagWithTrailingSolidus),this.handler.onEndTag(m)),this.preprocessor.dropParsedChunk()}emitCurrentComment(m){this.prepareToken(m),this.handler.onComment(m),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(m){this.prepareToken(m),this.handler.onDoctype(m),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(m){if(this.currentCharacterToken){switch(m&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=m.startLine,this.currentCharacterToken.location.endCol=m.startCol,this.currentCharacterToken.location.endOffset=m.startOffset),this.currentCharacterToken.type){case ea.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case ea.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case ea.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let m=this.getCurrentLocation(0);m&&(m.endLine=m.startLine,m.endCol=m.startCol,m.endOffset=m.startOffset),this._emitCurrentCharacterToken(m),this.handler.onEof({type:ea.EOF,location:m}),this.active=!1}_appendCharToCurrentCharacterToken(m,g){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==m)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=g;return}}this._createCharacterToken(m,g)}_emitCodePoint(m){let g=isWhitespace(m)?ea.WHITESPACE_CHARACTER:m===er.NULL?ea.NULL_CHARACTER:ea.CHARACTER;this._appendCharToCurrentCharacterToken(g,String.fromCodePoint(m))}_emitChars(m){this._appendCharToCurrentCharacterToken(ea.CHARACTER,m)}_matchNamedCharacterReference(m){let g=null,_=0,T=!1;for(let k=0,C=nX[0];k>=0&&!((k=determineBranch(nX,C,k+1,m))<0);m=this._consume()){_+=1,C=nX[k];let S=C&el.VALUE_LENGTH;if(S){var A;let C=(S>>14)-1;if(m!==er.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((A=this.preprocessor.peek(1))===er.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(A))?(g=[er.AMPERSAND],k+=C):(g=0===C?[nX[k]&~el.VALUE_LENGTH]:1===C?[nX[++k]]:[nX[++k],nX[++k]],_=0,T=m!==er.SEMICOLON),0===C){this._consume();break}}}return this._unconsume(_),T&&!this.preprocessor.endOfChunkHit&&this._err(ei.missingSemicolonAfterCharacterReference),this._unconsume(1),g}_isCharacterReferenceInAttribute(){return this.returnState===eg.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===eg.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===eg.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(m){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(m):this._emitCodePoint(m)}_callState(m){switch(this.state){case eg.DATA:this._stateData(m);break;case eg.RCDATA:this._stateRcdata(m);break;case eg.RAWTEXT:this._stateRawtext(m);break;case eg.SCRIPT_DATA:this._stateScriptData(m);break;case eg.PLAINTEXT:this._statePlaintext(m);break;case eg.TAG_OPEN:this._stateTagOpen(m);break;case eg.END_TAG_OPEN:this._stateEndTagOpen(m);break;case eg.TAG_NAME:this._stateTagName(m);break;case eg.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(m);break;case eg.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(m);break;case eg.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(m);break;case eg.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(m);break;case eg.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(m);break;case eg.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(m);break;case eg.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(m);break;case eg.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(m);break;case eg.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(m);break;case eg.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(m);break;case eg.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(m);break;case eg.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(m);break;case eg.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(m);break;case eg.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(m);break;case eg.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(m);break;case eg.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(m);break;case eg.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(m);break;case eg.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(m);break;case eg.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(m);break;case eg.ATTRIBUTE_NAME:this._stateAttributeName(m);break;case eg.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(m);break;case eg.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(m);break;case eg.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(m);break;case eg.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(m);break;case eg.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(m);break;case eg.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(m);break;case eg.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(m);break;case eg.BOGUS_COMMENT:this._stateBogusComment(m);break;case eg.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(m);break;case eg.COMMENT_START:this._stateCommentStart(m);break;case eg.COMMENT_START_DASH:this._stateCommentStartDash(m);break;case eg.COMMENT:this._stateComment(m);break;case eg.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(m);break;case eg.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(m);break;case eg.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(m);break;case eg.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(m);break;case eg.COMMENT_END_DASH:this._stateCommentEndDash(m);break;case eg.COMMENT_END:this._stateCommentEnd(m);break;case eg.COMMENT_END_BANG:this._stateCommentEndBang(m);break;case eg.DOCTYPE:this._stateDoctype(m);break;case eg.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(m);break;case eg.DOCTYPE_NAME:this._stateDoctypeName(m);break;case eg.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(m);break;case eg.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(m);break;case eg.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(m);break;case eg.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(m);break;case eg.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(m);break;case eg.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(m);break;case eg.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(m);break;case eg.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(m);break;case eg.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(m);break;case eg.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(m);break;case eg.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(m);break;case eg.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(m);break;case eg.BOGUS_DOCTYPE:this._stateBogusDoctype(m);break;case eg.CDATA_SECTION:this._stateCdataSection(m);break;case eg.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(m);break;case eg.CDATA_SECTION_END:this._stateCdataSectionEnd(m);break;case eg.CHARACTER_REFERENCE:this._stateCharacterReference(m);break;case eg.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(m);break;case eg.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(m);break;case eg.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(m);break;case eg.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(m);break;case eg.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(m);break;case eg.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(m);break;case eg.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(m);break;default:throw Error("Unknown state")}}_stateData(m){switch(m){case er.LESS_THAN_SIGN:this.state=eg.TAG_OPEN;break;case er.AMPERSAND:this.returnState=eg.DATA,this.state=eg.CHARACTER_REFERENCE;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitCodePoint(m);break;case er.EOF:this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateRcdata(m){switch(m){case er.AMPERSAND:this.returnState=eg.RCDATA,this.state=eg.CHARACTER_REFERENCE;break;case er.LESS_THAN_SIGN:this.state=eg.RCDATA_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateRawtext(m){switch(m){case er.LESS_THAN_SIGN:this.state=eg.RAWTEXT_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateScriptData(m){switch(m){case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._emitEOFToken();break;default:this._emitCodePoint(m)}}_statePlaintext(m){switch(m){case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateTagOpen(m){if(isAsciiLetter(m))this._createStartTagToken(),this.state=eg.TAG_NAME,this._stateTagName(m);else switch(m){case er.EXCLAMATION_MARK:this.state=eg.MARKUP_DECLARATION_OPEN;break;case er.SOLIDUS:this.state=eg.END_TAG_OPEN;break;case er.QUESTION_MARK:this._err(ei.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=eg.BOGUS_COMMENT,this._stateBogusComment(m);break;case er.EOF:this._err(ei.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(ei.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=eg.DATA,this._stateData(m)}}_stateEndTagOpen(m){if(isAsciiLetter(m))this._createEndTagToken(),this.state=eg.TAG_NAME,this._stateTagName(m);else switch(m){case er.GREATER_THAN_SIGN:this._err(ei.missingEndTagName),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(ei.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=eg.BOGUS_COMMENT,this._stateBogusComment(m)}}_stateTagName(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.BEFORE_ATTRIBUTE_NAME;break;case er.SOLIDUS:this.state=eg.SELF_CLOSING_START_TAG;break;case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentTagToken();break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.tagName+="";break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:g.tagName+=String.fromCodePoint(isAsciiUpper(m)?m+32:m)}}_stateRcdataLessThanSign(m){m===er.SOLIDUS?this.state=eg.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=eg.RCDATA,this._stateRcdata(m))}_stateRcdataEndTagOpen(m){isAsciiLetter(m)?(this.state=eg.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(m)):(this._emitChars("</"),this.state=eg.RCDATA,this._stateRcdata(m))}handleSpecialEndTag(m){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let g=this.currentToken;g.tagName=this.lastStartTagName;let _=this.preprocessor.peek(this.lastStartTagName.length);switch(_){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=eg.BEFORE_ATTRIBUTE_NAME,!1;case er.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=eg.SELF_CLOSING_START_TAG,!1;case er.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=eg.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(m){this.handleSpecialEndTag(m)&&(this._emitChars("</"),this.state=eg.RCDATA,this._stateRcdata(m))}_stateRawtextLessThanSign(m){m===er.SOLIDUS?this.state=eg.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=eg.RAWTEXT,this._stateRawtext(m))}_stateRawtextEndTagOpen(m){isAsciiLetter(m)?(this.state=eg.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(m)):(this._emitChars("</"),this.state=eg.RAWTEXT,this._stateRawtext(m))}_stateRawtextEndTagName(m){this.handleSpecialEndTag(m)&&(this._emitChars("</"),this.state=eg.RAWTEXT,this._stateRawtext(m))}_stateScriptDataLessThanSign(m){switch(m){case er.SOLIDUS:this.state=eg.SCRIPT_DATA_END_TAG_OPEN;break;case er.EXCLAMATION_MARK:this.state=eg.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=eg.SCRIPT_DATA,this._stateScriptData(m)}}_stateScriptDataEndTagOpen(m){isAsciiLetter(m)?(this.state=eg.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(m)):(this._emitChars("</"),this.state=eg.SCRIPT_DATA,this._stateScriptData(m))}_stateScriptDataEndTagName(m){this.handleSpecialEndTag(m)&&(this._emitChars("</"),this.state=eg.SCRIPT_DATA,this._stateScriptData(m))}_stateScriptDataEscapeStart(m){m===er.HYPHEN_MINUS?(this.state=eg.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=eg.SCRIPT_DATA,this._stateScriptData(m))}_stateScriptDataEscapeStartDash(m){m===er.HYPHEN_MINUS?(this.state=eg.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=eg.SCRIPT_DATA,this._stateScriptData(m))}_stateScriptDataEscaped(m){switch(m){case er.HYPHEN_MINUS:this.state=eg.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateScriptDataEscapedDash(m){switch(m){case er.HYPHEN_MINUS:this.state=eg.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.state=eg.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eg.SCRIPT_DATA_ESCAPED,this._emitCodePoint(m)}}_stateScriptDataEscapedDashDash(m){switch(m){case er.HYPHEN_MINUS:this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case er.GREATER_THAN_SIGN:this.state=eg.SCRIPT_DATA,this._emitChars(">");break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.state=eg.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eg.SCRIPT_DATA_ESCAPED,this._emitCodePoint(m)}}_stateScriptDataEscapedLessThanSign(m){m===er.SOLIDUS?this.state=eg.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(m)?(this._emitChars("<"),this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(m)):(this._emitChars("<"),this.state=eg.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(m))}_stateScriptDataEscapedEndTagOpen(m){isAsciiLetter(m)?(this.state=eg.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(m)):(this._emitChars("</"),this.state=eg.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(m))}_stateScriptDataEscapedEndTagName(m){this.handleSpecialEndTag(m)&&(this._emitChars("</"),this.state=eg.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(m))}_stateScriptDataDoubleEscapeStart(m){if(this.preprocessor.startsWith(nQ.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(nQ.SCRIPT.length))){this._emitCodePoint(m);for(let m=0;m<nQ.SCRIPT.length;m++)this._emitCodePoint(this._consume());this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=eg.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(m))}_stateScriptDataDoubleEscaped(m){switch(m){case er.HYPHEN_MINUS:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateScriptDataDoubleEscapedDash(m){switch(m){case er.HYPHEN_MINUS:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(m)}}_stateScriptDataDoubleEscapedDashDash(m){switch(m){case er.HYPHEN_MINUS:this._emitChars("-");break;case er.LESS_THAN_SIGN:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case er.GREATER_THAN_SIGN:this.state=eg.SCRIPT_DATA,this._emitChars(">");break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case er.EOF:this._err(ei.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(m)}}_stateScriptDataDoubleEscapedLessThanSign(m){m===er.SOLIDUS?(this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(m))}_stateScriptDataDoubleEscapeEnd(m){if(this.preprocessor.startsWith(nQ.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(nQ.SCRIPT.length))){this._emitCodePoint(m);for(let m=0;m<nQ.SCRIPT.length;m++)this._emitCodePoint(this._consume());this.state=eg.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=eg.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(m))}_stateBeforeAttributeName(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.SOLIDUS:case er.GREATER_THAN_SIGN:case er.EOF:this.state=eg.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(m);break;case er.EQUALS_SIGN:this._err(ei.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=eg.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=eg.ATTRIBUTE_NAME,this._stateAttributeName(m)}}_stateAttributeName(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:case er.SOLIDUS:case er.GREATER_THAN_SIGN:case er.EOF:this._leaveAttrName(),this.state=eg.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(m);break;case er.EQUALS_SIGN:this._leaveAttrName(),this.state=eg.BEFORE_ATTRIBUTE_VALUE;break;case er.QUOTATION_MARK:case er.APOSTROPHE:case er.LESS_THAN_SIGN:this._err(ei.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(m);break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.currentAttr.name+="";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(m)?m+32:m)}}_stateAfterAttributeName(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.SOLIDUS:this.state=eg.SELF_CLOSING_START_TAG;break;case er.EQUALS_SIGN:this.state=eg.BEFORE_ATTRIBUTE_VALUE;break;case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentTagToken();break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=eg.ATTRIBUTE_NAME,this._stateAttributeName(m)}}_stateBeforeAttributeValue(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.QUOTATION_MARK:this.state=eg.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case er.APOSTROPHE:this.state=eg.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case er.GREATER_THAN_SIGN:this._err(ei.missingAttributeValue),this.state=eg.DATA,this.emitCurrentTagToken();break;default:this.state=eg.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(m)}}_stateAttributeValueDoubleQuoted(m){switch(m){case er.QUOTATION_MARK:this.state=eg.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case er.AMPERSAND:this.returnState=eg.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=eg.CHARACTER_REFERENCE;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.currentAttr.value+="";break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(m)}}_stateAttributeValueSingleQuoted(m){switch(m){case er.APOSTROPHE:this.state=eg.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case er.AMPERSAND:this.returnState=eg.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=eg.CHARACTER_REFERENCE;break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.currentAttr.value+="";break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(m)}}_stateAttributeValueUnquoted(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this._leaveAttrValue(),this.state=eg.BEFORE_ATTRIBUTE_NAME;break;case er.AMPERSAND:this.returnState=eg.ATTRIBUTE_VALUE_UNQUOTED,this.state=eg.CHARACTER_REFERENCE;break;case er.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eg.DATA,this.emitCurrentTagToken();break;case er.NULL:this._err(ei.unexpectedNullCharacter),this.currentAttr.value+="";break;case er.QUOTATION_MARK:case er.APOSTROPHE:case er.LESS_THAN_SIGN:case er.EQUALS_SIGN:case er.GRAVE_ACCENT:this._err(ei.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(m);break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(m)}}_stateAfterAttributeValueQuoted(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this._leaveAttrValue(),this.state=eg.BEFORE_ATTRIBUTE_NAME;break;case er.SOLIDUS:this._leaveAttrValue(),this.state=eg.SELF_CLOSING_START_TAG;break;case er.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eg.DATA,this.emitCurrentTagToken();break;case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this._err(ei.missingWhitespaceBetweenAttributes),this.state=eg.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(m)}}_stateSelfClosingStartTag(m){switch(m){case er.GREATER_THAN_SIGN:{let m=this.currentToken;m.selfClosing=!0,this.state=eg.DATA,this.emitCurrentTagToken();break}case er.EOF:this._err(ei.eofInTag),this._emitEOFToken();break;default:this._err(ei.unexpectedSolidusInTag),this.state=eg.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(m)}}_stateBogusComment(m){let g=this.currentToken;switch(m){case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentComment(g);break;case er.EOF:this.emitCurrentComment(g),this._emitEOFToken();break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.data+="";break;default:g.data+=String.fromCodePoint(m)}}_stateMarkupDeclarationOpen(m){this._consumeSequenceIfMatch(nQ.DASH_DASH,!0)?(this._createCommentToken(nQ.DASH_DASH.length+1),this.state=eg.COMMENT_START):this._consumeSequenceIfMatch(nQ.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(nQ.DOCTYPE.length+1),this.state=eg.DOCTYPE):this._consumeSequenceIfMatch(nQ.CDATA_START,!0)?this.inForeignNode?this.state=eg.CDATA_SECTION:(this._err(ei.cdataInHtmlContent),this._createCommentToken(nQ.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=eg.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ei.incorrectlyOpenedComment),this._createCommentToken(2),this.state=eg.BOGUS_COMMENT,this._stateBogusComment(m))}_stateCommentStart(m){switch(m){case er.HYPHEN_MINUS:this.state=eg.COMMENT_START_DASH;break;case er.GREATER_THAN_SIGN:{this._err(ei.abruptClosingOfEmptyComment),this.state=eg.DATA;let m=this.currentToken;this.emitCurrentComment(m);break}default:this.state=eg.COMMENT,this._stateComment(m)}}_stateCommentStartDash(m){let g=this.currentToken;switch(m){case er.HYPHEN_MINUS:this.state=eg.COMMENT_END;break;case er.GREATER_THAN_SIGN:this._err(ei.abruptClosingOfEmptyComment),this.state=eg.DATA,this.emitCurrentComment(g);break;case er.EOF:this._err(ei.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="-",this.state=eg.COMMENT,this._stateComment(m)}}_stateComment(m){let g=this.currentToken;switch(m){case er.HYPHEN_MINUS:this.state=eg.COMMENT_END_DASH;break;case er.LESS_THAN_SIGN:g.data+="<",this.state=eg.COMMENT_LESS_THAN_SIGN;break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.data+="";break;case er.EOF:this._err(ei.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+=String.fromCodePoint(m)}}_stateCommentLessThanSign(m){let g=this.currentToken;switch(m){case er.EXCLAMATION_MARK:g.data+="!",this.state=eg.COMMENT_LESS_THAN_SIGN_BANG;break;case er.LESS_THAN_SIGN:g.data+="<";break;default:this.state=eg.COMMENT,this._stateComment(m)}}_stateCommentLessThanSignBang(m){m===er.HYPHEN_MINUS?this.state=eg.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=eg.COMMENT,this._stateComment(m))}_stateCommentLessThanSignBangDash(m){m===er.HYPHEN_MINUS?this.state=eg.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=eg.COMMENT_END_DASH,this._stateCommentEndDash(m))}_stateCommentLessThanSignBangDashDash(m){m!==er.GREATER_THAN_SIGN&&m!==er.EOF&&this._err(ei.nestedComment),this.state=eg.COMMENT_END,this._stateCommentEnd(m)}_stateCommentEndDash(m){let g=this.currentToken;switch(m){case er.HYPHEN_MINUS:this.state=eg.COMMENT_END;break;case er.EOF:this._err(ei.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="-",this.state=eg.COMMENT,this._stateComment(m)}}_stateCommentEnd(m){let g=this.currentToken;switch(m){case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentComment(g);break;case er.EXCLAMATION_MARK:this.state=eg.COMMENT_END_BANG;break;case er.HYPHEN_MINUS:g.data+="-";break;case er.EOF:this._err(ei.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="--",this.state=eg.COMMENT,this._stateComment(m)}}_stateCommentEndBang(m){let g=this.currentToken;switch(m){case er.HYPHEN_MINUS:g.data+="--!",this.state=eg.COMMENT_END_DASH;break;case er.GREATER_THAN_SIGN:this._err(ei.incorrectlyClosedComment),this.state=eg.DATA,this.emitCurrentComment(g);break;case er.EOF:this._err(ei.eofInComment),this.emitCurrentComment(g),this._emitEOFToken();break;default:g.data+="--!",this.state=eg.COMMENT,this._stateComment(m)}}_stateDoctype(m){switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.BEFORE_DOCTYPE_NAME;break;case er.GREATER_THAN_SIGN:this.state=eg.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(m);break;case er.EOF:{this._err(ei.eofInDoctype),this._createDoctypeToken(null);let m=this.currentToken;m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break}default:this._err(ei.missingWhitespaceBeforeDoctypeName),this.state=eg.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(m)}}_stateBeforeDoctypeName(m){if(isAsciiUpper(m))this._createDoctypeToken(String.fromCharCode(m+32)),this.state=eg.DOCTYPE_NAME;else switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.NULL:this._err(ei.unexpectedNullCharacter),this._createDoctypeToken(""),this.state=eg.DOCTYPE_NAME;break;case er.GREATER_THAN_SIGN:{this._err(ei.missingDoctypeName),this._createDoctypeToken(null);let m=this.currentToken;m.forceQuirks=!0,this.emitCurrentDoctype(m),this.state=eg.DATA;break}case er.EOF:{this._err(ei.eofInDoctype),this._createDoctypeToken(null);let m=this.currentToken;m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(m)),this.state=eg.DOCTYPE_NAME}}_stateDoctypeName(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.AFTER_DOCTYPE_NAME;break;case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.name+="";break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.name+=String.fromCodePoint(isAsciiUpper(m)?m+32:m)}}_stateAfterDoctypeName(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(nQ.PUBLIC,!1)?this.state=eg.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(nQ.SYSTEM,!1)?this.state=eg.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ei.invalidCharacterSequenceAfterDoctypeName),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m))}}_stateAfterDoctypePublicKeyword(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case er.QUOTATION_MARK:this._err(ei.missingWhitespaceAfterDoctypePublicKeyword),g.publicId="",this.state=eg.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:this._err(ei.missingWhitespaceAfterDoctypePublicKeyword),g.publicId="",this.state=eg.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case er.GREATER_THAN_SIGN:this._err(ei.missingDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateBeforeDoctypePublicIdentifier(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.QUOTATION_MARK:g.publicId="",this.state=eg.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:g.publicId="",this.state=eg.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case er.GREATER_THAN_SIGN:this._err(ei.missingDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypePublicIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateDoctypePublicIdentifierDoubleQuoted(m){let g=this.currentToken;switch(m){case er.QUOTATION_MARK:this.state=eg.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.publicId+="";break;case er.GREATER_THAN_SIGN:this._err(ei.abruptDoctypePublicIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.publicId+=String.fromCodePoint(m)}}_stateDoctypePublicIdentifierSingleQuoted(m){let g=this.currentToken;switch(m){case er.APOSTROPHE:this.state=eg.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.publicId+="";break;case er.GREATER_THAN_SIGN:this._err(ei.abruptDoctypePublicIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.publicId+=String.fromCodePoint(m)}}_stateAfterDoctypePublicIdentifier(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case er.GREATER_THAN_SIGN:this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.QUOTATION_MARK:this._err(ei.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:this._err(ei.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateBetweenDoctypePublicAndSystemIdentifiers(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.QUOTATION_MARK:g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateAfterDoctypeSystemKeyword(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:this.state=eg.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case er.QUOTATION_MARK:this._err(ei.missingWhitespaceAfterDoctypeSystemKeyword),g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:this._err(ei.missingWhitespaceAfterDoctypeSystemKeyword),g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case er.GREATER_THAN_SIGN:this._err(ei.missingDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateBeforeDoctypeSystemIdentifier(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.QUOTATION_MARK:g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case er.APOSTROPHE:g.systemId="",this.state=eg.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case er.GREATER_THAN_SIGN:this._err(ei.missingDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.DATA,this.emitCurrentDoctype(g);break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.missingQuoteBeforeDoctypeSystemIdentifier),g.forceQuirks=!0,this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateDoctypeSystemIdentifierDoubleQuoted(m){let g=this.currentToken;switch(m){case er.QUOTATION_MARK:this.state=eg.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.systemId+="";break;case er.GREATER_THAN_SIGN:this._err(ei.abruptDoctypeSystemIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.systemId+=String.fromCodePoint(m)}}_stateDoctypeSystemIdentifierSingleQuoted(m){let g=this.currentToken;switch(m){case er.APOSTROPHE:this.state=eg.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case er.NULL:this._err(ei.unexpectedNullCharacter),g.systemId+="";break;case er.GREATER_THAN_SIGN:this._err(ei.abruptDoctypeSystemIdentifier),g.forceQuirks=!0,this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:g.systemId+=String.fromCodePoint(m)}}_stateAfterDoctypeSystemIdentifier(m){let g=this.currentToken;switch(m){case er.SPACE:case er.LINE_FEED:case er.TABULATION:case er.FORM_FEED:break;case er.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.EOF:this._err(ei.eofInDoctype),g.forceQuirks=!0,this.emitCurrentDoctype(g),this._emitEOFToken();break;default:this._err(ei.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=eg.BOGUS_DOCTYPE,this._stateBogusDoctype(m)}}_stateBogusDoctype(m){let g=this.currentToken;switch(m){case er.GREATER_THAN_SIGN:this.emitCurrentDoctype(g),this.state=eg.DATA;break;case er.NULL:this._err(ei.unexpectedNullCharacter);break;case er.EOF:this.emitCurrentDoctype(g),this._emitEOFToken()}}_stateCdataSection(m){switch(m){case er.RIGHT_SQUARE_BRACKET:this.state=eg.CDATA_SECTION_BRACKET;break;case er.EOF:this._err(ei.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(m)}}_stateCdataSectionBracket(m){m===er.RIGHT_SQUARE_BRACKET?this.state=eg.CDATA_SECTION_END:(this._emitChars("]"),this.state=eg.CDATA_SECTION,this._stateCdataSection(m))}_stateCdataSectionEnd(m){switch(m){case er.GREATER_THAN_SIGN:this.state=eg.DATA;break;case er.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=eg.CDATA_SECTION,this._stateCdataSection(m)}}_stateCharacterReference(m){m===er.NUMBER_SIGN?this.state=eg.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(m)?(this.state=eg.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(m)):(this._flushCodePointConsumedAsCharacterReference(er.AMPERSAND),this._reconsumeInState(this.returnState,m))}_stateNamedCharacterReference(m){let g=this._matchNamedCharacterReference(m);if(this._ensureHibernation());else if(g){for(let m=0;m<g.length;m++)this._flushCodePointConsumedAsCharacterReference(g[m]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(er.AMPERSAND),this.state=eg.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(m){tokenizer_isAsciiAlphaNumeric(m)?this._flushCodePointConsumedAsCharacterReference(m):(m===er.SEMICOLON&&this._err(ei.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,m))}_stateNumericCharacterReference(m){this.charRefCode=0,m===er.LATIN_SMALL_X||m===er.LATIN_CAPITAL_X?this.state=eg.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(m)?(this.state=eg.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(m)):(this._err(ei.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(er.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(er.NUMBER_SIGN),this._reconsumeInState(this.returnState,m))}_stateHexademicalCharacterReferenceStart(m){isAsciiDigit(m)||isAsciiUpperHexDigit(m)||isAsciiLowerHexDigit(m)?(this.state=eg.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(m)):(this._err(ei.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(er.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(er.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(m){isAsciiUpperHexDigit(m)?this.charRefCode=16*this.charRefCode+m-55:isAsciiLowerHexDigit(m)?this.charRefCode=16*this.charRefCode+m-87:isAsciiDigit(m)?this.charRefCode=16*this.charRefCode+m-48:m===er.SEMICOLON?this.state=eg.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ei.missingSemicolonAfterCharacterReference),this.state=eg.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(m))}_stateDecimalCharacterReference(m){isAsciiDigit(m)?this.charRefCode=10*this.charRefCode+m-48:m===er.SEMICOLON?this.state=eg.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ei.missingSemicolonAfterCharacterReference),this.state=eg.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(m))}_stateNumericCharacterReferenceEnd(m){if(this.charRefCode===er.NULL)this._err(ei.nullCharacterReference),this.charRefCode=er.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ei.characterReferenceOutsideUnicodeRange),this.charRefCode=er.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(ei.surrogateCharacterReference),this.charRefCode=er.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(ei.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===er.CARRIAGE_RETURN){this._err(ei.controlCharacterReference);let m=n3.get(this.charRefCode);void 0!==m&&(this.charRefCode=m)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,m)}};let n5=new Set([ef.DD,ef.DT,ef.LI,ef.OPTGROUP,ef.OPTION,ef.P,ef.RB,ef.RP,ef.RT,ef.RTC]),n6=new Set([...n5,ef.CAPTION,ef.COLGROUP,ef.TBODY,ef.TD,ef.TFOOT,ef.TH,ef.THEAD,ef.TR]),n8=new Map([[ef.APPLET,ed.HTML],[ef.CAPTION,ed.HTML],[ef.HTML,ed.HTML],[ef.MARQUEE,ed.HTML],[ef.OBJECT,ed.HTML],[ef.TABLE,ed.HTML],[ef.TD,ed.HTML],[ef.TEMPLATE,ed.HTML],[ef.TH,ed.HTML],[ef.ANNOTATION_XML,ed.MATHML],[ef.MI,ed.MATHML],[ef.MN,ed.MATHML],[ef.MO,ed.MATHML],[ef.MS,ed.MATHML],[ef.MTEXT,ed.MATHML],[ef.DESC,ed.SVG],[ef.FOREIGN_OBJECT,ed.SVG],[ef.TITLE,ed.SVG]]),n9=[ef.H1,ef.H2,ef.H3,ef.H4,ef.H5,ef.H6],n7=[ef.TR,ef.TEMPLATE,ef.HTML],re=[ef.TBODY,ef.TFOOT,ef.THEAD,ef.TEMPLATE,ef.HTML],rt=[ef.TABLE,ef.TEMPLATE,ef.HTML],rn=[ef.TD,ef.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(m,g,_){this.treeAdapter=g,this.handler=_,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ef.UNKNOWN,this.current=m}_indexOf(m){return this.items.lastIndexOf(m,this.stackTop)}_isInTemplate(){return this.currentTagId===ef.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ed.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(m,g){this.stackTop++,this.items[this.stackTop]=m,this.current=m,this.tagIDs[this.stackTop]=g,this.currentTagId=g,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(m,g,!0)}pop(){let m=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(m,!0)}replace(m,g){let _=this._indexOf(m);this.items[_]=g,_===this.stackTop&&(this.current=g)}insertAfter(m,g,_){let T=this._indexOf(m)+1;this.items.splice(T,0,g),this.tagIDs.splice(T,0,_),this.stackTop++,T===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,T===this.stackTop)}popUntilTagNamePopped(m){let g=this.stackTop+1;do g=this.tagIDs.lastIndexOf(m,g-1);while(g>0&&this.treeAdapter.getNamespaceURI(this.items[g])!==ed.HTML);this.shortenToLength(g<0?0:g)}shortenToLength(m){for(;this.stackTop>=m;){let g=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(g,this.stackTop<m)}}popUntilElementPopped(m){let g=this._indexOf(m);this.shortenToLength(g<0?0:g)}popUntilPopped(m,g){let _=this._indexOfTagNames(m,g);this.shortenToLength(_<0?0:_)}popUntilNumberedHeaderPopped(){this.popUntilPopped(n9,ed.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rn,ed.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(m,g){for(let _=this.stackTop;_>=0;_--)if(m.includes(this.tagIDs[_])&&this.treeAdapter.getNamespaceURI(this.items[_])===g)return _;return -1}clearBackTo(m,g){let _=this._indexOfTagNames(m,g);this.shortenToLength(_+1)}clearBackToTableContext(){this.clearBackTo(rt,ed.HTML)}clearBackToTableBodyContext(){this.clearBackTo(re,ed.HTML)}clearBackToTableRowContext(){this.clearBackTo(n7,ed.HTML)}remove(m){let g=this._indexOf(m);g>=0&&(g===this.stackTop?this.pop():(this.items.splice(g,1),this.tagIDs.splice(g,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(m,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ef.BODY?this.items[1]:null}contains(m){return this._indexOf(m)>-1}getCommonAncestor(m){let g=this._indexOf(m)-1;return g>=0?this.items[g]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ef.HTML}hasInScope(m){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],T=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===m&&T===ed.HTML)break;if(n8.get(_)===T)return!1}return!0}hasNumberedHeaderInScope(){for(let m=this.stackTop;m>=0;m--){let g=this.tagIDs[m],_=this.treeAdapter.getNamespaceURI(this.items[m]);if(isNumberedHeader(g)&&_===ed.HTML)break;if(n8.get(g)===_)return!1}return!0}hasInListItemScope(m){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],T=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===m&&T===ed.HTML)break;if((_===ef.UL||_===ef.OL)&&T===ed.HTML||n8.get(_)===T)return!1}return!0}hasInButtonScope(m){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],T=this.treeAdapter.getNamespaceURI(this.items[g]);if(_===m&&T===ed.HTML)break;if(_===ef.BUTTON&&T===ed.HTML||n8.get(_)===T)return!1}return!0}hasInTableScope(m){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],T=this.treeAdapter.getNamespaceURI(this.items[g]);if(T===ed.HTML){if(_===m)break;if(_===ef.TABLE||_===ef.TEMPLATE||_===ef.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let m=this.stackTop;m>=0;m--){let g=this.tagIDs[m],_=this.treeAdapter.getNamespaceURI(this.items[m]);if(_===ed.HTML){if(g===ef.TBODY||g===ef.THEAD||g===ef.TFOOT)break;if(g===ef.TABLE||g===ef.HTML)return!1}}return!0}hasInSelectScope(m){for(let g=this.stackTop;g>=0;g--){let _=this.tagIDs[g],T=this.treeAdapter.getNamespaceURI(this.items[g]);if(T===ed.HTML){if(_===m)break;if(_!==ef.OPTION&&_!==ef.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;n5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;n6.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(m){for(;this.currentTagId!==m&&n6.has(this.currentTagId);)this.pop()}};(K=e_=e_||(e_={}))[K.Marker=0]="Marker",K[K.Element=1]="Element";let rr={type:e_.Marker};let FormattingElementList=class FormattingElementList{constructor(m){this.treeAdapter=m,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(m,g){let _=[],T=g.length,A=this.treeAdapter.getTagName(m),k=this.treeAdapter.getNamespaceURI(m);for(let m=0;m<this.entries.length;m++){let g=this.entries[m];if(g.type===e_.Marker)break;let{element:C}=g;if(this.treeAdapter.getTagName(C)===A&&this.treeAdapter.getNamespaceURI(C)===k){let g=this.treeAdapter.getAttrList(C);g.length===T&&_.push({idx:m,attrs:g})}}return _}_ensureNoahArkCondition(m){if(this.entries.length<3)return;let g=this.treeAdapter.getAttrList(m),_=this._getNoahArkConditionCandidates(m,g);if(_.length<3)return;let T=new Map(g.map(m=>[m.name,m.value])),A=0;for(let m=0;m<_.length;m++){let g=_[m];g.attrs.every(m=>T.get(m.name)===m.value)&&(A+=1)>=3&&this.entries.splice(g.idx,1)}}insertMarker(){this.entries.unshift(rr)}pushElement(m,g){this._ensureNoahArkCondition(m),this.entries.unshift({type:e_.Element,element:m,token:g})}insertElementAfterBookmark(m,g){let _=this.entries.indexOf(this.bookmark);this.entries.splice(_,0,{type:e_.Element,element:m,token:g})}removeEntry(m){let g=this.entries.indexOf(m);g>=0&&this.entries.splice(g,1)}clearToLastMarker(){let m=this.entries.indexOf(rr);m>=0?this.entries.splice(0,m+1):this.entries.length=0}getElementEntryInScopeWithTagName(m){let g=this.entries.find(g=>g.type===e_.Marker||this.treeAdapter.getTagName(g.element)===m);return g&&g.type===e_.Element?g:null}getElementEntry(m){return this.entries.find(g=>g.type===e_.Element&&g.element===m)}};function createTextNode(m){return{nodeName:"#text",value:m,parentNode:null}}let ra={createDocument:()=>({nodeName:"#document",mode:eh.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(m,g,_)=>({nodeName:m,tagName:m,attrs:_,namespaceURI:g,childNodes:[],parentNode:null}),createCommentNode:m=>({nodeName:"#comment",data:m,parentNode:null}),appendChild(m,g){m.childNodes.push(g),g.parentNode=m},insertBefore(m,g,_){let T=m.childNodes.indexOf(_);m.childNodes.splice(T,0,g),g.parentNode=m},setTemplateContent(m,g){m.content=g},getTemplateContent:m=>m.content,setDocumentType(m,g,_,T){let A=m.childNodes.find(m=>"#documentType"===m.nodeName);A?(A.name=g,A.publicId=_,A.systemId=T):ra.appendChild(m,{nodeName:"#documentType",name:g,publicId:_,systemId:T,parentNode:null})},setDocumentMode(m,g){m.mode=g},getDocumentMode:m=>m.mode,detachNode(m){if(m.parentNode){let g=m.parentNode.childNodes.indexOf(m);m.parentNode.childNodes.splice(g,1),m.parentNode=null}},insertText(m,g){if(m.childNodes.length>0){let _=m.childNodes[m.childNodes.length-1];if(ra.isTextNode(_)){_.value+=g;return}}ra.appendChild(m,createTextNode(g))},insertTextBefore(m,g,_){let T=m.childNodes[m.childNodes.indexOf(_)-1];T&&ra.isTextNode(T)?T.value+=g:ra.insertBefore(m,createTextNode(g),_)},adoptAttributes(m,g){let _=new Set(m.attrs.map(m=>m.name));for(let T=0;T<g.length;T++)_.has(g[T].name)||m.attrs.push(g[T])},getFirstChild:m=>m.childNodes[0],getChildNodes:m=>m.childNodes,getParentNode:m=>m.parentNode,getAttrList:m=>m.attrs,getTagName:m=>m.tagName,getNamespaceURI:m=>m.namespaceURI,getTextNodeContent:m=>m.value,getCommentNodeContent:m=>m.data,getDocumentTypeNodeName:m=>m.name,getDocumentTypeNodePublicId:m=>m.publicId,getDocumentTypeNodeSystemId:m=>m.systemId,isTextNode:m=>"#text"===m.nodeName,isCommentNode:m=>"#comment"===m.nodeName,isDocumentTypeNode:m=>"#documentType"===m.nodeName,isElementNode:m=>Object.prototype.hasOwnProperty.call(m,"tagName"),setNodeSourceCodeLocation(m,g){m.sourceCodeLocation=g},getNodeSourceCodeLocation:m=>m.sourceCodeLocation,updateNodeSourceCodeLocation(m,g){m.sourceCodeLocation={...m.sourceCodeLocation,...g}}},ro="html",rs=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rl=[...rs,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rc=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ru=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rd=[...ru,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(m,g){return g.some(g=>m.startsWith(g))}let rm={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rh=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(m=>[m.toLowerCase(),m])),rp=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ed.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ed.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ed.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ed.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ed.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ed.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ed.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:ed.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:ed.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ed.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ed.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ed.XMLNS}]]),rf=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(m=>[m.toLowerCase(),m])),rg=new Set([ef.B,ef.BIG,ef.BLOCKQUOTE,ef.BODY,ef.BR,ef.CENTER,ef.CODE,ef.DD,ef.DIV,ef.DL,ef.DT,ef.EM,ef.EMBED,ef.H1,ef.H2,ef.H3,ef.H4,ef.H5,ef.H6,ef.HEAD,ef.HR,ef.I,ef.IMG,ef.LI,ef.LISTING,ef.MENU,ef.META,ef.NOBR,ef.OL,ef.P,ef.PRE,ef.RUBY,ef.S,ef.SMALL,ef.SPAN,ef.STRONG,ef.STRIKE,ef.SUB,ef.SUP,ef.TABLE,ef.TT,ef.U,ef.UL,ef.VAR]);function adjustTokenMathMLAttrs(m){for(let g=0;g<m.attrs.length;g++)if("definitionurl"===m.attrs[g].name){m.attrs[g].name="definitionURL";break}}function adjustTokenSVGAttrs(m){for(let g=0;g<m.attrs.length;g++){let _=rh.get(m.attrs[g].name);null!=_&&(m.attrs[g].name=_)}}function adjustTokenXMLAttrs(m){for(let g=0;g<m.attrs.length;g++){let _=rp.get(m.attrs[g].name);_&&(m.attrs[g].prefix=_.prefix,m.attrs[g].name=_.name,m.attrs[g].namespace=_.namespace)}}(Z=eE||(eE={}))[Z.INITIAL=0]="INITIAL",Z[Z.BEFORE_HTML=1]="BEFORE_HTML",Z[Z.BEFORE_HEAD=2]="BEFORE_HEAD",Z[Z.IN_HEAD=3]="IN_HEAD",Z[Z.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",Z[Z.AFTER_HEAD=5]="AFTER_HEAD",Z[Z.IN_BODY=6]="IN_BODY",Z[Z.TEXT=7]="TEXT",Z[Z.IN_TABLE=8]="IN_TABLE",Z[Z.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",Z[Z.IN_CAPTION=10]="IN_CAPTION",Z[Z.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",Z[Z.IN_TABLE_BODY=12]="IN_TABLE_BODY",Z[Z.IN_ROW=13]="IN_ROW",Z[Z.IN_CELL=14]="IN_CELL",Z[Z.IN_SELECT=15]="IN_SELECT",Z[Z.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",Z[Z.IN_TEMPLATE=17]="IN_TEMPLATE",Z[Z.AFTER_BODY=18]="AFTER_BODY",Z[Z.IN_FRAMESET=19]="IN_FRAMESET",Z[Z.AFTER_FRAMESET=20]="AFTER_FRAMESET",Z[Z.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",Z[Z.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let r_={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rE=new Set([ef.TABLE,ef.TBODY,ef.TFOOT,ef.THEAD,ef.TR]),rT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ra,onParseError:null};let parser_Parser=class parser_Parser{constructor(m,g,_=null,T=null){this.fragmentContext=_,this.scriptHandler=T,this.currentToken=null,this.stopped=!1,this.insertionMode=eE.INITIAL,this.originalInsertionMode=eE.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rT,...m},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=g?g:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=_?getTagID(this.treeAdapter.getTagName(_)):ef.UNKNOWN,this._setContextModes(null!=_?_:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(m,g){let _=new this(g);return _.tokenizer.write(m,!0),_.document}static getFragmentParser(m,g){let _={...rT,...g};null!=m||(m=_.treeAdapter.createElement(ep.TEMPLATE,ed.HTML,[]));let T=_.treeAdapter.createElement("documentmock",ed.HTML,[]),A=new this(_,T,m);return A.fragmentContextID===ef.TEMPLATE&&A.tmplInsertionModeStack.unshift(eE.IN_TEMPLATE),A._initTokenizerForFragmentParsing(),A._insertFakeRootElement(),A._resetInsertionMode(),A._findFormInFragmentContext(),A}getFragment(){let m=this.treeAdapter.getFirstChild(this.document),g=this.treeAdapter.createDocumentFragment();return this._adoptNodes(m,g),g}_err(m,g,_){var T;if(!this.onParseError)return;let A=null!==(T=m.location)&&void 0!==T?T:r_,k={code:g,startLine:A.startLine,startCol:A.startCol,startOffset:A.startOffset,endLine:_?A.startLine:A.endLine,endCol:_?A.startCol:A.endCol,endOffset:_?A.startOffset:A.endOffset};this.onParseError(k)}onItemPush(m,g,_){var T,A;null===(A=(T=this.treeAdapter).onItemPush)||void 0===A||A.call(T,m),_&&this.openElements.stackTop>0&&this._setContextModes(m,g)}onItemPop(m,g){var _,T;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(m,this.currentToken),null===(T=(_=this.treeAdapter).onItemPop)||void 0===T||T.call(_,m,this.openElements.current),g){let m,g;0===this.openElements.stackTop&&this.fragmentContext?(m=this.fragmentContext,g=this.fragmentContextID):{current:m,currentTagId:g}=this.openElements,this._setContextModes(m,g)}}_setContextModes(m,g){let _=m===this.document||this.treeAdapter.getNamespaceURI(m)===ed.HTML;this.currentNotInHTML=!_,this.tokenizer.inForeignNode=!_&&!this._isIntegrationPoint(g,m)}_switchToTextParsing(m,g){this._insertElement(m,ed.HTML),this.tokenizer.state=g,this.originalInsertionMode=this.insertionMode,this.insertionMode=eE.TEXT}switchToPlaintextParsing(){this.insertionMode=eE.TEXT,this.originalInsertionMode=eE.IN_BODY,this.tokenizer.state=n4.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let m=this.fragmentContext;for(;m;){if(this.treeAdapter.getTagName(m)===ep.FORM){this.formElement=m;break}m=this.treeAdapter.getParentNode(m)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===ed.HTML)switch(this.fragmentContextID){case ef.TITLE:case ef.TEXTAREA:this.tokenizer.state=n4.RCDATA;break;case ef.STYLE:case ef.XMP:case ef.IFRAME:case ef.NOEMBED:case ef.NOFRAMES:case ef.NOSCRIPT:this.tokenizer.state=n4.RAWTEXT;break;case ef.SCRIPT:this.tokenizer.state=n4.SCRIPT_DATA;break;case ef.PLAINTEXT:this.tokenizer.state=n4.PLAINTEXT}}_setDocumentType(m){let g=m.name||"",_=m.publicId||"",T=m.systemId||"";if(this.treeAdapter.setDocumentType(this.document,g,_,T),m.location){let g=this.treeAdapter.getChildNodes(this.document),_=g.find(m=>this.treeAdapter.isDocumentTypeNode(m));_&&this.treeAdapter.setNodeSourceCodeLocation(_,m.location)}}_attachElementToTree(m,g){if(this.options.sourceCodeLocationInfo){let _=g&&{...g,startTag:g};this.treeAdapter.setNodeSourceCodeLocation(m,_)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(m);else{let g=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(g,m)}}_appendElement(m,g){let _=this.treeAdapter.createElement(m.tagName,g,m.attrs);this._attachElementToTree(_,m.location)}_insertElement(m,g){let _=this.treeAdapter.createElement(m.tagName,g,m.attrs);this._attachElementToTree(_,m.location),this.openElements.push(_,m.tagID)}_insertFakeElement(m,g){let _=this.treeAdapter.createElement(m,ed.HTML,[]);this._attachElementToTree(_,null),this.openElements.push(_,g)}_insertTemplate(m){let g=this.treeAdapter.createElement(m.tagName,ed.HTML,m.attrs),_=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(g,_),this._attachElementToTree(g,m.location),this.openElements.push(g,m.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,null)}_insertFakeRootElement(){let m=this.treeAdapter.createElement(ep.HTML,ed.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(m,null),this.treeAdapter.appendChild(this.openElements.current,m),this.openElements.push(m,ef.HTML)}_appendCommentNode(m,g){let _=this.treeAdapter.createCommentNode(m.data);this.treeAdapter.appendChild(g,_),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,m.location)}_insertCharacters(m){let g,_;if(this._shouldFosterParentOnInsertion()?({parent:g,beforeElement:_}=this._findFosterParentingLocation(),_?this.treeAdapter.insertTextBefore(g,m.chars,_):this.treeAdapter.insertText(g,m.chars)):(g=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(g,m.chars)),!m.location)return;let T=this.treeAdapter.getChildNodes(g),A=_?T.lastIndexOf(_):T.length,k=T[A-1],C=this.treeAdapter.getNodeSourceCodeLocation(k);if(C){let{endLine:g,endCol:_,endOffset:T}=m.location;this.treeAdapter.updateNodeSourceCodeLocation(k,{endLine:g,endCol:_,endOffset:T})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(k,m.location)}_adoptNodes(m,g){for(let _=this.treeAdapter.getFirstChild(m);_;_=this.treeAdapter.getFirstChild(m))this.treeAdapter.detachNode(_),this.treeAdapter.appendChild(g,_)}_setEndLocation(m,g){if(this.treeAdapter.getNodeSourceCodeLocation(m)&&g.location){let _=g.location,T=this.treeAdapter.getTagName(m),A=g.type===ea.END_TAG&&T===g.tagName?{endTag:{..._},endLine:_.endLine,endCol:_.endCol,endOffset:_.endOffset}:{endLine:_.startLine,endCol:_.startCol,endOffset:_.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(m,A)}}shouldProcessStartTagTokenInForeignContent(m){let g,_;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(g=this.fragmentContext,_=this.fragmentContextID):{current:g,currentTagId:_}=this.openElements,(m.tagID!==ef.SVG||this.treeAdapter.getTagName(g)!==ep.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(g)!==ed.MATHML)&&(this.tokenizer.inForeignNode||(m.tagID===ef.MGLYPH||m.tagID===ef.MALIGNMARK)&&!this._isIntegrationPoint(_,g,ed.HTML)))}_processToken(m){switch(m.type){case ea.CHARACTER:this.onCharacter(m);break;case ea.NULL_CHARACTER:this.onNullCharacter(m);break;case ea.COMMENT:this.onComment(m);break;case ea.DOCTYPE:this.onDoctype(m);break;case ea.START_TAG:this._processStartTag(m);break;case ea.END_TAG:this.onEndTag(m);break;case ea.EOF:this.onEof(m);break;case ea.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(m)}}_isIntegrationPoint(m,g,_){let T=this.treeAdapter.getNamespaceURI(g),A=this.treeAdapter.getAttrList(g);return(!_||_===ed.HTML)&&function(m,g,_){if(g===ed.MATHML&&m===ef.ANNOTATION_XML){for(let m=0;m<_.length;m++)if(_[m].name===em.ENCODING){let g=_[m].value.toLowerCase();return g===rm.TEXT_HTML||g===rm.APPLICATION_XML}}return g===ed.SVG&&(m===ef.FOREIGN_OBJECT||m===ef.DESC||m===ef.TITLE)}(m,T,A)||(!_||_===ed.MATHML)&&T===ed.MATHML&&(m===ef.MI||m===ef.MO||m===ef.MN||m===ef.MS||m===ef.MTEXT)}_reconstructActiveFormattingElements(){let m=this.activeFormattingElements.entries.length;if(m){let g=this.activeFormattingElements.entries.findIndex(m=>m.type===e_.Marker||this.openElements.contains(m.element)),_=g<0?m-1:g-1;for(let m=_;m>=0;m--){let g=this.activeFormattingElements.entries[m];this._insertElement(g.token,this.treeAdapter.getNamespaceURI(g.element)),g.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=eE.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ef.P),this.openElements.popUntilTagNamePopped(ef.P)}_resetInsertionMode(){for(let m=this.openElements.stackTop;m>=0;m--)switch(0===m&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[m]){case ef.TR:this.insertionMode=eE.IN_ROW;return;case ef.TBODY:case ef.THEAD:case ef.TFOOT:this.insertionMode=eE.IN_TABLE_BODY;return;case ef.CAPTION:this.insertionMode=eE.IN_CAPTION;return;case ef.COLGROUP:this.insertionMode=eE.IN_COLUMN_GROUP;return;case ef.TABLE:this.insertionMode=eE.IN_TABLE;return;case ef.BODY:this.insertionMode=eE.IN_BODY;return;case ef.FRAMESET:this.insertionMode=eE.IN_FRAMESET;return;case ef.SELECT:this._resetInsertionModeForSelect(m);return;case ef.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case ef.HTML:this.insertionMode=this.headElement?eE.AFTER_HEAD:eE.BEFORE_HEAD;return;case ef.TD:case ef.TH:if(m>0){this.insertionMode=eE.IN_CELL;return}break;case ef.HEAD:if(m>0){this.insertionMode=eE.IN_HEAD;return}}this.insertionMode=eE.IN_BODY}_resetInsertionModeForSelect(m){if(m>0)for(let g=m-1;g>0;g--){let m=this.openElements.tagIDs[g];if(m===ef.TEMPLATE)break;if(m===ef.TABLE){this.insertionMode=eE.IN_SELECT_IN_TABLE;return}}this.insertionMode=eE.IN_SELECT}_isElementCausesFosterParenting(m){return rE.has(m)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let m=this.openElements.stackTop;m>=0;m--){let g=this.openElements.items[m];switch(this.openElements.tagIDs[m]){case ef.TEMPLATE:if(this.treeAdapter.getNamespaceURI(g)===ed.HTML)return{parent:this.treeAdapter.getTemplateContent(g),beforeElement:null};break;case ef.TABLE:{let _=this.treeAdapter.getParentNode(g);if(_)return{parent:_,beforeElement:g};return{parent:this.openElements.items[m-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(m){let g=this._findFosterParentingLocation();g.beforeElement?this.treeAdapter.insertBefore(g.parent,m,g.beforeElement):this.treeAdapter.appendChild(g.parent,m)}_isSpecialElement(m,g){let _=this.treeAdapter.getNamespaceURI(m);return n2[_].has(g)}onCharacter(m){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(m),this.framesetOk=!1;return}switch(this.insertionMode){case eE.INITIAL:tokenInInitialMode(this,m);break;case eE.BEFORE_HTML:tokenBeforeHtml(this,m);break;case eE.BEFORE_HEAD:tokenBeforeHead(this,m);break;case eE.IN_HEAD:tokenInHead(this,m);break;case eE.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,m);break;case eE.AFTER_HEAD:tokenAfterHead(this,m);break;case eE.IN_BODY:case eE.IN_CAPTION:case eE.IN_CELL:case eE.IN_TEMPLATE:characterInBody(this,m);break;case eE.TEXT:case eE.IN_SELECT:case eE.IN_SELECT_IN_TABLE:this._insertCharacters(m);break;case eE.IN_TABLE:case eE.IN_TABLE_BODY:case eE.IN_ROW:characterInTable(this,m);break;case eE.IN_TABLE_TEXT:characterInTableText(this,m);break;case eE.IN_COLUMN_GROUP:tokenInColumnGroup(this,m);break;case eE.AFTER_BODY:tokenAfterBody(this,m);break;case eE.AFTER_AFTER_BODY:tokenAfterAfterBody(this,m)}}onNullCharacter(m){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){m.chars="",this._insertCharacters(m);return}switch(this.insertionMode){case eE.INITIAL:tokenInInitialMode(this,m);break;case eE.BEFORE_HTML:tokenBeforeHtml(this,m);break;case eE.BEFORE_HEAD:tokenBeforeHead(this,m);break;case eE.IN_HEAD:tokenInHead(this,m);break;case eE.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,m);break;case eE.AFTER_HEAD:tokenAfterHead(this,m);break;case eE.TEXT:this._insertCharacters(m);break;case eE.IN_TABLE:case eE.IN_TABLE_BODY:case eE.IN_ROW:characterInTable(this,m);break;case eE.IN_COLUMN_GROUP:tokenInColumnGroup(this,m);break;case eE.AFTER_BODY:tokenAfterBody(this,m);break;case eE.AFTER_AFTER_BODY:tokenAfterAfterBody(this,m)}}onComment(m){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,m);return}switch(this.insertionMode){case eE.INITIAL:case eE.BEFORE_HTML:case eE.BEFORE_HEAD:case eE.IN_HEAD:case eE.IN_HEAD_NO_SCRIPT:case eE.AFTER_HEAD:case eE.IN_BODY:case eE.IN_TABLE:case eE.IN_CAPTION:case eE.IN_COLUMN_GROUP:case eE.IN_TABLE_BODY:case eE.IN_ROW:case eE.IN_CELL:case eE.IN_SELECT:case eE.IN_SELECT_IN_TABLE:case eE.IN_TEMPLATE:case eE.IN_FRAMESET:case eE.AFTER_FRAMESET:appendComment(this,m);break;case eE.IN_TABLE_TEXT:tokenInTableText(this,m);break;case eE.AFTER_BODY:!function(m,g){m._appendCommentNode(g,m.openElements.items[0])}(this,m);break;case eE.AFTER_AFTER_BODY:case eE.AFTER_AFTER_FRAMESET:!function(m,g){m._appendCommentNode(g,m.document)}(this,m)}}onDoctype(m){switch(this.skipNextNewLine=!1,this.insertionMode){case eE.INITIAL:!function(m,g){m._setDocumentType(g);let _=g.forceQuirks?eh.QUIRKS:function(m){if(m.name!==ro)return eh.QUIRKS;let{systemId:g}=m;if(g&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===g.toLowerCase())return eh.QUIRKS;let{publicId:_}=m;if(null!==_){if(_=_.toLowerCase(),rc.has(_))return eh.QUIRKS;let m=null===g?rl:rs;if(hasPrefix(_,m))return eh.QUIRKS;if(hasPrefix(_,m=null===g?ru:rd))return eh.LIMITED_QUIRKS}return eh.NO_QUIRKS}(g);g.name===ro&&null===g.publicId&&(null===g.systemId||"about:legacy-compat"===g.systemId)||m._err(g,ei.nonConformingDoctype),m.treeAdapter.setDocumentMode(m.document,_),m.insertionMode=eE.BEFORE_HTML}(this,m);break;case eE.BEFORE_HEAD:case eE.IN_HEAD:case eE.IN_HEAD_NO_SCRIPT:case eE.AFTER_HEAD:this._err(m,ei.misplacedDoctype);break;case eE.IN_TABLE_TEXT:tokenInTableText(this,m)}}onStartTag(m){this.skipNextNewLine=!1,this.currentToken=m,this._processStartTag(m),m.selfClosing&&!m.ackSelfClosing&&this._err(m,ei.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(m){this.shouldProcessStartTagTokenInForeignContent(m)?function(m,g){if(function(m){let g=m.tagID,_=g===ef.FONT&&m.attrs.some(({name:m})=>m===em.COLOR||m===em.SIZE||m===em.FACE);return _||rg.has(g)}(g))popUntilHtmlOrIntegrationPoint(m),m._startTagOutsideForeignContent(g);else{let _=m._getAdjustedCurrentElement(),T=m.treeAdapter.getNamespaceURI(_);T===ed.MATHML?adjustTokenMathMLAttrs(g):T===ed.SVG&&(function(m){let g=rf.get(m.tagName);null!=g&&(m.tagName=g,m.tagID=getTagID(m.tagName))}(g),adjustTokenSVGAttrs(g)),adjustTokenXMLAttrs(g),g.selfClosing?m._appendElement(g,T):m._insertElement(g,T),g.ackSelfClosing=!0}}(this,m):this._startTagOutsideForeignContent(m)}_startTagOutsideForeignContent(m){switch(this.insertionMode){case eE.INITIAL:tokenInInitialMode(this,m);break;case eE.BEFORE_HTML:m.tagID===ef.HTML?(this._insertElement(m,ed.HTML),this.insertionMode=eE.BEFORE_HEAD):tokenBeforeHtml(this,m);break;case eE.BEFORE_HEAD:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.HEAD:m._insertElement(g,ed.HTML),m.headElement=m.openElements.current,m.insertionMode=eE.IN_HEAD;break;default:tokenBeforeHead(m,g)}}(this,m);break;case eE.IN_HEAD:startTagInHead(this,m);break;case eE.IN_HEAD_NO_SCRIPT:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.BASEFONT:case ef.BGSOUND:case ef.HEAD:case ef.LINK:case ef.META:case ef.NOFRAMES:case ef.STYLE:startTagInHead(m,g);break;case ef.NOSCRIPT:m._err(g,ei.nestedNoscriptInHead);break;default:tokenInHeadNoScript(m,g)}}(this,m);break;case eE.AFTER_HEAD:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.BODY:m._insertElement(g,ed.HTML),m.framesetOk=!1,m.insertionMode=eE.IN_BODY;break;case ef.FRAMESET:m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_FRAMESET;break;case ef.BASE:case ef.BASEFONT:case ef.BGSOUND:case ef.LINK:case ef.META:case ef.NOFRAMES:case ef.SCRIPT:case ef.STYLE:case ef.TEMPLATE:case ef.TITLE:m._err(g,ei.abandonedHeadElementChild),m.openElements.push(m.headElement,ef.HEAD),startTagInHead(m,g),m.openElements.remove(m.headElement);break;case ef.HEAD:m._err(g,ei.misplacedStartTagForHeadElement);break;default:tokenAfterHead(m,g)}}(this,m);break;case eE.IN_BODY:startTagInBody(this,m);break;case eE.IN_TABLE:startTagInTable(this,m);break;case eE.IN_TABLE_TEXT:tokenInTableText(this,m);break;case eE.IN_CAPTION:!function(m,g){let _=g.tagID;rA.has(_)?m.openElements.hasInTableScope(ef.CAPTION)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(ef.CAPTION),m.activeFormattingElements.clearToLastMarker(),m.insertionMode=eE.IN_TABLE,startTagInTable(m,g)):startTagInBody(m,g)}(this,m);break;case eE.IN_COLUMN_GROUP:startTagInColumnGroup(this,m);break;case eE.IN_TABLE_BODY:startTagInTableBody(this,m);break;case eE.IN_ROW:startTagInRow(this,m);break;case eE.IN_CELL:!function(m,g){let _=g.tagID;rA.has(_)?(m.openElements.hasInTableScope(ef.TD)||m.openElements.hasInTableScope(ef.TH))&&(m._closeTableCell(),startTagInRow(m,g)):startTagInBody(m,g)}(this,m);break;case eE.IN_SELECT:startTagInSelect(this,m);break;case eE.IN_SELECT_IN_TABLE:!function(m,g){let _=g.tagID;_===ef.CAPTION||_===ef.TABLE||_===ef.TBODY||_===ef.TFOOT||_===ef.THEAD||_===ef.TR||_===ef.TD||_===ef.TH?(m.openElements.popUntilTagNamePopped(ef.SELECT),m._resetInsertionMode(),m._processStartTag(g)):startTagInSelect(m,g)}(this,m);break;case eE.IN_TEMPLATE:!function(m,g){switch(g.tagID){case ef.BASE:case ef.BASEFONT:case ef.BGSOUND:case ef.LINK:case ef.META:case ef.NOFRAMES:case ef.SCRIPT:case ef.STYLE:case ef.TEMPLATE:case ef.TITLE:startTagInHead(m,g);break;case ef.CAPTION:case ef.COLGROUP:case ef.TBODY:case ef.TFOOT:case ef.THEAD:m.tmplInsertionModeStack[0]=eE.IN_TABLE,m.insertionMode=eE.IN_TABLE,startTagInTable(m,g);break;case ef.COL:m.tmplInsertionModeStack[0]=eE.IN_COLUMN_GROUP,m.insertionMode=eE.IN_COLUMN_GROUP,startTagInColumnGroup(m,g);break;case ef.TR:m.tmplInsertionModeStack[0]=eE.IN_TABLE_BODY,m.insertionMode=eE.IN_TABLE_BODY,startTagInTableBody(m,g);break;case ef.TD:case ef.TH:m.tmplInsertionModeStack[0]=eE.IN_ROW,m.insertionMode=eE.IN_ROW,startTagInRow(m,g);break;default:m.tmplInsertionModeStack[0]=eE.IN_BODY,m.insertionMode=eE.IN_BODY,startTagInBody(m,g)}}(this,m);break;case eE.AFTER_BODY:m.tagID===ef.HTML?startTagInBody(this,m):tokenAfterBody(this,m);break;case eE.IN_FRAMESET:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.FRAMESET:m._insertElement(g,ed.HTML);break;case ef.FRAME:m._appendElement(g,ed.HTML),g.ackSelfClosing=!0;break;case ef.NOFRAMES:startTagInHead(m,g)}}(this,m);break;case eE.AFTER_FRAMESET:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.NOFRAMES:startTagInHead(m,g)}}(this,m);break;case eE.AFTER_AFTER_BODY:m.tagID===ef.HTML?startTagInBody(this,m):tokenAfterAfterBody(this,m);break;case eE.AFTER_AFTER_FRAMESET:!function(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.NOFRAMES:startTagInHead(m,g)}}(this,m)}}onEndTag(m){this.skipNextNewLine=!1,this.currentToken=m,this.currentNotInHTML?function(m,g){if(g.tagID===ef.P||g.tagID===ef.BR){popUntilHtmlOrIntegrationPoint(m),m._endTagOutsideForeignContent(g);return}for(let _=m.openElements.stackTop;_>0;_--){let T=m.openElements.items[_];if(m.treeAdapter.getNamespaceURI(T)===ed.HTML){m._endTagOutsideForeignContent(g);break}let A=m.treeAdapter.getTagName(T);if(A.toLowerCase()===g.tagName){g.tagName=A,m.openElements.shortenToLength(_);break}}}(this,m):this._endTagOutsideForeignContent(m)}_endTagOutsideForeignContent(m){var g;switch(this.insertionMode){case eE.INITIAL:tokenInInitialMode(this,m);break;case eE.BEFORE_HTML:!function(m,g){let _=g.tagID;(_===ef.HTML||_===ef.HEAD||_===ef.BODY||_===ef.BR)&&tokenBeforeHtml(m,g)}(this,m);break;case eE.BEFORE_HEAD:!function(m,g){let _=g.tagID;_===ef.HEAD||_===ef.BODY||_===ef.HTML||_===ef.BR?tokenBeforeHead(m,g):m._err(g,ei.endTagWithoutMatchingOpenElement)}(this,m);break;case eE.IN_HEAD:!function(m,g){switch(g.tagID){case ef.HEAD:m.openElements.pop(),m.insertionMode=eE.AFTER_HEAD;break;case ef.BODY:case ef.BR:case ef.HTML:tokenInHead(m,g);break;case ef.TEMPLATE:templateEndTagInHead(m,g);break;default:m._err(g,ei.endTagWithoutMatchingOpenElement)}}(this,m);break;case eE.IN_HEAD_NO_SCRIPT:!function(m,g){switch(g.tagID){case ef.NOSCRIPT:m.openElements.pop(),m.insertionMode=eE.IN_HEAD;break;case ef.BR:tokenInHeadNoScript(m,g);break;default:m._err(g,ei.endTagWithoutMatchingOpenElement)}}(this,m);break;case eE.AFTER_HEAD:!function(m,g){switch(g.tagID){case ef.BODY:case ef.HTML:case ef.BR:tokenAfterHead(m,g);break;case ef.TEMPLATE:templateEndTagInHead(m,g);break;default:m._err(g,ei.endTagWithoutMatchingOpenElement)}}(this,m);break;case eE.IN_BODY:endTagInBody(this,m);break;case eE.TEXT:m.tagID===ef.SCRIPT&&(null===(g=this.scriptHandler)||void 0===g||g.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case eE.IN_TABLE:endTagInTable(this,m);break;case eE.IN_TABLE_TEXT:tokenInTableText(this,m);break;case eE.IN_CAPTION:!function(m,g){let _=g.tagID;switch(_){case ef.CAPTION:case ef.TABLE:m.openElements.hasInTableScope(ef.CAPTION)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(ef.CAPTION),m.activeFormattingElements.clearToLastMarker(),m.insertionMode=eE.IN_TABLE,_===ef.TABLE&&endTagInTable(m,g));break;case ef.BODY:case ef.COL:case ef.COLGROUP:case ef.HTML:case ef.TBODY:case ef.TD:case ef.TFOOT:case ef.TH:case ef.THEAD:case ef.TR:break;default:endTagInBody(m,g)}}(this,m);break;case eE.IN_COLUMN_GROUP:!function(m,g){switch(g.tagID){case ef.COLGROUP:m.openElements.currentTagId===ef.COLGROUP&&(m.openElements.pop(),m.insertionMode=eE.IN_TABLE);break;case ef.TEMPLATE:templateEndTagInHead(m,g);break;case ef.COL:break;default:tokenInColumnGroup(m,g)}}(this,m);break;case eE.IN_TABLE_BODY:endTagInTableBody(this,m);break;case eE.IN_ROW:endTagInRow(this,m);break;case eE.IN_CELL:!function(m,g){let _=g.tagID;switch(_){case ef.TD:case ef.TH:m.openElements.hasInTableScope(_)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(_),m.activeFormattingElements.clearToLastMarker(),m.insertionMode=eE.IN_ROW);break;case ef.TABLE:case ef.TBODY:case ef.TFOOT:case ef.THEAD:case ef.TR:m.openElements.hasInTableScope(_)&&(m._closeTableCell(),endTagInRow(m,g));break;case ef.BODY:case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.HTML:break;default:endTagInBody(m,g)}}(this,m);break;case eE.IN_SELECT:endTagInSelect(this,m);break;case eE.IN_SELECT_IN_TABLE:!function(m,g){let _=g.tagID;_===ef.CAPTION||_===ef.TABLE||_===ef.TBODY||_===ef.TFOOT||_===ef.THEAD||_===ef.TR||_===ef.TD||_===ef.TH?m.openElements.hasInTableScope(_)&&(m.openElements.popUntilTagNamePopped(ef.SELECT),m._resetInsertionMode(),m.onEndTag(g)):endTagInSelect(m,g)}(this,m);break;case eE.IN_TEMPLATE:m.tagID===ef.TEMPLATE&&templateEndTagInHead(this,m);break;case eE.AFTER_BODY:endTagAfterBody(this,m);break;case eE.IN_FRAMESET:m.tagID!==ef.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===ef.FRAMESET||(this.insertionMode=eE.AFTER_FRAMESET));break;case eE.AFTER_FRAMESET:m.tagID===ef.HTML&&(this.insertionMode=eE.AFTER_AFTER_FRAMESET);break;case eE.AFTER_AFTER_BODY:tokenAfterAfterBody(this,m)}}onEof(m){switch(this.insertionMode){case eE.INITIAL:tokenInInitialMode(this,m);break;case eE.BEFORE_HTML:tokenBeforeHtml(this,m);break;case eE.BEFORE_HEAD:tokenBeforeHead(this,m);break;case eE.IN_HEAD:tokenInHead(this,m);break;case eE.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,m);break;case eE.AFTER_HEAD:tokenAfterHead(this,m);break;case eE.IN_BODY:case eE.IN_TABLE:case eE.IN_CAPTION:case eE.IN_COLUMN_GROUP:case eE.IN_TABLE_BODY:case eE.IN_ROW:case eE.IN_CELL:case eE.IN_SELECT:case eE.IN_SELECT_IN_TABLE:eofInBody(this,m);break;case eE.TEXT:this._err(m,ei.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(m);break;case eE.IN_TABLE_TEXT:tokenInTableText(this,m);break;case eE.IN_TEMPLATE:eofInTemplate(this,m);break;case eE.AFTER_BODY:case eE.IN_FRAMESET:case eE.AFTER_FRAMESET:case eE.AFTER_AFTER_BODY:case eE.AFTER_AFTER_FRAMESET:stopParsing(this,m)}}onWhitespaceCharacter(m){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,m.chars.charCodeAt(0)===er.LINE_FEED)){if(1===m.chars.length)return;m.chars=m.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(m);return}switch(this.insertionMode){case eE.IN_HEAD:case eE.IN_HEAD_NO_SCRIPT:case eE.AFTER_HEAD:case eE.TEXT:case eE.IN_COLUMN_GROUP:case eE.IN_SELECT:case eE.IN_SELECT_IN_TABLE:case eE.IN_FRAMESET:case eE.AFTER_FRAMESET:this._insertCharacters(m);break;case eE.IN_BODY:case eE.IN_CAPTION:case eE.IN_CELL:case eE.IN_TEMPLATE:case eE.AFTER_BODY:case eE.AFTER_AFTER_BODY:case eE.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,m);break;case eE.IN_TABLE:case eE.IN_TABLE_BODY:case eE.IN_ROW:characterInTable(this,m);break;case eE.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,m)}}};function callAdoptionAgency(m,g){for(let _=0;_<8;_++){let _=function(m,g){let _=m.activeFormattingElements.getElementEntryInScopeWithTagName(g.tagName);return _?m.openElements.contains(_.element)?m.openElements.hasInScope(g.tagID)||(_=null):(m.activeFormattingElements.removeEntry(_),_=null):genericEndTagInBody(m,g),_}(m,g);if(!_)break;let T=function(m,g){let _=null,T=m.openElements.stackTop;for(;T>=0;T--){let A=m.openElements.items[T];if(A===g.element)break;m._isSpecialElement(A,m.openElements.tagIDs[T])&&(_=A)}return _||(m.openElements.shortenToLength(T<0?0:T),m.activeFormattingElements.removeEntry(g)),_}(m,_);if(!T)break;m.activeFormattingElements.bookmark=_;let A=function(m,g,_){let T=g,A=m.openElements.getCommonAncestor(g);for(let k=0,C=A;C!==_;k++,C=A){A=m.openElements.getCommonAncestor(C);let _=m.activeFormattingElements.getElementEntry(C),S=_&&k>=3,w=!_||S;w?(S&&m.activeFormattingElements.removeEntry(_),m.openElements.remove(C)):(C=function(m,g){let _=m.treeAdapter.getNamespaceURI(g.element),T=m.treeAdapter.createElement(g.token.tagName,_,g.token.attrs);return m.openElements.replace(g.element,T),g.element=T,T}(m,_),T===g&&(m.activeFormattingElements.bookmark=_),m.treeAdapter.detachNode(T),m.treeAdapter.appendChild(C,T),T=C)}return T}(m,T,_.element),k=m.openElements.getCommonAncestor(_.element);m.treeAdapter.detachNode(A),k&&function(m,g,_){let T=m.treeAdapter.getTagName(g),A=getTagID(T);if(m._isElementCausesFosterParenting(A))m._fosterParentElement(_);else{let T=m.treeAdapter.getNamespaceURI(g);A===ef.TEMPLATE&&T===ed.HTML&&(g=m.treeAdapter.getTemplateContent(g)),m.treeAdapter.appendChild(g,_)}}(m,k,A),function(m,g,_){let T=m.treeAdapter.getNamespaceURI(_.element),{token:A}=_,k=m.treeAdapter.createElement(A.tagName,T,A.attrs);m._adoptNodes(g,k),m.treeAdapter.appendChild(g,k),m.activeFormattingElements.insertElementAfterBookmark(k,A),m.activeFormattingElements.removeEntry(_),m.openElements.remove(_.element),m.openElements.insertAfter(g,k,A.tagID)}(m,T,_)}}function appendComment(m,g){m._appendCommentNode(g,m.openElements.currentTmplContentOrNode)}function stopParsing(m,g){if(m.stopped=!0,g.location){let _=m.fragmentContext?0:2;for(let T=m.openElements.stackTop;T>=_;T--)m._setEndLocation(m.openElements.items[T],g);if(!m.fragmentContext&&m.openElements.stackTop>=0){let _=m.openElements.items[0],T=m.treeAdapter.getNodeSourceCodeLocation(_);if(T&&!T.endTag&&(m._setEndLocation(_,g),m.openElements.stackTop>=1)){let _=m.openElements.items[1],T=m.treeAdapter.getNodeSourceCodeLocation(_);T&&!T.endTag&&m._setEndLocation(_,g)}}}}function tokenInInitialMode(m,g){m._err(g,ei.missingDoctype,!0),m.treeAdapter.setDocumentMode(m.document,eh.QUIRKS),m.insertionMode=eE.BEFORE_HTML,m._processToken(g)}function tokenBeforeHtml(m,g){m._insertFakeRootElement(),m.insertionMode=eE.BEFORE_HEAD,m._processToken(g)}function tokenBeforeHead(m,g){m._insertFakeElement(ep.HEAD,ef.HEAD),m.headElement=m.openElements.current,m.insertionMode=eE.IN_HEAD,m._processToken(g)}function startTagInHead(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.BASE:case ef.BASEFONT:case ef.BGSOUND:case ef.LINK:case ef.META:m._appendElement(g,ed.HTML),g.ackSelfClosing=!0;break;case ef.TITLE:m._switchToTextParsing(g,n4.RCDATA);break;case ef.NOSCRIPT:m.options.scriptingEnabled?m._switchToTextParsing(g,n4.RAWTEXT):(m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_HEAD_NO_SCRIPT);break;case ef.NOFRAMES:case ef.STYLE:m._switchToTextParsing(g,n4.RAWTEXT);break;case ef.SCRIPT:m._switchToTextParsing(g,n4.SCRIPT_DATA);break;case ef.TEMPLATE:m._insertTemplate(g),m.activeFormattingElements.insertMarker(),m.framesetOk=!1,m.insertionMode=eE.IN_TEMPLATE,m.tmplInsertionModeStack.unshift(eE.IN_TEMPLATE);break;case ef.HEAD:m._err(g,ei.misplacedStartTagForHeadElement);break;default:tokenInHead(m,g)}}function templateEndTagInHead(m,g){m.openElements.tmplCount>0?(m.openElements.generateImpliedEndTagsThoroughly(),m.openElements.currentTagId!==ef.TEMPLATE&&m._err(g,ei.closingOfElementWithOpenChildElements),m.openElements.popUntilTagNamePopped(ef.TEMPLATE),m.activeFormattingElements.clearToLastMarker(),m.tmplInsertionModeStack.shift(),m._resetInsertionMode()):m._err(g,ei.endTagWithoutMatchingOpenElement)}function tokenInHead(m,g){m.openElements.pop(),m.insertionMode=eE.AFTER_HEAD,m._processToken(g)}function tokenInHeadNoScript(m,g){let _=g.type===ea.EOF?ei.openElementsLeftAfterEof:ei.disallowedContentInNoscriptInHead;m._err(g,_),m.openElements.pop(),m.insertionMode=eE.IN_HEAD,m._processToken(g)}function tokenAfterHead(m,g){m._insertFakeElement(ep.BODY,ef.BODY),m.insertionMode=eE.IN_BODY,modeInBody(m,g)}function modeInBody(m,g){switch(g.type){case ea.CHARACTER:characterInBody(m,g);break;case ea.WHITESPACE_CHARACTER:whitespaceCharacterInBody(m,g);break;case ea.COMMENT:appendComment(m,g);break;case ea.START_TAG:startTagInBody(m,g);break;case ea.END_TAG:endTagInBody(m,g);break;case ea.EOF:eofInBody(m,g)}}function whitespaceCharacterInBody(m,g){m._reconstructActiveFormattingElements(),m._insertCharacters(g)}function characterInBody(m,g){m._reconstructActiveFormattingElements(),m._insertCharacters(g),m.framesetOk=!1}function areaStartTagInBody(m,g){m._reconstructActiveFormattingElements(),m._appendElement(g,ed.HTML),m.framesetOk=!1,g.ackSelfClosing=!0}function isHiddenInput(m){let g=getTokenAttr(m,em.TYPE);return null!=g&&"hidden"===g.toLowerCase()}function noembedStartTagInBody(m,g){m._switchToTextParsing(g,n4.RAWTEXT)}function genericStartTagInBody(m,g){m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML)}function startTagInBody(m,g){switch(g.tagID){case ef.I:case ef.S:case ef.B:case ef.U:case ef.EM:case ef.TT:case ef.BIG:case ef.CODE:case ef.FONT:case ef.SMALL:case ef.STRIKE:case ef.STRONG:m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML),m.activeFormattingElements.pushElement(m.openElements.current,g);break;case ef.A:!function(m,g){let _=m.activeFormattingElements.getElementEntryInScopeWithTagName(ep.A);_&&(callAdoptionAgency(m,g),m.openElements.remove(_.element),m.activeFormattingElements.removeEntry(_)),m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML),m.activeFormattingElements.pushElement(m.openElements.current,g)}(m,g);break;case ef.H1:case ef.H2:case ef.H3:case ef.H4:case ef.H5:case ef.H6:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),isNumberedHeader(m.openElements.currentTagId)&&m.openElements.pop(),m._insertElement(g,ed.HTML);break;case ef.P:case ef.DL:case ef.OL:case ef.UL:case ef.DIV:case ef.DIR:case ef.NAV:case ef.MAIN:case ef.MENU:case ef.ASIDE:case ef.CENTER:case ef.FIGURE:case ef.FOOTER:case ef.HEADER:case ef.HGROUP:case ef.DIALOG:case ef.DETAILS:case ef.ADDRESS:case ef.ARTICLE:case ef.SECTION:case ef.SUMMARY:case ef.FIELDSET:case ef.BLOCKQUOTE:case ef.FIGCAPTION:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML);break;case ef.LI:case ef.DD:case ef.DT:!function(m,g){m.framesetOk=!1;let _=g.tagID;for(let g=m.openElements.stackTop;g>=0;g--){let T=m.openElements.tagIDs[g];if(_===ef.LI&&T===ef.LI||(_===ef.DD||_===ef.DT)&&(T===ef.DD||T===ef.DT)){m.openElements.generateImpliedEndTagsWithExclusion(T),m.openElements.popUntilTagNamePopped(T);break}if(T!==ef.ADDRESS&&T!==ef.DIV&&T!==ef.P&&m._isSpecialElement(m.openElements.items[g],T))break}m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML)}(m,g);break;case ef.BR:case ef.IMG:case ef.WBR:case ef.AREA:case ef.EMBED:case ef.KEYGEN:areaStartTagInBody(m,g);break;case ef.HR:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._appendElement(g,ed.HTML),m.framesetOk=!1,g.ackSelfClosing=!0;break;case ef.RB:case ef.RTC:m.openElements.hasInScope(ef.RUBY)&&m.openElements.generateImpliedEndTags(),m._insertElement(g,ed.HTML);break;case ef.RT:case ef.RP:m.openElements.hasInScope(ef.RUBY)&&m.openElements.generateImpliedEndTagsWithExclusion(ef.RTC),m._insertElement(g,ed.HTML);break;case ef.PRE:case ef.LISTING:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML),m.skipNextNewLine=!0,m.framesetOk=!1;break;case ef.XMP:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._reconstructActiveFormattingElements(),m.framesetOk=!1,m._switchToTextParsing(g,n4.RAWTEXT);break;case ef.SVG:m._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(g),adjustTokenXMLAttrs(g),g.selfClosing?m._appendElement(g,ed.SVG):m._insertElement(g,ed.SVG),g.ackSelfClosing=!0;break;case ef.HTML:0===m.openElements.tmplCount&&m.treeAdapter.adoptAttributes(m.openElements.items[0],g.attrs);break;case ef.BASE:case ef.LINK:case ef.META:case ef.STYLE:case ef.TITLE:case ef.SCRIPT:case ef.BGSOUND:case ef.BASEFONT:case ef.TEMPLATE:startTagInHead(m,g);break;case ef.BODY:!function(m,g){let _=m.openElements.tryPeekProperlyNestedBodyElement();_&&0===m.openElements.tmplCount&&(m.framesetOk=!1,m.treeAdapter.adoptAttributes(_,g.attrs))}(m,g);break;case ef.FORM:!function(m,g){let _=m.openElements.tmplCount>0;m.formElement&&!_||(m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML),_||(m.formElement=m.openElements.current))}(m,g);break;case ef.NOBR:m._reconstructActiveFormattingElements(),m.openElements.hasInScope(ef.NOBR)&&(callAdoptionAgency(m,g),m._reconstructActiveFormattingElements()),m._insertElement(g,ed.HTML),m.activeFormattingElements.pushElement(m.openElements.current,g);break;case ef.MATH:m._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(g),adjustTokenXMLAttrs(g),g.selfClosing?m._appendElement(g,ed.MATHML):m._insertElement(g,ed.MATHML),g.ackSelfClosing=!0;break;case ef.TABLE:m.treeAdapter.getDocumentMode(m.document)!==eh.QUIRKS&&m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML),m.framesetOk=!1,m.insertionMode=eE.IN_TABLE;break;case ef.INPUT:m._reconstructActiveFormattingElements(),m._appendElement(g,ed.HTML),isHiddenInput(g)||(m.framesetOk=!1),g.ackSelfClosing=!0;break;case ef.PARAM:case ef.TRACK:case ef.SOURCE:m._appendElement(g,ed.HTML),g.ackSelfClosing=!0;break;case ef.IMAGE:g.tagName=ep.IMG,g.tagID=ef.IMG,areaStartTagInBody(m,g);break;case ef.BUTTON:m.openElements.hasInScope(ef.BUTTON)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(ef.BUTTON)),m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML),m.framesetOk=!1;break;case ef.APPLET:case ef.OBJECT:case ef.MARQUEE:m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML),m.activeFormattingElements.insertMarker(),m.framesetOk=!1;break;case ef.IFRAME:m.framesetOk=!1,m._switchToTextParsing(g,n4.RAWTEXT);break;case ef.SELECT:m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML),m.framesetOk=!1,m.insertionMode=m.insertionMode===eE.IN_TABLE||m.insertionMode===eE.IN_CAPTION||m.insertionMode===eE.IN_TABLE_BODY||m.insertionMode===eE.IN_ROW||m.insertionMode===eE.IN_CELL?eE.IN_SELECT_IN_TABLE:eE.IN_SELECT;break;case ef.OPTION:case ef.OPTGROUP:m.openElements.currentTagId===ef.OPTION&&m.openElements.pop(),m._reconstructActiveFormattingElements(),m._insertElement(g,ed.HTML);break;case ef.NOEMBED:noembedStartTagInBody(m,g);break;case ef.FRAMESET:!function(m,g){let _=m.openElements.tryPeekProperlyNestedBodyElement();m.framesetOk&&_&&(m.treeAdapter.detachNode(_),m.openElements.popAllUpToHtmlElement(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_FRAMESET)}(m,g);break;case ef.TEXTAREA:m._insertElement(g,ed.HTML),m.skipNextNewLine=!0,m.tokenizer.state=n4.RCDATA,m.originalInsertionMode=m.insertionMode,m.framesetOk=!1,m.insertionMode=eE.TEXT;break;case ef.NOSCRIPT:m.options.scriptingEnabled?noembedStartTagInBody(m,g):genericStartTagInBody(m,g);break;case ef.PLAINTEXT:m.openElements.hasInButtonScope(ef.P)&&m._closePElement(),m._insertElement(g,ed.HTML),m.tokenizer.state=n4.PLAINTEXT;break;case ef.COL:case ef.TH:case ef.TD:case ef.TR:case ef.HEAD:case ef.FRAME:case ef.TBODY:case ef.TFOOT:case ef.THEAD:case ef.CAPTION:case ef.COLGROUP:break;default:genericStartTagInBody(m,g)}}function genericEndTagInBody(m,g){let _=g.tagName,T=g.tagID;for(let g=m.openElements.stackTop;g>0;g--){let A=m.openElements.items[g],k=m.openElements.tagIDs[g];if(T===k&&(T!==ef.UNKNOWN||m.treeAdapter.getTagName(A)===_)){m.openElements.generateImpliedEndTagsWithExclusion(T),m.openElements.stackTop>=g&&m.openElements.shortenToLength(g);break}if(m._isSpecialElement(A,k))break}}function endTagInBody(m,g){switch(g.tagID){case ef.A:case ef.B:case ef.I:case ef.S:case ef.U:case ef.EM:case ef.TT:case ef.BIG:case ef.CODE:case ef.FONT:case ef.NOBR:case ef.SMALL:case ef.STRIKE:case ef.STRONG:callAdoptionAgency(m,g);break;case ef.P:m.openElements.hasInButtonScope(ef.P)||m._insertFakeElement(ep.P,ef.P),m._closePElement();break;case ef.DL:case ef.UL:case ef.OL:case ef.DIR:case ef.DIV:case ef.NAV:case ef.PRE:case ef.MAIN:case ef.MENU:case ef.ASIDE:case ef.BUTTON:case ef.CENTER:case ef.FIGURE:case ef.FOOTER:case ef.HEADER:case ef.HGROUP:case ef.DIALOG:case ef.ADDRESS:case ef.ARTICLE:case ef.DETAILS:case ef.SECTION:case ef.SUMMARY:case ef.LISTING:case ef.FIELDSET:case ef.BLOCKQUOTE:case ef.FIGCAPTION:!function(m,g){let _=g.tagID;m.openElements.hasInScope(_)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(_))}(m,g);break;case ef.LI:m.openElements.hasInListItemScope(ef.LI)&&(m.openElements.generateImpliedEndTagsWithExclusion(ef.LI),m.openElements.popUntilTagNamePopped(ef.LI));break;case ef.DD:case ef.DT:!function(m,g){let _=g.tagID;m.openElements.hasInScope(_)&&(m.openElements.generateImpliedEndTagsWithExclusion(_),m.openElements.popUntilTagNamePopped(_))}(m,g);break;case ef.H1:case ef.H2:case ef.H3:case ef.H4:case ef.H5:case ef.H6:m.openElements.hasNumberedHeaderInScope()&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilNumberedHeaderPopped());break;case ef.BR:m._reconstructActiveFormattingElements(),m._insertFakeElement(ep.BR,ef.BR),m.openElements.pop(),m.framesetOk=!1;break;case ef.BODY:!function(m,g){if(m.openElements.hasInScope(ef.BODY)&&(m.insertionMode=eE.AFTER_BODY,m.options.sourceCodeLocationInfo)){let _=m.openElements.tryPeekProperlyNestedBodyElement();_&&m._setEndLocation(_,g)}}(m,g);break;case ef.HTML:m.openElements.hasInScope(ef.BODY)&&(m.insertionMode=eE.AFTER_BODY,endTagAfterBody(m,g));break;case ef.FORM:!function(m){let g=m.openElements.tmplCount>0,{formElement:_}=m;g||(m.formElement=null),(_||g)&&m.openElements.hasInScope(ef.FORM)&&(m.openElements.generateImpliedEndTags(),g?m.openElements.popUntilTagNamePopped(ef.FORM):_&&m.openElements.remove(_))}(m);break;case ef.APPLET:case ef.OBJECT:case ef.MARQUEE:!function(m,g){let _=g.tagID;m.openElements.hasInScope(_)&&(m.openElements.generateImpliedEndTags(),m.openElements.popUntilTagNamePopped(_),m.activeFormattingElements.clearToLastMarker())}(m,g);break;case ef.TEMPLATE:templateEndTagInHead(m,g);break;default:genericEndTagInBody(m,g)}}function eofInBody(m,g){m.tmplInsertionModeStack.length>0?eofInTemplate(m,g):stopParsing(m,g)}function characterInTable(m,g){if(rE.has(m.openElements.currentTagId))switch(m.pendingCharacterTokens.length=0,m.hasNonWhitespacePendingCharacterToken=!1,m.originalInsertionMode=m.insertionMode,m.insertionMode=eE.IN_TABLE_TEXT,g.type){case ea.CHARACTER:characterInTableText(m,g);break;case ea.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(m,g)}else tokenInTable(m,g)}function startTagInTable(m,g){switch(g.tagID){case ef.TD:case ef.TH:case ef.TR:m.openElements.clearBackToTableContext(),m._insertFakeElement(ep.TBODY,ef.TBODY),m.insertionMode=eE.IN_TABLE_BODY,startTagInTableBody(m,g);break;case ef.STYLE:case ef.SCRIPT:case ef.TEMPLATE:startTagInHead(m,g);break;case ef.COL:m.openElements.clearBackToTableContext(),m._insertFakeElement(ep.COLGROUP,ef.COLGROUP),m.insertionMode=eE.IN_COLUMN_GROUP,startTagInColumnGroup(m,g);break;case ef.FORM:m.formElement||0!==m.openElements.tmplCount||(m._insertElement(g,ed.HTML),m.formElement=m.openElements.current,m.openElements.pop());break;case ef.TABLE:m.openElements.hasInTableScope(ef.TABLE)&&(m.openElements.popUntilTagNamePopped(ef.TABLE),m._resetInsertionMode(),m._processStartTag(g));break;case ef.TBODY:case ef.TFOOT:case ef.THEAD:m.openElements.clearBackToTableContext(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_TABLE_BODY;break;case ef.INPUT:isHiddenInput(g)?m._appendElement(g,ed.HTML):tokenInTable(m,g),g.ackSelfClosing=!0;break;case ef.CAPTION:m.openElements.clearBackToTableContext(),m.activeFormattingElements.insertMarker(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_CAPTION;break;case ef.COLGROUP:m.openElements.clearBackToTableContext(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_COLUMN_GROUP;break;default:tokenInTable(m,g)}}function endTagInTable(m,g){switch(g.tagID){case ef.TABLE:m.openElements.hasInTableScope(ef.TABLE)&&(m.openElements.popUntilTagNamePopped(ef.TABLE),m._resetInsertionMode());break;case ef.TEMPLATE:templateEndTagInHead(m,g);break;case ef.BODY:case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.HTML:case ef.TBODY:case ef.TD:case ef.TFOOT:case ef.TH:case ef.THEAD:case ef.TR:break;default:tokenInTable(m,g)}}function tokenInTable(m,g){let _=m.fosterParentingEnabled;m.fosterParentingEnabled=!0,modeInBody(m,g),m.fosterParentingEnabled=_}function whitespaceCharacterInTableText(m,g){m.pendingCharacterTokens.push(g)}function characterInTableText(m,g){m.pendingCharacterTokens.push(g),m.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(m,g){let _=0;if(m.hasNonWhitespacePendingCharacterToken)for(;_<m.pendingCharacterTokens.length;_++)tokenInTable(m,m.pendingCharacterTokens[_]);else for(;_<m.pendingCharacterTokens.length;_++)m._insertCharacters(m.pendingCharacterTokens[_]);m.insertionMode=m.originalInsertionMode,m._processToken(g)}let rA=new Set([ef.CAPTION,ef.COL,ef.COLGROUP,ef.TBODY,ef.TD,ef.TFOOT,ef.TH,ef.THEAD,ef.TR]);function startTagInColumnGroup(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.COL:m._appendElement(g,ed.HTML),g.ackSelfClosing=!0;break;case ef.TEMPLATE:startTagInHead(m,g);break;default:tokenInColumnGroup(m,g)}}function tokenInColumnGroup(m,g){m.openElements.currentTagId===ef.COLGROUP&&(m.openElements.pop(),m.insertionMode=eE.IN_TABLE,m._processToken(g))}function startTagInTableBody(m,g){switch(g.tagID){case ef.TR:m.openElements.clearBackToTableBodyContext(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_ROW;break;case ef.TH:case ef.TD:m.openElements.clearBackToTableBodyContext(),m._insertFakeElement(ep.TR,ef.TR),m.insertionMode=eE.IN_ROW,startTagInRow(m,g);break;case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.TBODY:case ef.TFOOT:case ef.THEAD:m.openElements.hasTableBodyContextInTableScope()&&(m.openElements.clearBackToTableBodyContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE,startTagInTable(m,g));break;default:startTagInTable(m,g)}}function endTagInTableBody(m,g){let _=g.tagID;switch(g.tagID){case ef.TBODY:case ef.TFOOT:case ef.THEAD:m.openElements.hasInTableScope(_)&&(m.openElements.clearBackToTableBodyContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE);break;case ef.TABLE:m.openElements.hasTableBodyContextInTableScope()&&(m.openElements.clearBackToTableBodyContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE,endTagInTable(m,g));break;case ef.BODY:case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.HTML:case ef.TD:case ef.TH:case ef.TR:break;default:endTagInTable(m,g)}}function startTagInRow(m,g){switch(g.tagID){case ef.TH:case ef.TD:m.openElements.clearBackToTableRowContext(),m._insertElement(g,ed.HTML),m.insertionMode=eE.IN_CELL,m.activeFormattingElements.insertMarker();break;case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.TBODY:case ef.TFOOT:case ef.THEAD:case ef.TR:m.openElements.hasInTableScope(ef.TR)&&(m.openElements.clearBackToTableRowContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE_BODY,startTagInTableBody(m,g));break;default:startTagInTable(m,g)}}function endTagInRow(m,g){switch(g.tagID){case ef.TR:m.openElements.hasInTableScope(ef.TR)&&(m.openElements.clearBackToTableRowContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE_BODY);break;case ef.TABLE:m.openElements.hasInTableScope(ef.TR)&&(m.openElements.clearBackToTableRowContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE_BODY,endTagInTableBody(m,g));break;case ef.TBODY:case ef.TFOOT:case ef.THEAD:(m.openElements.hasInTableScope(g.tagID)||m.openElements.hasInTableScope(ef.TR))&&(m.openElements.clearBackToTableRowContext(),m.openElements.pop(),m.insertionMode=eE.IN_TABLE_BODY,endTagInTableBody(m,g));break;case ef.BODY:case ef.CAPTION:case ef.COL:case ef.COLGROUP:case ef.HTML:case ef.TD:case ef.TH:break;default:endTagInTable(m,g)}}function startTagInSelect(m,g){switch(g.tagID){case ef.HTML:startTagInBody(m,g);break;case ef.OPTION:m.openElements.currentTagId===ef.OPTION&&m.openElements.pop(),m._insertElement(g,ed.HTML);break;case ef.OPTGROUP:m.openElements.currentTagId===ef.OPTION&&m.openElements.pop(),m.openElements.currentTagId===ef.OPTGROUP&&m.openElements.pop(),m._insertElement(g,ed.HTML);break;case ef.INPUT:case ef.KEYGEN:case ef.TEXTAREA:case ef.SELECT:m.openElements.hasInSelectScope(ef.SELECT)&&(m.openElements.popUntilTagNamePopped(ef.SELECT),m._resetInsertionMode(),g.tagID!==ef.SELECT&&m._processStartTag(g));break;case ef.SCRIPT:case ef.TEMPLATE:startTagInHead(m,g)}}function endTagInSelect(m,g){switch(g.tagID){case ef.OPTGROUP:m.openElements.stackTop>0&&m.openElements.currentTagId===ef.OPTION&&m.openElements.tagIDs[m.openElements.stackTop-1]===ef.OPTGROUP&&m.openElements.pop(),m.openElements.currentTagId===ef.OPTGROUP&&m.openElements.pop();break;case ef.OPTION:m.openElements.currentTagId===ef.OPTION&&m.openElements.pop();break;case ef.SELECT:m.openElements.hasInSelectScope(ef.SELECT)&&(m.openElements.popUntilTagNamePopped(ef.SELECT),m._resetInsertionMode());break;case ef.TEMPLATE:templateEndTagInHead(m,g)}}function eofInTemplate(m,g){m.openElements.tmplCount>0?(m.openElements.popUntilTagNamePopped(ef.TEMPLATE),m.activeFormattingElements.clearToLastMarker(),m.tmplInsertionModeStack.shift(),m._resetInsertionMode(),m.onEof(g)):stopParsing(m,g)}function endTagAfterBody(m,g){var _;if(g.tagID===ef.HTML){if(m.fragmentContext||(m.insertionMode=eE.AFTER_AFTER_BODY),m.options.sourceCodeLocationInfo&&m.openElements.tagIDs[0]===ef.HTML){m._setEndLocation(m.openElements.items[0],g);let T=m.openElements.items[1];!T||(null===(_=m.treeAdapter.getNodeSourceCodeLocation(T))||void 0===_?void 0:_.endTag)||m._setEndLocation(T,g)}}else tokenAfterBody(m,g)}function tokenAfterBody(m,g){m.insertionMode=eE.IN_BODY,modeInBody(m,g)}function tokenAfterAfterBody(m,g){m.insertionMode=eE.IN_BODY,modeInBody(m,g)}function popUntilHtmlOrIntegrationPoint(m){for(;m.treeAdapter.getNamespaceURI(m.openElements.current)!==ed.HTML&&!m._isIntegrationPoint(m.openElements.currentTagId,m.openElements.current);)m.openElements.pop()}let ry=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(m,g){return function(_){let T;let A=0,k="";for(;T=m.exec(_);)A!==T.index&&(k+=_.substring(A,T.index)),k+=g.get(T[0].charCodeAt(0)),A=T.index+1;return k+_.substring(A)}}null!=String.prototype.codePointAt||((m,g)=>(64512&m.charCodeAt(g))==55296?(m.charCodeAt(g)-55296)*1024+m.charCodeAt(g+1)-56320+65536:m.charCodeAt(g)),getEscaper(/[&<>'"]/g,ry),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),ep.AREA,ep.BASE,ep.BASEFONT,ep.BGSOUND,ep.BR,ep.COL,ep.EMBED,ep.FRAME,ep.HR,ep.IMG,ep.INPUT,ep.KEYGEN,ep.LINK,ep.META,ep.PARAM,ep.SOURCE,ep.TRACK,ep.WBR;let rk=lib_point("end"),rv=lib_point("start");function lib_point(m){return function(g){let _=g&&g.position&&g.position[m]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}let convert=function(m){if(null==m)return lib_ok;if("function"==typeof m)return castFactory(m);if("object"==typeof m)return Array.isArray(m)?function(m){let g=[],_=-1;for(;++_<m.length;)g[_]=convert(m[_]);return castFactory(function(...m){let _=-1;for(;++_<g.length;)if(g[_].apply(this,m))return!0;return!1})}(m):castFactory(function(g){let _;for(_ in m)if(g[_]!==m[_])return!1;return!0});if("string"==typeof m)return castFactory(function(g){return g&&g.type===m});throw Error("Expected function, string, or object as test")};function castFactory(m){return function(g,_,T){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&m.call(this,g,"number"==typeof _?_:void 0,T||void 0))}}function lib_ok(){return!0}let rb=[],rx=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),rC={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(m,g){let _=function(m){let g="root"===m.type?m.children[0]:m;return!!(g&&("doctype"===g.type||"element"===g.type&&"html"===g.tagName))}(m),T=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),A={parser:_?new parser_Parser(rC):parser_Parser.getFragmentParser(void 0,rC),handle(m){T(m,A)},stitches:!1,options:g||{}};T(m,A),resetTokenizer(A,rv());let k=_?A.parser.document:A.parser.getFragment(),C=function(m,g){let _=g||{};return one({file:_.file||void 0,location:!1,schema:"svg"===_.space?nN:nw,verbose:_.verbose||!1},m)}(k,{file:A.options.file});if(A.stitches){let m;m=function(m,g,_){if(m.value.stitch&&_&&void 0!==g){let T=_.children;return T[g]=m.value.stitch,g}},function(m,g,_,T){let A;"function"==typeof g&&"function"!=typeof _?(T=_,_=g):A=g;let k=convert(A),C=T?-1:1;(function factory(m,A,S){let w=m&&"object"==typeof m?m:{};if("string"==typeof w.type){let g="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+m.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var w;let N,O,R,L=rb;if((!g||k(m,A,S[S.length-1]||void 0))&&!1===(L=Array.isArray(w=_(m,S))?w:"number"==typeof w?[!0,w]:null==w?rb:[w])[0])return L;if("children"in m&&m.children&&m.children&&"skip"!==L[0])for(O=(T?m.children.length:-1)+C,R=S.concat(m);O>-1&&O<m.children.length;){let g=m.children[O];if(!1===(N=factory(g,O,R)())[0])return N;O="number"==typeof N[1]?N[1]:O+C}return L}})(m,void 0,[])()}(C,"comment",function(g,_){let T=_[_.length-1],A=T?T.children.indexOf(g):void 0;return m(g,A,T)},void 0)}return"root"===C.type&&1===C.children.length&&C.children[0].type===m.type?C.children[0]:C}function hast_util_raw_lib_all(m,g){let _=-1;if(m)for(;++_<m.length;)g.handle(m[_])}function lib_root(m,g){hast_util_raw_lib_all(m.children,g)}function hast_util_raw_lib_element(m,g){(function(m,g){if(g.parser.tokenizer.state===n4.PLAINTEXT)return;resetTokenizer(g,rv(m));let _=g.parser.openElements.current,T="namespaceURI"in _?_.namespaceURI:nU.html;T===nU.html&&"svg"===m.tagName&&(T=nU.svg);let A=function(m,g){let _=(g||n$).space;return nV(m,"svg"===_?nN:nw)}({...m,children:[]},{space:T===nU.svg?"svg":"html"}),k="attrs"in A?A.attrs:[],C={type:ea.START_TAG,tagName:m.tagName,tagID:getTagID(m.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:k,location:createParse5Location(m)};g.parser.currentToken=C,g.parser._processToken(g.parser.currentToken),g.parser.tokenizer.lastStartTagName=m.tagName})(m,g),hast_util_raw_lib_all(m.children,g),function(m,g){if(!g.parser.tokenizer.inForeignNode&&nY.includes(m.tagName)||g.parser.tokenizer.state===n4.PLAINTEXT)return;resetTokenizer(g,rk(m));let _={type:ea.END_TAG,tagName:m.tagName,tagID:getTagID(m.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(m)};g.parser.currentToken=_,g.parser._processToken(g.parser.currentToken),_.tagName===g.parser.tokenizer.lastStartTagName&&(g.parser.tokenizer.state===n4.RCDATA||g.parser.tokenizer.state===n4.RAWTEXT||g.parser.tokenizer.state===n4.SCRIPT_DATA)&&(g.parser.tokenizer.state=n4.DATA)}(m,g)}function hast_util_raw_lib_text(m,g){let _={type:ea.CHARACTER,chars:m.value,location:createParse5Location(m)};resetTokenizer(g,rv(m)),g.parser.currentToken=_,g.parser._processToken(g.parser.currentToken)}function lib_doctype(m,g){let _={type:ea.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(m)};resetTokenizer(g,rv(m)),g.parser.currentToken=_,g.parser._processToken(g.parser.currentToken)}function lib_comment(m,g){let _=m.value,T={type:ea.COMMENT,data:_,location:createParse5Location(m)};resetTokenizer(g,rv(m)),g.parser.currentToken=T,g.parser._processToken(g.parser.currentToken)}function handleRaw(m,g){if(g.parser.tokenizer.preprocessor.html="",g.parser.tokenizer.preprocessor.pos=-1,g.parser.tokenizer.preprocessor.lastGapPos=-2,g.parser.tokenizer.preprocessor.gapStack=[],g.parser.tokenizer.preprocessor.skipNextNewLine=!1,g.parser.tokenizer.preprocessor.lastChunkWritten=!1,g.parser.tokenizer.preprocessor.endOfChunkHit=!1,g.parser.tokenizer.preprocessor.isEol=!1,setPoint(g,rv(m)),g.parser.tokenizer.write(m.value,!1),g.parser.tokenizer._runParsingLoop(),72===g.parser.tokenizer.state||78===g.parser.tokenizer.state){g.parser.tokenizer.preprocessor.lastChunkWritten=!0;let m=g.parser.tokenizer._consume();g.parser.tokenizer._callState(m)}}function unknown(m,g){if(g.options.passThrough&&g.options.passThrough.includes(m.type))!function(m,g){g.stitches=!0;let _="children"in m?nm({...m,children:[]}):nm(m);if("children"in m&&"children"in _){let T=raw({type:"root",children:m.children},g.options);_.children=T.children}lib_comment({type:"comment",value:{stitch:_}},g)}(m,g);else{let g="";throw rx.has(m.type)&&(g=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+m.type+"` node"+g)}}function resetTokenizer(m,g){setPoint(m,g);let _=m.parser.tokenizer.currentCharacterToken;_&&_.location&&(_.location.endLine=m.parser.tokenizer.preprocessor.line,_.location.endCol=m.parser.tokenizer.preprocessor.col+1,_.location.endOffset=m.parser.tokenizer.preprocessor.offset+1,m.parser.currentToken=_,m.parser._processToken(m.parser.currentToken)),m.parser.tokenizer.paused=!1,m.parser.tokenizer.inLoop=!1,m.parser.tokenizer.active=!1,m.parser.tokenizer.returnState=n4.DATA,m.parser.tokenizer.charRefCode=-1,m.parser.tokenizer.consumedAfterSnapshot=-1,m.parser.tokenizer.currentLocation=null,m.parser.tokenizer.currentCharacterToken=null,m.parser.tokenizer.currentToken=null,m.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(m,g){if(g&&void 0!==g.offset){let _={startLine:g.line,startCol:g.column,startOffset:g.offset,endLine:-1,endCol:-1,endOffset:-1};m.parser.tokenizer.preprocessor.lineStartPos=-g.column+1,m.parser.tokenizer.preprocessor.droppedBufferSize=g.offset,m.parser.tokenizer.preprocessor.line=g.line,m.parser.tokenizer.currentLocation=_}}function createParse5Location(m){let g=rv(m)||{line:void 0,column:void 0,offset:void 0},_=rk(m)||{line:void 0,column:void 0,offset:void 0},T={startLine:g.line,startCol:g.column,startOffset:g.offset,endLine:_.line,endCol:_.column,endOffset:_.offset};return T}function rehypeRaw(m){return function(g,_){let T=raw(g,{...m,file:_});return T}}let rI=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],rS={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},rw=["cent","copy","divide","gt","lt","not","para","times"],rN={}.hasOwnProperty,rO={};for(A in rS)rN.call(rS,A)&&(rO[rS[A]]=A);function formatSmart(m,g,_){let T,A=function(m,g,_){let T="&#x"+m.toString(16).toUpperCase();return _&&g&&!/[\dA-Fa-f]/.test(String.fromCharCode(g))?T:T+";"}(m,g,_.omitOptionalSemicolons);if((_.useNamedReferences||_.useShortestReferences)&&(T=function(m,g,_,T){let A=String.fromCharCode(m);if(rN.call(rO,A)){let m=rO[A],k="&"+m;return _&&rI.includes(m)&&!rw.includes(m)&&(!T||g&&61!==g&&/[^\da-z]/i.test(String.fromCharCode(g)))?k:k+";"}return""}(m,g,_.omitOptionalSemicolons,_.attribute)),(_.useShortestReferences||!T)&&_.useShortestReferences){let T=function(m,g,_){let T="&#"+String(m);return _&&g&&!/\d/.test(String.fromCharCode(g))?T:T+";"}(m,g,_.omitOptionalSemicolons);T.length<A.length&&(A=T)}return T&&(!_.useShortestReferences||T.length<A.length)?T:A}function stringifyEntities(m,g){return function(m,g){if(m=m.replace(g.subset?function(m){let g=[],_=-1;for(;++_<m.length;)g.push(m[_].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+g.join("|")+")","g")}(g.subset):/["&'<>`]/g,basic),g.subset||g.escapeOnly)return m;return m.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(m,_,T){return g.format((m.charCodeAt(0)-55296)*1024+m.charCodeAt(1)-56320+65536,T.charCodeAt(_+2),g)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(m,_,T){return g.format(m.charCodeAt(0),T.charCodeAt(_+1),g)}}(m,Object.assign({format:formatSmart},g))}let rR=/^>|^->|<!--|-->|--!>|<!-$/g,rD=[">"],rL=["<",">"];function ccount(m,g){let _=String(m);if("string"!=typeof g)throw TypeError("Expected character");let T=0,A=_.indexOf(g);for(;-1!==A;)T++,A=_.indexOf(g,A+g.length);return T}let rP=/[ \t\n\f\r]/g;function whitespace(m){return"object"==typeof m?"text"===m.type&&lib_empty(m.value):lib_empty(m)}function lib_empty(m){return""===m.replace(rP,"")}let rM=siblings(1),rF=siblings(-1),rB=[];function siblings(m){return function(g,_,T){let A=g?g.children:rB,k=(_||0)+m,C=A[k];if(!T)for(;C&&whitespace(C);)k+=m,C=A[k];return C}}let rH={}.hasOwnProperty;function omission(m){return function(g,_,T){return rH.call(m,g.tagName)&&m[g.tagName](g,_,T)}}let rU=omission({body:function(m,g,_){let T=rM(_,g);return!T||"comment"!==T.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&("dt"===T.tagName||"dd"===T.tagName)},dt:function(m,g,_){let T=rM(_,g);return!!(T&&"element"===T.type&&("dt"===T.tagName||"dd"===T.tagName))},head:headOrColgroupOrCaption,html:function(m,g,_){let T=rM(_,g);return!T||"comment"!==T.type},li:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&"li"===T.tagName},optgroup:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&"optgroup"===T.tagName},option:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&("option"===T.tagName||"optgroup"===T.tagName)},p:function(m,g,_){let T=rM(_,g);return T?"element"===T.type&&("address"===T.tagName||"article"===T.tagName||"aside"===T.tagName||"blockquote"===T.tagName||"details"===T.tagName||"div"===T.tagName||"dl"===T.tagName||"fieldset"===T.tagName||"figcaption"===T.tagName||"figure"===T.tagName||"footer"===T.tagName||"form"===T.tagName||"h1"===T.tagName||"h2"===T.tagName||"h3"===T.tagName||"h4"===T.tagName||"h5"===T.tagName||"h6"===T.tagName||"header"===T.tagName||"hgroup"===T.tagName||"hr"===T.tagName||"main"===T.tagName||"menu"===T.tagName||"nav"===T.tagName||"ol"===T.tagName||"p"===T.tagName||"pre"===T.tagName||"section"===T.tagName||"table"===T.tagName||"ul"===T.tagName):!_||!("element"===_.type&&("a"===_.tagName||"audio"===_.tagName||"del"===_.tagName||"ins"===_.tagName||"map"===_.tagName||"noscript"===_.tagName||"video"===_.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&("tbody"===T.tagName||"tfoot"===T.tagName)},td:cells,tfoot:function(m,g,_){return!rM(_,g)},th:cells,thead:function(m,g,_){let T=rM(_,g);return!!(T&&"element"===T.type&&("tbody"===T.tagName||"tfoot"===T.tagName))},tr:function(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&"tr"===T.tagName}});function headOrColgroupOrCaption(m,g,_){let T=rM(_,g,!0);return!T||"comment"!==T.type&&!("text"===T.type&&whitespace(T.value.charAt(0)))}function rubyElement(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&("rp"===T.tagName||"rt"===T.tagName)}function cells(m,g,_){let T=rM(_,g);return!T||"element"===T.type&&("td"===T.tagName||"th"===T.tagName)}let rz=omission({body:function(m){let g=rM(m,-1,!0);return!g||"comment"!==g.type&&!("text"===g.type&&whitespace(g.value.charAt(0)))&&!("element"===g.type&&("meta"===g.tagName||"link"===g.tagName||"script"===g.tagName||"style"===g.tagName||"template"===g.tagName))},colgroup:function(m,g,_){let T=rF(_,g),A=rM(m,-1,!0);return!(_&&T&&"element"===T.type&&"colgroup"===T.tagName&&rU(T,_.children.indexOf(T),_))&&!!(A&&"element"===A.type&&"col"===A.tagName)},head:function(m){let g=m.children,_=[],T=-1;for(;++T<g.length;){let m=g[T];if("element"===m.type&&("title"===m.tagName||"base"===m.tagName)){if(_.includes(m.tagName))return!1;_.push(m.tagName)}}return g.length>0},html:function(m){let g=rM(m,-1);return!g||"comment"!==g.type},tbody:function(m,g,_){let T=rF(_,g),A=rM(m,-1);return!(_&&T&&"element"===T.type&&("thead"===T.tagName||"tbody"===T.tagName)&&rU(T,_.children.indexOf(T),_))&&!!(A&&"element"===A.type&&"tr"===A.tagName)}}),rG={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},rj=["<","&"];function text_text(m,g,_,T){return _&&"element"===_.type&&("script"===_.tagName||"style"===_.tagName)?m.value:stringifyEntities(m.value,Object.assign({},T.settings.characterReferences,{subset:rj}))}let r$=zwitch("type",{invalid:function(m){throw Error("Expected node, not `"+m+"`")},unknown:function(m){throw Error("Cannot compile unknown node `"+m.type+"`")},handlers:{comment:function(m,g,_,T){return T.settings.bogusComments?"<?"+stringifyEntities(m.value,Object.assign({},T.settings.characterReferences,{subset:rD}))+">":"<!--"+m.value.replace(rR,function(m){return stringifyEntities(m,Object.assign({},T.settings.characterReferences,{subset:rL}))})+"-->"},doctype:function(m,g,_,T){return"<!"+(T.settings.upperDoctype?"DOCTYPE":"doctype")+(T.settings.tightDoctype?"":" ")+"html>"},element:function(m,g,_,T){let A;let k=T.schema,C="svg"!==k.space&&T.settings.omitOptionalTags,S="svg"===k.space?T.settings.closeEmptyElements:T.settings.voids.includes(m.tagName.toLowerCase()),w=[];"html"===k.space&&"svg"===m.tagName&&(T.schema=nN);let N=function(m,g){let _;let T=[],A=-1;if(g){for(_ in g)if(null!==g[_]&&void 0!==g[_]){let A=function(m,g,_){let T;let A=find(m.schema,g),k=m.settings.allowParseErrors&&"html"===m.schema.space?0:1,C=m.settings.allowDangerousCharacters?0:1,S=m.quote;if(A.overloadedBoolean&&(_===A.attribute||""===_)?_=!0:(A.boolean||A.overloadedBoolean&&"string"!=typeof _)&&(_=!!_),null==_||!1===_||"number"==typeof _&&Number.isNaN(_))return"";let w=stringifyEntities(A.attribute,Object.assign({},m.settings.characterReferences,{subset:rG.name[k][C]}));return!0===_?w:(_=Array.isArray(_)?(A.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(_,{padLeft:!m.settings.tightCommaSeparatedLists}):String(_),m.settings.collapseEmptyAttributes&&!_)?w:(m.settings.preferUnquoted&&(T=stringifyEntities(_,Object.assign({},m.settings.characterReferences,{attribute:!0,subset:rG.unquoted[k][C]}))),T!==_&&(m.settings.quoteSmart&&ccount(_,S)>ccount(_,m.alternative)&&(S=m.alternative),T=S+stringifyEntities(_,Object.assign({},m.settings.characterReferences,{subset:("'"===S?rG.single:rG.double)[k][C],attribute:!0}))+S),w+(T?"="+T:T))}(m,_,g[_]);A&&T.push(A)}}for(;++A<T.length;){let g=m.settings.tightAttributes?T[A].charAt(T[A].length-1):void 0;A!==T.length-1&&'"'!==g&&"'"!==g&&(T[A]+=" ")}return T.join("")}(T,m.properties),O=T.all("html"===k.space&&"template"===m.tagName?m.content:m);return T.schema=k,O&&(S=!1),!N&&C&&rz(m,g,_)||(w.push("<",m.tagName,N?" "+N:""),S&&("svg"===k.space||T.settings.closeSelfClosing)&&(A=N.charAt(N.length-1),(!T.settings.tightSelfClosing||"/"===A||A&&'"'!==A&&"'"!==A)&&w.push(" "),w.push("/")),w.push(">")),w.push(O),S||C&&rU(m,g,_)||w.push("</"+m.tagName+">"),w.join("")},raw:function(m,g,_,T){return T.settings.allowDangerousHtml?m.value:text_text(m,g,_,T)},root:function(m,g,_,T){return T.all(m)},text:text_text}}),rq={},rV={},rY=[];function hast_util_to_html_lib_one(m,g,_){return r$(m,g,_,this)}function hast_util_to_html_lib_all(m){let g=[],_=m&&m.children||rY,T=-1;for(;++T<_.length;)g[T]=this.one(_[T],T,m);return g.join("")}function rehypeStringify(m){let g={...this.data("settings"),...m};this.compiler=function(m){return function(m,g){let _=g||rq,T=_.quote||'"';if('"'!==T&&"'"!==T)throw Error("Invalid quote `"+T+"`, expected `'` or `\"`");let A={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:_.omitOptionalTags||!1,allowParseErrors:_.allowParseErrors||!1,allowDangerousCharacters:_.allowDangerousCharacters||!1,quoteSmart:_.quoteSmart||!1,preferUnquoted:_.preferUnquoted||!1,tightAttributes:_.tightAttributes||!1,upperDoctype:_.upperDoctype||!1,tightDoctype:_.tightDoctype||!1,bogusComments:_.bogusComments||!1,tightCommaSeparatedLists:_.tightCommaSeparatedLists||!1,tightSelfClosing:_.tightSelfClosing||!1,collapseEmptyAttributes:_.collapseEmptyAttributes||!1,allowDangerousHtml:_.allowDangerousHtml||!1,voids:_.voids||nY,characterReferences:_.characterReferences||rV,closeSelfClosing:_.closeSelfClosing||!1,closeEmptyElements:_.closeEmptyElements||!1},schema:"svg"===_.space?nN:nw,quote:T,alternative:'"'===T?"'":'"'};return A.one(Array.isArray(m)?{type:"root",children:m}:m,void 0,void 0)}(m,g)}}regexCheck(/[A-Za-z]/),regexCheck(/[\dA-Za-z]/),regexCheck(/[#-'*+\--9=?A-Z^-~]/),regexCheck(/\d/),regexCheck(/[\dA-Fa-f]/),regexCheck(/[!-/:-@[-`{-~]/);let rW=regexCheck(/\p{P}|\p{S}/u),rQ=regexCheck(/\s/);function regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}let lib_convert=function(m){if(null==m)return unist_util_is_lib_ok;if("function"==typeof m)return lib_castFactory(m);if("object"==typeof m)return Array.isArray(m)?function(m){let g=[],_=-1;for(;++_<m.length;)g[_]=lib_convert(m[_]);return lib_castFactory(function(...m){let _=-1;for(;++_<g.length;)if(g[_].apply(this,m))return!0;return!1})}(m):lib_castFactory(function(g){let _;for(_ in m)if(g[_]!==m[_])return!1;return!0});if("string"==typeof m)return lib_castFactory(function(g){return g&&g.type===m});throw Error("Expected function, string, or object as test")};function lib_castFactory(m){return function(g,_,T){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&m.call(this,g,"number"==typeof _?_:void 0,T||void 0))}}function unist_util_is_lib_ok(){return!0}let rX=[],rK="phrasing",rZ=["autolink","link","image","label"];function enterLiteralAutolink(m){this.enter({type:"link",title:null,url:"",children:[]},m)}function enterLiteralAutolinkValue(m){this.config.enter.autolinkProtocol.call(this,m)}function exitLiteralAutolinkHttp(m){this.config.exit.autolinkProtocol.call(this,m)}function exitLiteralAutolinkWww(m){this.config.exit.data.call(this,m);let g=this.stack[this.stack.length-1];g.type,g.url="http://"+this.sliceSerialize(m)}function exitLiteralAutolinkEmail(m){this.config.exit.autolinkEmail.call(this,m)}function exitLiteralAutolink(m){this.exit(m)}function transformGfmAutolinkLiterals(m){!function(m,g,_){let T=lib_convert((_||{}).ignore||[]),A=function(m){let g=[];if(!Array.isArray(m))throw TypeError("Expected find and replace tuple or list of tuples");let _=!m[0]||Array.isArray(m[0])?m:[m],T=-1;for(;++T<_.length;){var A;let m=_[T];g.push(["string"==typeof(A=m[0])?RegExp(function(m){if("string"!=typeof m)throw TypeError("Expected a string");return m.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(A),"g"):A,function(m){return"function"==typeof m?m:function(){return m}}(m[1])])}return g}(g),k=-1;for(;++k<A.length;)!function(m,g,_,T){let A;"function"==typeof g&&"function"!=typeof _?(T=_,_=g):A=g;let k=lib_convert(A),C=T?-1:1;(function factory(m,A,S){let w=m&&"object"==typeof m?m:{};if("string"==typeof w.type){let g="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+m.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var w;let N,O,R,L=rX;if((!g||k(m,A,S[S.length-1]||void 0))&&!1===(L=Array.isArray(w=_(m,S))?w:"number"==typeof w?[!0,w]:null==w?rX:[w])[0])return L;if("children"in m&&m.children&&m.children&&"skip"!==L[0])for(O=(T?m.children.length:-1)+C,R=S.concat(m);O>-1&&O<m.children.length;){let g=m.children[O];if(!1===(N=factory(g,O,R)())[0])return N;O="number"==typeof N[1]?N[1]:O+C}return L}})(m,void 0,[])()}(m,"text",visitor);function visitor(m,g){let _,C=-1;for(;++C<g.length;){let m=g[C],A=_?_.children:void 0;if(T(m,A?A.indexOf(m):void 0,_))return;_=m}if(_)return function(m,g){let _=g[g.length-1],T=A[k][0],C=A[k][1],S=0,w=_.children,N=w.indexOf(m),O=!1,R=[];T.lastIndex=0;let L=T.exec(m.value);for(;L;){let _=L.index,A={index:L.index,input:L.input,stack:[...g,m]},k=C(...L,A);if("string"==typeof k&&(k=k.length>0?{type:"text",value:k}:void 0),!1===k?T.lastIndex=_+1:(S!==_&&R.push({type:"text",value:m.value.slice(S,_)}),Array.isArray(k)?R.push(...k):k&&R.push(k),S=_+L[0].length,O=!0),!T.global)break;L=T.exec(m.value)}return O?(S<m.value.length&&R.push({type:"text",value:m.value.slice(S)}),_.children.splice(N,1,...R)):R=[m],N+R.length}(m,g)}}(m,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}function findUrl(m,g,_,T,A){let k="";if(!previous(A)||(/^w/i.test(g)&&(_=g+_,g="",k="http://"),!function(m){let g=m.split(".");return!(g.length<2||g[g.length-1]&&(/_/.test(g[g.length-1])||!/[a-zA-Z\d]/.test(g[g.length-1]))||g[g.length-2]&&(/_/.test(g[g.length-2])||!/[a-zA-Z\d]/.test(g[g.length-2])))}(_)))return!1;let C=function(m){let g=/[!"&'),.:;<>?\]}]+$/.exec(m);if(!g)return[m,void 0];m=m.slice(0,g.index);let _=g[0],T=_.indexOf(")"),A=ccount(m,"("),k=ccount(m,")");for(;-1!==T&&A>k;)m+=_.slice(0,T+1),T=(_=_.slice(T+1)).indexOf(")"),k++;return[m,_]}(_+T);if(!C[0])return!1;let S={type:"link",title:null,url:k+g+C[0],children:[{type:"text",value:g+C[0]}]};return C[1]?[S,{type:"text",value:C[1]}]:S}function findEmail(m,g,_,T){return!(!previous(T,!0)||/[-\d_]$/.test(_))&&{type:"link",title:null,url:"mailto:"+g+"@"+_,children:[{type:"text",value:g+"@"+_}]}}function previous(m,g){let _=m.input.charCodeAt(m.index-1);return(0===m.index||rQ(_)||rW(_))&&(!g||47!==_)}function normalizeIdentifier(m){return m.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteDefinition(m){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},m)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(m){let g=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(m)).toLowerCase()}function exitFootnoteDefinition(m){this.exit(m)}function enterFootnoteCall(m){this.enter({type:"footnoteReference",identifier:"",label:""},m)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(m){let g=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=g,_.identifier=normalizeIdentifier(this.sliceSerialize(m)).toLowerCase()}function exitFootnoteCall(m){this.exit(m)}function footnoteReference(m,g,_,T){let A=_.createTracker(T),k=A.move("[^"),C=_.enter("footnoteReference"),S=_.enter("reference");return k+=A.move(_.safe(_.associationId(m),{...A.current(),before:k,after:"]"})),S(),C(),k+=A.move("]")}function footnoteDefinition(m,g,_,T){let A=_.createTracker(T),k=A.move("[^"),C=_.enter("footnoteDefinition"),S=_.enter("label");return k+=A.move(_.safe(_.associationId(m),{...A.current(),before:k,after:"]"})),S(),k+=A.move("]:"+(m.children&&m.children.length>0?" ":"")),A.shift(4),k+=A.move(_.indentLines(_.containerFlow(m,A.current()),map)),C(),k}function map(m,g,_){return 0===g?m:(_?"":"    ")+m}footnoteReference.peek=function(){return"["};let rJ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(m){this.enter({type:"delete",children:[]},m)}function exitStrikethrough(m){this.exit(m)}function handleDelete(m,g,_,T){let A=_.createTracker(T),k=_.enter("strikethrough"),C=A.move("~~");return C+=_.containerPhrasing(m,{...A.current(),before:C,after:"~"})+A.move("~~"),k(),C}function defaultStringLength(m){return m.length}function toAlignment(m){let g="string"==typeof m?m.codePointAt(0):0;return 67===g||99===g?99:76===g||108===g?108:82===g||114===g?114:0}function blockquote_map(m,g,_){return">"+(_?"":" ")+m}function listInScope(m,g,_){if("string"==typeof g&&(g=[g]),!g||0===g.length)return _;let T=-1;for(;++T<g.length;)if(m.includes(g[T]))return!0;return!1}function hardBreak(m,g,_,T){let A=-1;for(;++A<_.unsafe.length;){var k,C;if("\n"===_.unsafe[A].character&&listInScope(k=_.stack,(C=_.unsafe[A]).inConstruct,!0)&&!listInScope(k,C.notInConstruct,!1))return/[ \t]/.test(T.before)?"":" "}return"\\\n"}function longestStreak(m,g){let _=String(m),T=_.indexOf(g),A=T,k=0,C=0;if("string"!=typeof g)throw TypeError("Expected substring");for(;-1!==T;)T===A?++k>C&&(C=k):k=1,A=T+g.length,T=_.indexOf(g,A);return C}function code_map(m,g,_){return(_?"":"    ")+m}function checkQuote(m){let g=m.options.quote||'"';if('"'!==g&&"'"!==g)throw Error("Cannot serialize title with `"+g+"` for `options.quote`, expected `\"`, or `'`");return g}function emphasis(m,g,_,T){let A=function(m){let g=m.options.emphasis||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize emphasis with `"+g+"` for `options.emphasis`, expected `*`, or `_`");return g}(_),k=_.enter("emphasis"),C=_.createTracker(T),S=C.move(A);return S+=C.move(_.containerPhrasing(m,{before:S,after:A,...C.current()}))+C.move(A),k(),S}handleDelete.peek=function(){return"~"},emphasis.peek=function(m,g,_){return _.options.emphasis||"*"};let unist_util_is_lib_convert=function(m){if(null==m)return node_modules_unist_util_is_lib_ok;if("function"==typeof m)return unist_util_is_lib_castFactory(m);if("object"==typeof m)return Array.isArray(m)?function(m){let g=[],_=-1;for(;++_<m.length;)g[_]=unist_util_is_lib_convert(m[_]);return unist_util_is_lib_castFactory(function(...m){let _=-1;for(;++_<g.length;)if(g[_].apply(this,m))return!0;return!1})}(m):unist_util_is_lib_castFactory(function(g){let _;for(_ in m)if(g[_]!==m[_])return!1;return!0});if("string"==typeof m)return unist_util_is_lib_castFactory(function(g){return g&&g.type===m});throw Error("Expected function, string, or object as test")};function unist_util_is_lib_castFactory(m){return function(g,_,T){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&m.call(this,g,"number"==typeof _?_:void 0,T||void 0))}}function node_modules_unist_util_is_lib_ok(){return!0}let r0=[],r1={};function lib_toString(m,g){let _=g||r1,T="boolean"!=typeof _.includeImageAlt||_.includeImageAlt,A="boolean"!=typeof _.includeHtml||_.includeHtml;return mdast_util_to_string_lib_one(m,T,A)}function mdast_util_to_string_lib_one(m,g,_){if(m&&"object"==typeof m){if("value"in m)return"html"!==m.type||_?m.value:"";if(g&&"alt"in m&&m.alt)return m.alt;if("children"in m)return mdast_util_to_string_lib_all(m.children,g,_)}return Array.isArray(m)?mdast_util_to_string_lib_all(m,g,_):""}function mdast_util_to_string_lib_all(m,g,_){let T=[],A=-1;for(;++A<m.length;)T[A]=mdast_util_to_string_lib_one(m[A],g,_);return T.join("")}function html_html(m){return m.value||""}function image_image(m,g,_,T){let A=checkQuote(_),k='"'===A?"Quote":"Apostrophe",C=_.enter("image"),S=_.enter("label"),w=_.createTracker(T),N=w.move("![");return N+=w.move(_.safe(m.alt,{before:N,after:"]",...w.current()}))+w.move("]("),S(),!m.url&&m.title||/[\0- \u007F]/.test(m.url)?(S=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(S=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":")",...w.current()}))),S(),m.title&&(S=_.enter(`title${k}`),N+=w.move(" "+A),N+=w.move(_.safe(m.title,{before:N,after:A,...w.current()}))+w.move(A),S()),N+=w.move(")"),C(),N}function imageReference(m,g,_,T){let A=m.referenceType,k=_.enter("imageReference"),C=_.enter("label"),S=_.createTracker(T),w=S.move("!["),N=_.safe(m.alt,{before:w,after:"]",...S.current()});w+=S.move(N+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let R=_.safe(_.associationId(m),{before:w,after:"]",...S.current()});return C(),_.stack=O,k(),"full"!==A&&N&&N===R?"shortcut"===A?w=w.slice(0,-1):w+=S.move("]"):w+=S.move(R+"]"),w}function inlineCode(m,g,_){let T=m.value||"",A="`",k=-1;for(;RegExp("(^|[^`])"+A+"([^`]|$)").test(T);)A+="`";for(/[^ \r\n]/.test(T)&&(/^[ \r\n]/.test(T)&&/[ \r\n]$/.test(T)||/^`|`$/.test(T))&&(T=" "+T+" ");++k<_.unsafe.length;){let m;let g=_.unsafe[k],A=_.compilePattern(g);if(g.atBreak)for(;m=A.exec(T);){let g=m.index;10===T.charCodeAt(g)&&13===T.charCodeAt(g-1)&&g--,T=T.slice(0,g)+" "+T.slice(m.index+1)}}return A+T+A}function formatLinkAsAutolink(m,g){let _=lib_toString(m);return!!(!g.options.resourceLink&&m.url&&!m.title&&m.children&&1===m.children.length&&"text"===m.children[0].type&&(_===m.url||"mailto:"+_===m.url)&&/^[a-z][a-z+.-]+:/i.test(m.url)&&!/[\0- <>\u007F]/.test(m.url))}function link_link(m,g,_,T){let A,k;let C=checkQuote(_),S='"'===C?"Quote":"Apostrophe",w=_.createTracker(T);if(formatLinkAsAutolink(m,_)){let g=_.stack;_.stack=[],A=_.enter("autolink");let T=w.move("<");return T+=w.move(_.containerPhrasing(m,{before:T,after:">",...w.current()}))+w.move(">"),A(),_.stack=g,T}A=_.enter("link"),k=_.enter("label");let N=w.move("[");return N+=w.move(_.containerPhrasing(m,{before:N,after:"](",...w.current()}))+w.move("]("),k(),!m.url&&m.title||/[\0- \u007F]/.test(m.url)?(k=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(k=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":")",...w.current()}))),k(),m.title&&(k=_.enter(`title${S}`),N+=w.move(" "+C),N+=w.move(_.safe(m.title,{before:N,after:C,...w.current()}))+w.move(C),k()),N+=w.move(")"),A(),N}function linkReference(m,g,_,T){let A=m.referenceType,k=_.enter("linkReference"),C=_.enter("label"),S=_.createTracker(T),w=S.move("["),N=_.containerPhrasing(m,{before:w,after:"]",...S.current()});w+=S.move(N+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let R=_.safe(_.associationId(m),{before:w,after:"]",...S.current()});return C(),_.stack=O,k(),"full"!==A&&N&&N===R?"shortcut"===A?w=w.slice(0,-1):w+=S.move("]"):w+=S.move(R+"]"),w}function checkBullet(m){let g=m.options.bullet||"*";if("*"!==g&&"+"!==g&&"-"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bullet`, expected `*`, `+`, or `-`");return g}function checkRule(m){let g=m.options.rule||"*";if("*"!==g&&"-"!==g&&"_"!==g)throw Error("Cannot serialize rules with `"+g+"` for `options.rule`, expected `*`, `-`, or `_`");return g}html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(m,g,_){return formatLinkAsAutolink(m,_)?"<":"["},linkReference.peek=function(){return"["};let r2=unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(m,g,_,T){let A=function(m){let g=m.options.strong||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize strong with `"+g+"` for `options.strong`, expected `*`, or `_`");return g}(_),k=_.enter("strong"),C=_.createTracker(T),S=C.move(A+A);return S+=C.move(_.containerPhrasing(m,{before:S,after:A,...C.current()}))+C.move(A+A),k(),S}strong.peek=function(m,g,_){return _.options.strong||"*"};let r3={blockquote:function(m,g,_,T){let A=_.enter("blockquote"),k=_.createTracker(T);k.move("> "),k.shift(2);let C=_.indentLines(_.containerFlow(m,k.current()),blockquote_map);return A(),C},break:hardBreak,code:function(m,g,_,T){let A=function(m){let g=m.options.fence||"`";if("`"!==g&&"~"!==g)throw Error("Cannot serialize code with `"+g+"` for `options.fence`, expected `` ` `` or `~`");return g}(_),k=m.value||"",C="`"===A?"GraveAccent":"Tilde";if(!1===_.options.fences&&m.value&&!m.lang&&/[^ \r\n]/.test(m.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(m.value)){let m=_.enter("codeIndented"),g=_.indentLines(k,code_map);return m(),g}let S=_.createTracker(T),w=A.repeat(Math.max(longestStreak(k,A)+1,3)),N=_.enter("codeFenced"),O=S.move(w);if(m.lang){let g=_.enter(`codeFencedLang${C}`);O+=S.move(_.safe(m.lang,{before:O,after:" ",encode:["`"],...S.current()})),g()}if(m.lang&&m.meta){let g=_.enter(`codeFencedMeta${C}`);O+=S.move(" "),O+=S.move(_.safe(m.meta,{before:O,after:"\n",encode:["`"],...S.current()})),g()}return O+=S.move("\n"),k&&(O+=S.move(k+"\n")),O+=S.move(w),N(),O},definition:function(m,g,_,T){let A=checkQuote(_),k='"'===A?"Quote":"Apostrophe",C=_.enter("definition"),S=_.enter("label"),w=_.createTracker(T),N=w.move("[");return N+=w.move(_.safe(_.associationId(m),{before:N,after:"]",...w.current()}))+w.move("]: "),S(),!m.url||/[\0- \u007F]/.test(m.url)?(S=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(S=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":"\n",...w.current()}))),S(),m.title&&(S=_.enter(`title${k}`),N+=w.move(" "+A),N+=w.move(_.safe(m.title,{before:N,after:A,...w.current()}))+w.move(A),S()),C(),N},emphasis:emphasis,hardBreak:hardBreak,heading:function(m,g,_,T){var A,k;let C,S,w,N;let O=Math.max(Math.min(6,m.depth||1),1),R=_.createTracker(T);if(C=!1,"function"==typeof(A=function(m){if("value"in m&&/\r?\n|\r/.test(m.value)||"break"===m.type)return C=!0,!1})&&"function"!=typeof k?(w=void 0,N=A,S=k):(w=A,N=k,S=void 0),function(m,g,_,T){let A;"function"==typeof g&&"function"!=typeof _?(T=_,_=g):A=g;let k=unist_util_is_lib_convert(A),C=T?-1:1;(function factory(m,A,S){let w=m&&"object"==typeof m?m:{};if("string"==typeof w.type){let g="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+m.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var w;let N,O,R,L=r0;if((!g||k(m,A,S[S.length-1]||void 0))&&!1===(L=Array.isArray(w=_(m,S))?w:"number"==typeof w?[!0,w]:null==w?r0:[w])[0])return L;if("children"in m&&m.children&&m.children&&"skip"!==L[0])for(O=(T?m.children.length:-1)+C,R=S.concat(m);O>-1&&O<m.children.length;){let g=m.children[O];if(!1===(N=factory(g,O,R)())[0])return N;O="number"==typeof N[1]?N[1]:O+C}return L}})(m,void 0,[])()}(m,w,function(m,g){let _=g[g.length-1],T=_?_.children.indexOf(m):void 0;return N(m,T,_)},S),(!m.depth||m.depth<3)&&lib_toString(m)&&(_.options.setext||C)){let g=_.enter("headingSetext"),T=_.enter("phrasing"),A=_.containerPhrasing(m,{...R.current(),before:"\n",after:"\n"});return T(),g(),A+"\n"+(1===O?"=":"-").repeat(A.length-(Math.max(A.lastIndexOf("\r"),A.lastIndexOf("\n"))+1))}let L="#".repeat(O),P=_.enter("headingAtx"),F=_.enter("phrasing");R.move(L+" ");let z=_.containerPhrasing(m,{before:"# ",after:"\n",...R.current()});return/^[\t ]/.test(z)&&(z="&#x"+z.charCodeAt(0).toString(16).toUpperCase()+";"+z.slice(1)),z=z?L+" "+z:L,_.options.closeAtx&&(z+=" "+L),F(),P(),z},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(m,g,_,T){let A=_.enter("list"),k=_.bulletCurrent,C=m.ordered?function(m){let g=m.options.bulletOrdered||".";if("."!==g&&")"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bulletOrdered`, expected `.` or `)`");return g}(_):checkBullet(_),S=m.ordered?"."===C?")":".":function(m){let g=checkBullet(m),_=m.options.bulletOther;if(!_)return"*"===g?"-":"*";if("*"!==_&&"+"!==_&&"-"!==_)throw Error("Cannot serialize items with `"+_+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(_===g)throw Error("Expected `bullet` (`"+g+"`) and `bulletOther` (`"+_+"`) to be different");return _}(_),w=!!g&&!!_.bulletLastUsed&&C===_.bulletLastUsed;if(!m.ordered){let g=m.children?m.children[0]:void 0;if("*"!==C&&"-"!==C||!g||g.children&&g.children[0]||"list"!==_.stack[_.stack.length-1]||"listItem"!==_.stack[_.stack.length-2]||"list"!==_.stack[_.stack.length-3]||"listItem"!==_.stack[_.stack.length-4]||0!==_.indexStack[_.indexStack.length-1]||0!==_.indexStack[_.indexStack.length-2]||0!==_.indexStack[_.indexStack.length-3]||(w=!0),checkRule(_)===C&&g){let g=-1;for(;++g<m.children.length;){let _=m.children[g];if(_&&"listItem"===_.type&&_.children&&_.children[0]&&"thematicBreak"===_.children[0].type){w=!0;break}}}}w&&(C=S),_.bulletCurrent=C;let N=_.containerFlow(m,T);return _.bulletLastUsed=C,_.bulletCurrent=k,A(),N},listItem:function(m,g,_,T){let A=function(m){let g=m.options.listItemIndent||"one";if("tab"!==g&&"one"!==g&&"mixed"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return g}(_),k=_.bulletCurrent||checkBullet(_);g&&"list"===g.type&&g.ordered&&(k=("number"==typeof g.start&&g.start>-1?g.start:1)+(!1===_.options.incrementListMarker?0:g.children.indexOf(m))+k);let C=k.length+1;("tab"===A||"mixed"===A&&(g&&"list"===g.type&&g.spread||m.spread))&&(C=4*Math.ceil(C/4));let S=_.createTracker(T);S.move(k+" ".repeat(C-k.length)),S.shift(C);let w=_.enter("listItem"),N=_.indentLines(_.containerFlow(m,S.current()),function(m,g,_){return g?(_?"":" ".repeat(C))+m:(_?k:k+" ".repeat(C-k.length))+m});return w(),N},paragraph:function(m,g,_,T){let A=_.enter("paragraph"),k=_.enter("phrasing"),C=_.containerPhrasing(m,T);return k(),A(),C},root:function(m,g,_,T){let A=m.children.some(function(m){return r2(m)}),k=A?_.containerPhrasing:_.containerFlow;return k.call(_,m,T)},strong:strong,text:function(m,g,_,T){return _.safe(m.value,T)},thematicBreak:function(m,g,_){let T=(checkRule(_)+(_.options.ruleSpaces?" ":"")).repeat(function(m){let g=m.options.ruleRepetition||3;if(g<3)throw Error("Cannot serialize rules with repetition `"+g+"` for `options.ruleRepetition`, expected `3` or more");return g}(_));return _.options.ruleSpaces?T.slice(0,-1):T}};function enterTable(m){let g=m._align;this.enter({type:"table",align:g.map(function(m){return"none"===m?null:m}),children:[]},m),this.data.inTable=!0}function exitTable(m){this.exit(m),this.data.inTable=void 0}function enterRow(m){this.enter({type:"tableRow",children:[]},m)}function exit(m){this.exit(m)}function enterCell(m){this.enter({type:"tableCell",children:[]},m)}function exitCodeText(m){let g=this.resume();this.data.inTable&&(g=g.replace(/\\([\\|])/g,replace));let _=this.stack[this.stack.length-1];_.type,_.value=g,this.exit(m)}function replace(m,g){return"|"===g?g:m}function handle_blockquote_map(m,g,_){return">"+(_?"":" ")+m}function pattern_in_scope_listInScope(m,g,_){if("string"==typeof g&&(g=[g]),!g||0===g.length)return _;let T=-1;for(;++T<g.length;)if(m.includes(g[T]))return!0;return!1}function break_hardBreak(m,g,_,T){let A=-1;for(;++A<_.unsafe.length;){var k,C;if("\n"===_.unsafe[A].character&&pattern_in_scope_listInScope(k=_.stack,(C=_.unsafe[A]).inConstruct,!0)&&!pattern_in_scope_listInScope(k,C.notInConstruct,!1))return/[ \t]/.test(T.before)?"":" "}return"\\\n"}function handle_code_map(m,g,_){return(_?"":"    ")+m}function check_quote_checkQuote(m){let g=m.options.quote||'"';if('"'!==g&&"'"!==g)throw Error("Cannot serialize title with `"+g+"` for `options.quote`, expected `\"`, or `'`");return g}function emphasis_emphasis(m,g,_,T){let A=function(m){let g=m.options.emphasis||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize emphasis with `"+g+"` for `options.emphasis`, expected `*`, or `_`");return g}(_),k=_.enter("emphasis"),C=_.createTracker(T),S=C.move(A);return S+=C.move(_.containerPhrasing(m,{before:S,after:A,...C.current()}))+C.move(A),k(),S}emphasis_emphasis.peek=function(m,g,_){return _.options.emphasis||"*"};let node_modules_unist_util_is_lib_convert=function(m){if(null==m)return mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok;if("function"==typeof m)return node_modules_unist_util_is_lib_castFactory(m);if("object"==typeof m)return Array.isArray(m)?function(m){let g=[],_=-1;for(;++_<m.length;)g[_]=node_modules_unist_util_is_lib_convert(m[_]);return node_modules_unist_util_is_lib_castFactory(function(...m){let _=-1;for(;++_<g.length;)if(g[_].apply(this,m))return!0;return!1})}(m):node_modules_unist_util_is_lib_castFactory(function(g){let _;for(_ in m)if(g[_]!==m[_])return!1;return!0});if("string"==typeof m)return node_modules_unist_util_is_lib_castFactory(function(g){return g&&g.type===m});throw Error("Expected function, string, or object as test")};function node_modules_unist_util_is_lib_castFactory(m){return function(g,_,T){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&m.call(this,g,"number"==typeof _?_:void 0,T||void 0))}}function mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok(){return!0}let r4=[],r5={};function mdast_util_to_string_lib_toString(m,g){let _=g||r5,T="boolean"!=typeof _.includeImageAlt||_.includeImageAlt,A="boolean"!=typeof _.includeHtml||_.includeHtml;return node_modules_mdast_util_to_string_lib_one(m,T,A)}function node_modules_mdast_util_to_string_lib_one(m,g,_){if(m&&"object"==typeof m){if("value"in m)return"html"!==m.type||_?m.value:"";if(g&&"alt"in m&&m.alt)return m.alt;if("children"in m)return node_modules_mdast_util_to_string_lib_all(m.children,g,_)}return Array.isArray(m)?node_modules_mdast_util_to_string_lib_all(m,g,_):""}function node_modules_mdast_util_to_string_lib_all(m,g,_){let T=[],A=-1;for(;++A<m.length;)T[A]=node_modules_mdast_util_to_string_lib_one(m[A],g,_);return T.join("")}function handle_html_html(m){return m.value||""}function handle_image_image(m,g,_,T){let A=check_quote_checkQuote(_),k='"'===A?"Quote":"Apostrophe",C=_.enter("image"),S=_.enter("label"),w=_.createTracker(T),N=w.move("![");return N+=w.move(_.safe(m.alt,{before:N,after:"]",...w.current()}))+w.move("]("),S(),!m.url&&m.title||/[\0- \u007F]/.test(m.url)?(S=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(S=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":")",...w.current()}))),S(),m.title&&(S=_.enter(`title${k}`),N+=w.move(" "+A),N+=w.move(_.safe(m.title,{before:N,after:A,...w.current()}))+w.move(A),S()),N+=w.move(")"),C(),N}function image_reference_imageReference(m,g,_,T){let A=m.referenceType,k=_.enter("imageReference"),C=_.enter("label"),S=_.createTracker(T),w=S.move("!["),N=_.safe(m.alt,{before:w,after:"]",...S.current()});w+=S.move(N+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let R=_.safe(_.associationId(m),{before:w,after:"]",...S.current()});return C(),_.stack=O,k(),"full"!==A&&N&&N===R?"shortcut"===A?w=w.slice(0,-1):w+=S.move("]"):w+=S.move(R+"]"),w}function inline_code_inlineCode(m,g,_){let T=m.value||"",A="`",k=-1;for(;RegExp("(^|[^`])"+A+"([^`]|$)").test(T);)A+="`";for(/[^ \r\n]/.test(T)&&(/^[ \r\n]/.test(T)&&/[ \r\n]$/.test(T)||/^`|`$/.test(T))&&(T=" "+T+" ");++k<_.unsafe.length;){let m;let g=_.unsafe[k],A=_.compilePattern(g);if(g.atBreak)for(;m=A.exec(T);){let g=m.index;10===T.charCodeAt(g)&&13===T.charCodeAt(g-1)&&g--,T=T.slice(0,g)+" "+T.slice(m.index+1)}}return A+T+A}function format_link_as_autolink_formatLinkAsAutolink(m,g){let _=mdast_util_to_string_lib_toString(m);return!!(!g.options.resourceLink&&m.url&&!m.title&&m.children&&1===m.children.length&&"text"===m.children[0].type&&(_===m.url||"mailto:"+_===m.url)&&/^[a-z][a-z+.-]+:/i.test(m.url)&&!/[\0- <>\u007F]/.test(m.url))}function handle_link_link(m,g,_,T){let A,k;let C=check_quote_checkQuote(_),S='"'===C?"Quote":"Apostrophe",w=_.createTracker(T);if(format_link_as_autolink_formatLinkAsAutolink(m,_)){let g=_.stack;_.stack=[],A=_.enter("autolink");let T=w.move("<");return T+=w.move(_.containerPhrasing(m,{before:T,after:">",...w.current()}))+w.move(">"),A(),_.stack=g,T}A=_.enter("link"),k=_.enter("label");let N=w.move("[");return N+=w.move(_.containerPhrasing(m,{before:N,after:"](",...w.current()}))+w.move("]("),k(),!m.url&&m.title||/[\0- \u007F]/.test(m.url)?(k=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(k=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":")",...w.current()}))),k(),m.title&&(k=_.enter(`title${S}`),N+=w.move(" "+C),N+=w.move(_.safe(m.title,{before:N,after:C,...w.current()}))+w.move(C),k()),N+=w.move(")"),A(),N}function link_reference_linkReference(m,g,_,T){let A=m.referenceType,k=_.enter("linkReference"),C=_.enter("label"),S=_.createTracker(T),w=S.move("["),N=_.containerPhrasing(m,{before:w,after:"]",...S.current()});w+=S.move(N+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let R=_.safe(_.associationId(m),{before:w,after:"]",...S.current()});return C(),_.stack=O,k(),"full"!==A&&N&&N===R?"shortcut"===A?w=w.slice(0,-1):w+=S.move("]"):w+=S.move(R+"]"),w}function check_bullet_checkBullet(m){let g=m.options.bullet||"*";if("*"!==g&&"+"!==g&&"-"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bullet`, expected `*`, `+`, or `-`");return g}function check_rule_checkRule(m){let g=m.options.rule||"*";if("*"!==g&&"-"!==g&&"_"!==g)throw Error("Cannot serialize rules with `"+g+"` for `options.rule`, expected `*`, `-`, or `_`");return g}handle_html_html.peek=function(){return"<"},handle_image_image.peek=function(){return"!"},image_reference_imageReference.peek=function(){return"!"},inline_code_inlineCode.peek=function(){return"`"},handle_link_link.peek=function(m,g,_){return format_link_as_autolink_formatLinkAsAutolink(m,_)?"<":"["},link_reference_linkReference.peek=function(){return"["};let r6=node_modules_unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong_strong(m,g,_,T){let A=function(m){let g=m.options.strong||"*";if("*"!==g&&"_"!==g)throw Error("Cannot serialize strong with `"+g+"` for `options.strong`, expected `*`, or `_`");return g}(_),k=_.enter("strong"),C=_.createTracker(T),S=C.move(A+A);return S+=C.move(_.containerPhrasing(m,{before:S,after:A,...C.current()}))+C.move(A+A),k(),S}strong_strong.peek=function(m,g,_){return _.options.strong||"*"};let r8={blockquote:function(m,g,_,T){let A=_.enter("blockquote"),k=_.createTracker(T);k.move("> "),k.shift(2);let C=_.indentLines(_.containerFlow(m,k.current()),handle_blockquote_map);return A(),C},break:break_hardBreak,code:function(m,g,_,T){let A=function(m){let g=m.options.fence||"`";if("`"!==g&&"~"!==g)throw Error("Cannot serialize code with `"+g+"` for `options.fence`, expected `` ` `` or `~`");return g}(_),k=m.value||"",C="`"===A?"GraveAccent":"Tilde";if(!1===_.options.fences&&m.value&&!m.lang&&/[^ \r\n]/.test(m.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(m.value)){let m=_.enter("codeIndented"),g=_.indentLines(k,handle_code_map);return m(),g}let S=_.createTracker(T),w=A.repeat(Math.max(longestStreak(k,A)+1,3)),N=_.enter("codeFenced"),O=S.move(w);if(m.lang){let g=_.enter(`codeFencedLang${C}`);O+=S.move(_.safe(m.lang,{before:O,after:" ",encode:["`"],...S.current()})),g()}if(m.lang&&m.meta){let g=_.enter(`codeFencedMeta${C}`);O+=S.move(" "),O+=S.move(_.safe(m.meta,{before:O,after:"\n",encode:["`"],...S.current()})),g()}return O+=S.move("\n"),k&&(O+=S.move(k+"\n")),O+=S.move(w),N(),O},definition:function(m,g,_,T){let A=check_quote_checkQuote(_),k='"'===A?"Quote":"Apostrophe",C=_.enter("definition"),S=_.enter("label"),w=_.createTracker(T),N=w.move("[");return N+=w.move(_.safe(_.associationId(m),{before:N,after:"]",...w.current()}))+w.move("]: "),S(),!m.url||/[\0- \u007F]/.test(m.url)?(S=_.enter("destinationLiteral"),N+=w.move("<"),N+=w.move(_.safe(m.url,{before:N,after:">",...w.current()}))+w.move(">")):(S=_.enter("destinationRaw"),N+=w.move(_.safe(m.url,{before:N,after:m.title?" ":"\n",...w.current()}))),S(),m.title&&(S=_.enter(`title${k}`),N+=w.move(" "+A),N+=w.move(_.safe(m.title,{before:N,after:A,...w.current()}))+w.move(A),S()),C(),N},emphasis:emphasis_emphasis,hardBreak:break_hardBreak,heading:function(m,g,_,T){var A,k;let C,S,w,N;let O=Math.max(Math.min(6,m.depth||1),1),R=_.createTracker(T);if(C=!1,"function"==typeof(A=function(m){if("value"in m&&/\r?\n|\r/.test(m.value)||"break"===m.type)return C=!0,!1})&&"function"!=typeof k?(w=void 0,N=A,S=k):(w=A,N=k,S=void 0),function(m,g,_,T){let A;"function"==typeof g&&"function"!=typeof _?(T=_,_=g):A=g;let k=node_modules_unist_util_is_lib_convert(A),C=T?-1:1;(function factory(m,A,S){let w=m&&"object"==typeof m?m:{};if("string"==typeof w.type){let g="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+m.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var w;let N,O,R,L=r4;if((!g||k(m,A,S[S.length-1]||void 0))&&!1===(L=Array.isArray(w=_(m,S))?w:"number"==typeof w?[!0,w]:null==w?r4:[w])[0])return L;if("children"in m&&m.children&&m.children&&"skip"!==L[0])for(O=(T?m.children.length:-1)+C,R=S.concat(m);O>-1&&O<m.children.length;){let g=m.children[O];if(!1===(N=factory(g,O,R)())[0])return N;O="number"==typeof N[1]?N[1]:O+C}return L}})(m,void 0,[])()}(m,w,function(m,g){let _=g[g.length-1],T=_?_.children.indexOf(m):void 0;return N(m,T,_)},S),(!m.depth||m.depth<3)&&mdast_util_to_string_lib_toString(m)&&(_.options.setext||C)){let g=_.enter("headingSetext"),T=_.enter("phrasing"),A=_.containerPhrasing(m,{...R.current(),before:"\n",after:"\n"});return T(),g(),A+"\n"+(1===O?"=":"-").repeat(A.length-(Math.max(A.lastIndexOf("\r"),A.lastIndexOf("\n"))+1))}let L="#".repeat(O),P=_.enter("headingAtx"),F=_.enter("phrasing");R.move(L+" ");let z=_.containerPhrasing(m,{before:"# ",after:"\n",...R.current()});return/^[\t ]/.test(z)&&(z="&#x"+z.charCodeAt(0).toString(16).toUpperCase()+";"+z.slice(1)),z=z?L+" "+z:L,_.options.closeAtx&&(z+=" "+L),F(),P(),z},html:handle_html_html,image:handle_image_image,imageReference:image_reference_imageReference,inlineCode:inline_code_inlineCode,link:handle_link_link,linkReference:link_reference_linkReference,list:function(m,g,_,T){let A=_.enter("list"),k=_.bulletCurrent,C=m.ordered?function(m){let g=m.options.bulletOrdered||".";if("."!==g&&")"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.bulletOrdered`, expected `.` or `)`");return g}(_):check_bullet_checkBullet(_),S=m.ordered?"."===C?")":".":function(m){let g=check_bullet_checkBullet(m),_=m.options.bulletOther;if(!_)return"*"===g?"-":"*";if("*"!==_&&"+"!==_&&"-"!==_)throw Error("Cannot serialize items with `"+_+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(_===g)throw Error("Expected `bullet` (`"+g+"`) and `bulletOther` (`"+_+"`) to be different");return _}(_),w=!!g&&!!_.bulletLastUsed&&C===_.bulletLastUsed;if(!m.ordered){let g=m.children?m.children[0]:void 0;if("*"!==C&&"-"!==C||!g||g.children&&g.children[0]||"list"!==_.stack[_.stack.length-1]||"listItem"!==_.stack[_.stack.length-2]||"list"!==_.stack[_.stack.length-3]||"listItem"!==_.stack[_.stack.length-4]||0!==_.indexStack[_.indexStack.length-1]||0!==_.indexStack[_.indexStack.length-2]||0!==_.indexStack[_.indexStack.length-3]||(w=!0),check_rule_checkRule(_)===C&&g){let g=-1;for(;++g<m.children.length;){let _=m.children[g];if(_&&"listItem"===_.type&&_.children&&_.children[0]&&"thematicBreak"===_.children[0].type){w=!0;break}}}}w&&(C=S),_.bulletCurrent=C;let N=_.containerFlow(m,T);return _.bulletLastUsed=C,_.bulletCurrent=k,A(),N},listItem:function(m,g,_,T){let A=function(m){let g=m.options.listItemIndent||"one";if("tab"!==g&&"one"!==g&&"mixed"!==g)throw Error("Cannot serialize items with `"+g+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return g}(_),k=_.bulletCurrent||check_bullet_checkBullet(_);g&&"list"===g.type&&g.ordered&&(k=("number"==typeof g.start&&g.start>-1?g.start:1)+(!1===_.options.incrementListMarker?0:g.children.indexOf(m))+k);let C=k.length+1;("tab"===A||"mixed"===A&&(g&&"list"===g.type&&g.spread||m.spread))&&(C=4*Math.ceil(C/4));let S=_.createTracker(T);S.move(k+" ".repeat(C-k.length)),S.shift(C);let w=_.enter("listItem"),N=_.indentLines(_.containerFlow(m,S.current()),function(m,g,_){return g?(_?"":" ".repeat(C))+m:(_?k:k+" ".repeat(C-k.length))+m});return w(),N},paragraph:function(m,g,_,T){let A=_.enter("paragraph"),k=_.enter("phrasing"),C=_.containerPhrasing(m,T);return k(),A(),C},root:function(m,g,_,T){let A=m.children.some(function(m){return r6(m)}),k=A?_.containerPhrasing:_.containerFlow;return k.call(_,m,T)},strong:strong_strong,text:function(m,g,_,T){return _.safe(m.value,T)},thematicBreak:function(m,g,_){let T=(check_rule_checkRule(_)+(_.options.ruleSpaces?" ":"")).repeat(function(m){let g=m.options.ruleRepetition||3;if(g<3)throw Error("Cannot serialize rules with repetition `"+g+"` for `options.ruleRepetition`, expected `3` or more");return g}(_));return _.options.ruleSpaces?T.slice(0,-1):T}};function exitCheck(m){let g=this.stack[this.stack.length-2];g.type,g.checked="taskListCheckValueChecked"===m.type}function exitParagraphWithTaskListItem(m){let g=this.stack[this.stack.length-2];if(g&&"listItem"===g.type&&"boolean"==typeof g.checked){let m=this.stack[this.stack.length-1];m.type;let _=m.children[0];if(_&&"text"===_.type){let T;let A=g.children,k=-1;for(;++k<A.length;){let m=A[k];if("paragraph"===m.type){T=m;break}}T===m&&(_.value=_.value.slice(1),0===_.value.length?m.children.shift():m.position&&_.position&&"number"==typeof _.position.start.offset&&(_.position.start.column++,_.position.start.offset++,m.position.start=Object.assign({},_.position.start)))}}this.exit(m)}function listItemWithTaskListItem(m,g,_,T){let A=m.children[0],k="boolean"==typeof m.checked&&A&&"paragraph"===A.type,C="["+(m.checked?"x":" ")+"] ",S=_.createTracker(T);k&&S.move(C);let w=r8.listItem(m,g,_,{...T,...S.current()});return k&&(w=w.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(m){return m+C})),w}let r9={}.hasOwnProperty,r7=micromark_util_character_regexCheck(/[A-Za-z]/),ie=micromark_util_character_regexCheck(/[\dA-Za-z]/);function micromark_util_character_markdownLineEndingOrSpace(m){return null!==m&&(m<0||32===m)}micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_util_character_regexCheck(/\d/),micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let it=micromark_util_character_regexCheck(/\p{P}|\p{S}/u),ii=micromark_util_character_regexCheck(/\s/);function micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}let ia={tokenize:function(m,g,_){let T=0;return function wwwPrefixInside(g){return(87===g||119===g)&&T<3?(T++,m.consume(g),wwwPrefixInside):46===g&&3===T?(m.consume(g),wwwPrefixAfter):_(g)};function wwwPrefixAfter(m){return null===m?_(m):g(m)}},partial:!0},io={tokenize:function(m,g,_){let T,A,k;return domainInside;function domainInside(g){return 46===g||95===g?m.check(il,domainAfter,domainAtPunctuation)(g):null===g||micromark_util_character_markdownLineEndingOrSpace(g)||ii(g)||45!==g&&it(g)?domainAfter(g):(k=!0,m.consume(g),domainInside)}function domainAtPunctuation(g){return 95===g?T=!0:(A=T,T=void 0),m.consume(g),domainInside}function domainAfter(m){return A||T||!k?_(m):g(m)}},partial:!0},is={tokenize:function(m,g){let _=0,T=0;return pathInside;function pathInside(A){return 40===A?(_++,m.consume(A),pathInside):41===A&&T<_?pathAtPunctuation(A):33===A||34===A||38===A||39===A||41===A||42===A||44===A||46===A||58===A||59===A||60===A||63===A||93===A||95===A||126===A?m.check(il,g,pathAtPunctuation)(A):null===A||micromark_util_character_markdownLineEndingOrSpace(A)||ii(A)?g(A):(m.consume(A),pathInside)}function pathAtPunctuation(g){return 41===g&&T++,m.consume(g),pathInside}},partial:!0},il={tokenize:function(m,g,_){return trail;function trail(T){return 33===T||34===T||39===T||41===T||42===T||44===T||46===T||58===T||59===T||63===T||95===T||126===T?(m.consume(T),trail):38===T?(m.consume(T),trailCharRefStart):93===T?(m.consume(T),trailBracketAfter):60===T||null===T||micromark_util_character_markdownLineEndingOrSpace(T)||ii(T)?g(T):_(T)}function trailBracketAfter(m){return null===m||40===m||91===m||micromark_util_character_markdownLineEndingOrSpace(m)||ii(m)?g(m):trail(m)}function trailCharRefStart(g){return r7(g)?function trailCharRefInside(g){return 59===g?(m.consume(g),trail):r7(g)?(m.consume(g),trailCharRefInside):_(g)}(g):_(g)}},partial:!0},ic={tokenize:function(m,g,_){return function(g){return m.consume(g),after};function after(m){return ie(m)?_(m):g(m)}},partial:!0},iu={tokenize:function(m,g,_){let T=this;return function(g){return 87!==g&&119!==g||!previousWww.call(T,T.previous)||previousUnbalanced(T.events)?_(g):(m.enter("literalAutolink"),m.enter("literalAutolinkWww"),m.check(ia,m.attempt(io,m.attempt(is,wwwAfter),_),_)(g))};function wwwAfter(_){return m.exit("literalAutolinkWww"),m.exit("literalAutolink"),g(_)}},previous:previousWww},id={tokenize:function(m,g,_){let T=this,A="",k=!1;return function(g){return(72===g||104===g)&&previousProtocol.call(T,T.previous)&&!previousUnbalanced(T.events)?(m.enter("literalAutolink"),m.enter("literalAutolinkHttp"),A+=String.fromCodePoint(g),m.consume(g),protocolPrefixInside):_(g)};function protocolPrefixInside(g){if(r7(g)&&A.length<5)return A+=String.fromCodePoint(g),m.consume(g),protocolPrefixInside;if(58===g){let _=A.toLowerCase();if("http"===_||"https"===_)return m.consume(g),protocolSlashesInside}return _(g)}function protocolSlashesInside(g){return 47===g?(m.consume(g),k)?afterProtocol:(k=!0,protocolSlashesInside):_(g)}function afterProtocol(g){return null===g||null!==g&&(g<32||127===g)||micromark_util_character_markdownLineEndingOrSpace(g)||ii(g)||it(g)?_(g):m.attempt(io,m.attempt(is,protocolAfter),_)(g)}function protocolAfter(_){return m.exit("literalAutolinkHttp"),m.exit("literalAutolink"),g(_)}},previous:previousProtocol},im={tokenize:function(m,g,_){let T,A;let k=this;return function(g){return!gfmAtext(g)||!previousEmail.call(k,k.previous)||previousUnbalanced(k.events)?_(g):(m.enter("literalAutolink"),m.enter("literalAutolinkEmail"),function atext(g){return gfmAtext(g)?(m.consume(g),atext):64===g?(m.consume(g),emailDomain):_(g)}(g))};function emailDomain(g){return 46===g?m.check(ic,emailDomainAfter,emailDomainDot)(g):45===g||95===g||ie(g)?(A=!0,m.consume(g),emailDomain):emailDomainAfter(g)}function emailDomainDot(g){return m.consume(g),T=!0,emailDomain}function emailDomainAfter(C){return A&&T&&r7(k.previous)?(m.exit("literalAutolinkEmail"),m.exit("literalAutolink"),g(C)):_(C)}},previous:previousEmail},ih={},ip=48;for(;ip<123;)ih[ip]=im,58==++ip?ip=65:91===ip&&(ip=97);function previousWww(m){return null===m||40===m||42===m||95===m||91===m||93===m||126===m||micromark_util_character_markdownLineEndingOrSpace(m)}function previousProtocol(m){return!r7(m)}function previousEmail(m){return!(47===m||gfmAtext(m))}function gfmAtext(m){return 43===m||45===m||46===m||95===m||ie(m)}function previousUnbalanced(m){let g=m.length,_=!1;for(;g--;){let T=m[g][1];if(("labelLink"===T.type||"labelImage"===T.type)&&!T._balanced){_=!0;break}if(T._gfmAutolinkLiteralWalkedInto){_=!1;break}}return m.length>0&&!_&&(m[m.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),_}function node_modules_micromark_util_character_markdownLineEndingOrSpace(m){return null!==m&&(m<0||32===m)}function node_modules_micromark_util_character_markdownSpace(m){return -2===m||-1===m||32===m}function node_modules_micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}function factorySpace(m,g,_,T){let A=T?T-1:Number.POSITIVE_INFINITY,k=0;return function(T){return node_modules_micromark_util_character_markdownSpace(T)?(m.enter(_),function prefix(T){return node_modules_micromark_util_character_markdownSpace(T)&&k++<A?(m.consume(T),prefix):(m.exit(_),g(T))}(T)):g(T)}}ih[43]=im,ih[45]=im,ih[46]=im,ih[95]=im,ih[72]=[im,id],ih[104]=[im,id],ih[87]=[im,iu],ih[119]=[im,iu],node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),node_modules_micromark_util_character_regexCheck(/\d/),node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),node_modules_micromark_util_character_regexCheck(/\s/);let ig={tokenize:function(m,g,_){return function(g){return node_modules_micromark_util_character_markdownSpace(g)?factorySpace(m,after,"linePrefix")(g):after(g)};function after(m){return null===m||null!==m&&m<-2?g(m):_(m)}},partial:!0};function micromark_util_normalize_identifier_normalizeIdentifier(m){return m.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let i_={tokenize:function(m,g,_){let T=this;return factorySpace(m,function(m){let A=T.events[T.events.length-1];return A&&"gfmFootnoteDefinitionIndent"===A[1].type&&4===A[2].sliceSerialize(A[1],!0).length?g(m):_(m)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(m,g,_){let T;let A=this,k=A.events.length,C=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]);for(;k--;){let m=A.events[k][1];if("labelImage"===m.type){T=m;break}if("gfmFootnoteCall"===m.type||"labelLink"===m.type||"label"===m.type||"image"===m.type||"link"===m.type)break}return function(k){if(!T||!T._balanced)return _(k);let S=micromark_util_normalize_identifier_normalizeIdentifier(A.sliceSerialize({start:T.end,end:A.now()}));return 94===S.codePointAt(0)&&C.includes(S.slice(1))?(m.enter("gfmFootnoteCallLabelMarker"),m.consume(k),m.exit("gfmFootnoteCallLabelMarker"),g(k)):_(k)}}function resolveToPotentialGfmFootnoteCall(m,g){let _=m.length;for(;_--;)if("labelImage"===m[_][1].type&&"enter"===m[_][0]){m[_][1];break}m[_+1][1].type="data",m[_+3][1].type="gfmFootnoteCallLabelMarker";let T={type:"gfmFootnoteCall",start:Object.assign({},m[_+3][1].start),end:Object.assign({},m[m.length-1][1].end)},A={type:"gfmFootnoteCallMarker",start:Object.assign({},m[_+3][1].end),end:Object.assign({},m[_+3][1].end)};A.end.column++,A.end.offset++,A.end._bufferIndex++;let k={type:"gfmFootnoteCallString",start:Object.assign({},A.end),end:Object.assign({},m[m.length-1][1].start)},C={type:"chunkString",contentType:"string",start:Object.assign({},k.start),end:Object.assign({},k.end)},S=[m[_+1],m[_+2],["enter",T,g],m[_+3],m[_+4],["enter",A,g],["exit",A,g],["enter",k,g],["enter",C,g],["exit",C,g],["exit",k,g],m[m.length-2],m[m.length-1],["exit",T,g]];return m.splice(_,m.length-_+1,...S),m}function tokenizeGfmFootnoteCall(m,g,_){let T;let A=this,k=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]),C=0;return function(g){return m.enter("gfmFootnoteCall"),m.enter("gfmFootnoteCallLabelMarker"),m.consume(g),m.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(g){return 94!==g?_(g):(m.enter("gfmFootnoteCallMarker"),m.consume(g),m.exit("gfmFootnoteCallMarker"),m.enter("gfmFootnoteCallString"),m.enter("chunkString").contentType="string",callData)}function callData(S){if(C>999||93===S&&!T||null===S||91===S||node_modules_micromark_util_character_markdownLineEndingOrSpace(S))return _(S);if(93===S){m.exit("chunkString");let T=m.exit("gfmFootnoteCallString");return k.includes(micromark_util_normalize_identifier_normalizeIdentifier(A.sliceSerialize(T)))?(m.enter("gfmFootnoteCallLabelMarker"),m.consume(S),m.exit("gfmFootnoteCallLabelMarker"),m.exit("gfmFootnoteCall"),g):_(S)}return node_modules_micromark_util_character_markdownLineEndingOrSpace(S)||(T=!0),C++,m.consume(S),92===S?callEscape:callData}function callEscape(g){return 91===g||92===g||93===g?(m.consume(g),C++,callData):callData(g)}}function tokenizeDefinitionStart(m,g,_){let T,A;let k=this,C=k.parser.gfmFootnotes||(k.parser.gfmFootnotes=[]),S=0;return function(g){return m.enter("gfmFootnoteDefinition")._container=!0,m.enter("gfmFootnoteDefinitionLabel"),m.enter("gfmFootnoteDefinitionLabelMarker"),m.consume(g),m.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(g){return 94===g?(m.enter("gfmFootnoteDefinitionMarker"),m.consume(g),m.exit("gfmFootnoteDefinitionMarker"),m.enter("gfmFootnoteDefinitionLabelString"),m.enter("chunkString").contentType="string",labelInside):_(g)}function labelInside(g){if(S>999||93===g&&!A||null===g||91===g||node_modules_micromark_util_character_markdownLineEndingOrSpace(g))return _(g);if(93===g){m.exit("chunkString");let _=m.exit("gfmFootnoteDefinitionLabelString");return T=micromark_util_normalize_identifier_normalizeIdentifier(k.sliceSerialize(_)),m.enter("gfmFootnoteDefinitionLabelMarker"),m.consume(g),m.exit("gfmFootnoteDefinitionLabelMarker"),m.exit("gfmFootnoteDefinitionLabel"),labelAfter}return node_modules_micromark_util_character_markdownLineEndingOrSpace(g)||(A=!0),S++,m.consume(g),92===g?labelEscape:labelInside}function labelEscape(g){return 91===g||92===g||93===g?(m.consume(g),S++,labelInside):labelInside(g)}function labelAfter(g){return 58===g?(m.enter("definitionMarker"),m.consume(g),m.exit("definitionMarker"),C.includes(T)||C.push(T),factorySpace(m,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):_(g)}function whitespaceAfter(m){return g(m)}}function tokenizeDefinitionContinuation(m,g,_){return m.check(ig,g,m.attempt(i_,g,_))}function gfmFootnoteDefinitionEnd(m){m.exit("gfmFootnoteDefinition")}function micromark_util_chunked_splice(m,g,_,T){let A;let k=m.length,C=0;if(g=g<0?-g>k?0:k+g:g>k?k:g,_=_>0?_:0,T.length<1e4)(A=Array.from(T)).unshift(g,_),m.splice(...A);else for(_&&m.splice(g,_);C<T.length;)(A=T.slice(C,C+1e4)).unshift(g,0),m.splice(...A),C+=1e4,g+=1e4}micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let iE=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),iT=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\s/);function micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}function classifyCharacter(m){return null===m||null!==m&&(m<0||32===m)||iT(m)?1:iE(m)?2:void 0}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(m){return null!==m&&m<-2}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(m){return null!==m&&(m<0||32===m)}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(m){return -2===m||-1===m||32===m}function micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}function micromark_factory_space_factorySpace(m,g,_,T){let A=T?T-1:Number.POSITIVE_INFINITY,k=0;return function(T){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(T)?(m.enter(_),function prefix(T){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(T)&&k++<A?(m.consume(T),prefix):(m.exit(_),g(T))}(T)):g(T)}}micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\s/);let EditMap=class EditMap{constructor(){this.map=[]}add(m,g,_){!function(m,g,_,T){let A=0;if(0!==_||0!==T.length){for(;A<m.map.length;){if(m.map[A][0]===g){m.map[A][1]+=_,m.map[A][2].push(...T);return}A+=1}m.map.push([g,_,T])}}(this,m,g,_)}consume(m){if(this.map.sort(function(m,g){return m[0]-g[0]}),0===this.map.length)return;let g=this.map.length,_=[];for(;g>0;)g-=1,_.push(m.slice(this.map[g][0]+this.map[g][1]),this.map[g][2]),m.length=this.map[g][0];_.push([...m]),m.length=0;let T=_.pop();for(;T;)m.push(...T),T=_.pop();this.map.length=0}};function tokenizeTable(m,g,_){let T;let A=this,k=0,C=0;return function(m){let g=A.events.length-1;for(;g>-1;){let m=A.events[g][1].type;if("lineEnding"===m||"linePrefix"===m)g--;else break}let T=g>-1?A.events[g][1].type:null,k="tableHead"===T||"tableRow"===T?bodyRowStart:headRowBefore;return k===bodyRowStart&&A.parser.lazy[A.now().line]?_(m):k(m)};function headRowBefore(g){return m.enter("tableHead"),m.enter("tableRow"),124===g||(T=!0,C+=1),headRowBreak(g)}function headRowBreak(g){return null===g?_(g):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(g)?C>1?(C=0,A.interrupt=!0,m.exit("tableRow"),m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),headDelimiterStart):_(g):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(g)?micromark_factory_space_factorySpace(m,headRowBreak,"whitespace")(g):(C+=1,T&&(T=!1,k+=1),124===g)?(m.enter("tableCellDivider"),m.consume(g),m.exit("tableCellDivider"),T=!0,headRowBreak):(m.enter("data"),headRowData(g))}function headRowData(g){return null===g||124===g||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?(m.exit("data"),headRowBreak(g)):(m.consume(g),92===g?headRowEscape:headRowData)}function headRowEscape(g){return 92===g||124===g?(m.consume(g),headRowData):headRowData(g)}function headDelimiterStart(g){return(A.interrupt=!1,A.parser.lazy[A.now().line])?_(g):(m.enter("tableDelimiterRow"),T=!1,micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(g))?micromark_factory_space_factorySpace(m,headDelimiterBefore,"linePrefix",A.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):headDelimiterBefore(g)}function headDelimiterBefore(g){return 45===g||58===g?headDelimiterValueBefore(g):124===g?(T=!0,m.enter("tableCellDivider"),m.consume(g),m.exit("tableCellDivider"),headDelimiterCellBefore):_(g)}function headDelimiterCellBefore(g){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(g)?micromark_factory_space_factorySpace(m,headDelimiterValueBefore,"whitespace")(g):headDelimiterValueBefore(g)}function headDelimiterValueBefore(g){return 58===g?(C+=1,T=!0,m.enter("tableDelimiterMarker"),m.consume(g),m.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===g?(C+=1,headDelimiterLeftAlignmentAfter(g)):null===g||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(g)?headDelimiterCellAfter(g):_(g)}function headDelimiterLeftAlignmentAfter(g){return 45===g?(m.enter("tableDelimiterFiller"),function headDelimiterFiller(g){return 45===g?(m.consume(g),headDelimiterFiller):58===g?(T=!0,m.exit("tableDelimiterFiller"),m.enter("tableDelimiterMarker"),m.consume(g),m.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(m.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(g))}(g)):_(g)}function headDelimiterRightAlignmentAfter(g){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(g)?micromark_factory_space_factorySpace(m,headDelimiterCellAfter,"whitespace")(g):headDelimiterCellAfter(g)}function headDelimiterCellAfter(A){return 124===A?headDelimiterBefore(A):null===A||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(A)?T&&k===C?(m.exit("tableDelimiterRow"),m.exit("tableHead"),g(A)):_(A):_(A)}function bodyRowStart(g){return m.enter("tableRow"),bodyRowBreak(g)}function bodyRowBreak(_){return 124===_?(m.enter("tableCellDivider"),m.consume(_),m.exit("tableCellDivider"),bodyRowBreak):null===_||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(_)?(m.exit("tableRow"),g(_)):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(_)?micromark_factory_space_factorySpace(m,bodyRowBreak,"whitespace")(_):(m.enter("data"),bodyRowData(_))}function bodyRowData(g){return null===g||124===g||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?(m.exit("data"),bodyRowBreak(g)):(m.consume(g),92===g?bodyRowEscape:bodyRowData)}function bodyRowEscape(g){return 92===g||124===g?(m.consume(g),bodyRowData):bodyRowData(g)}}function resolveTable(m,g){let _,T,A,k=-1,C=!0,S=0,w=[0,0,0,0],N=[0,0,0,0],O=!1,R=0,L=new EditMap;for(;++k<m.length;){let P=m[k],F=P[1];"enter"===P[0]?"tableHead"===F.type?(O=!1,0!==R&&(flushTableEnd(L,g,R,_,T),T=void 0,R=0),_={type:"table",start:Object.assign({},F.start),end:Object.assign({},F.end)},L.add(k,0,[["enter",_,g]])):"tableRow"===F.type||"tableDelimiterRow"===F.type?(C=!0,A=void 0,w=[0,0,0,0],N=[0,k+1,0,0],O&&(O=!1,T={type:"tableBody",start:Object.assign({},F.start),end:Object.assign({},F.end)},L.add(k,0,[["enter",T,g]])),S="tableDelimiterRow"===F.type?2:T?3:1):S&&("data"===F.type||"tableDelimiterMarker"===F.type||"tableDelimiterFiller"===F.type)?(C=!1,0===N[2]&&(0!==w[1]&&(N[0]=N[1],A=flushCell(L,g,w,S,void 0,A),w=[0,0,0,0]),N[2]=k)):"tableCellDivider"===F.type&&(C?C=!1:(0!==w[1]&&(N[0]=N[1],A=flushCell(L,g,w,S,void 0,A)),N=[(w=N)[1],k,0,0])):"tableHead"===F.type?(O=!0,R=k):"tableRow"===F.type||"tableDelimiterRow"===F.type?(R=k,0!==w[1]?(N[0]=N[1],A=flushCell(L,g,w,S,k,A)):0!==N[1]&&(A=flushCell(L,g,N,S,k,A)),S=0):S&&("data"===F.type||"tableDelimiterMarker"===F.type||"tableDelimiterFiller"===F.type)&&(N[3]=k)}for(0!==R&&flushTableEnd(L,g,R,_,T),L.consume(g.events),k=-1;++k<g.events.length;){let m=g.events[k];"enter"===m[0]&&"table"===m[1].type&&(m[1]._align=function(m,g){let _=!1,T=[];for(;g<m.length;){let A=m[g];if(_){if("enter"===A[0])"tableContent"===A[1].type&&T.push("tableDelimiterMarker"===m[g+1][1].type?"left":"none");else if("tableContent"===A[1].type){if("tableDelimiterMarker"===m[g-1][1].type){let m=T.length-1;T[m]="left"===T[m]?"center":"right"}}else if("tableDelimiterRow"===A[1].type)break}else"enter"===A[0]&&"tableDelimiterRow"===A[1].type&&(_=!0);g+=1}return T}(g.events,k))}return m}function flushCell(m,g,_,T,A,k){0!==_[0]&&(k.end=Object.assign({},getPoint(g.events,_[0])),m.add(_[0],0,[["exit",k,g]]));let C=getPoint(g.events,_[1]);if(k={type:1===T?"tableHeader":2===T?"tableDelimiter":"tableData",start:Object.assign({},C),end:Object.assign({},C)},m.add(_[1],0,[["enter",k,g]]),0!==_[2]){let A=getPoint(g.events,_[2]),k=getPoint(g.events,_[3]),C={type:"tableContent",start:Object.assign({},A),end:Object.assign({},k)};if(m.add(_[2],0,[["enter",C,g]]),2!==T){let T=g.events[_[2]],A=g.events[_[3]];if(T[1].end=Object.assign({},A[1].end),T[1].type="chunkText",T[1].contentType="text",_[3]>_[2]+1){let g=_[2]+1,T=_[3]-_[2]-1;m.add(g,T,[])}}m.add(_[3]+1,0,[["exit",C,g]])}return void 0!==A&&(k.end=Object.assign({},getPoint(g.events,A)),m.add(A,0,[["exit",k,g]]),k=void 0),k}function flushTableEnd(m,g,_,T,A){let k=[],C=getPoint(g.events,_);A&&(A.end=Object.assign({},C),k.push(["exit",A,g])),T.end=Object.assign({},C),k.push(["exit",T,g]),m.add(_+1,0,k)}function getPoint(m,g){let _=m[g],T="enter"===_[0]?"start":"end";return _[1][T]}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(m){return -2===m||-1===m||32===m}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\s/);let iA={tokenize:function(m,g,_){let T=this;return function(g){return null===T.previous&&T._gfmTasklistFirstContentOfListItem?(m.enter("taskListCheck"),m.enter("taskListCheckMarker"),m.consume(g),m.exit("taskListCheckMarker"),inside):_(g)};function inside(g){return null!==g&&(g<0||32===g)?(m.enter("taskListCheckValueUnchecked"),m.consume(g),m.exit("taskListCheckValueUnchecked"),close):88===g||120===g?(m.enter("taskListCheckValueChecked"),m.consume(g),m.exit("taskListCheckValueChecked"),close):_(g)}function close(g){return 93===g?(m.enter("taskListCheckMarker"),m.consume(g),m.exit("taskListCheckMarker"),m.exit("taskListCheck"),after):_(g)}function after(T){return null!==T&&T<-2?g(T):micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(T)?m.check({tokenize:spaceThenNonSpace},g,_)(T):_(T)}}};function spaceThenNonSpace(m,g,_){return function(m,g,_,T){let A=T?T-1:Number.POSITIVE_INFINITY,k=0;return function(T){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(T)?(m.enter(_),function prefix(T){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(T)&&k++<A?(m.consume(T),prefix):(m.exit(_),g(T))}(T)):g(T)}}(m,function(m){return null===m?_(m):g(m)},"whitespace")}let iy={};function remarkGfm(m){let g=m||iy,_=this.data(),T=_.micromarkExtensions||(_.micromarkExtensions=[]),A=_.fromMarkdownExtensions||(_.fromMarkdownExtensions=[]),k=_.toMarkdownExtensions||(_.toMarkdownExtensions=[]);T.push(function(m){let g={},_=-1;for(;++_<m.length;)(function(m,g){let _;for(_ in g){let T;let A=r9.call(m,_)?m[_]:void 0,k=A||(m[_]={}),C=g[_];if(C)for(T in C){r9.call(k,T)||(k[T]=[]);let m=C[T];(function(m,g){let _=-1,T=[];for(;++_<g.length;)("after"===g[_].add?m:T).push(g[_]);!function(m,g,_,T){let A;let k=m.length,C=0;if(g=g<0?-g>k?0:k+g:g>k?k:g,_=_>0?_:0,T.length<1e4)(A=Array.from(T)).unshift(g,_),m.splice(...A);else for(_&&m.splice(g,_);C<T.length;)(A=T.slice(C,C+1e4)).unshift(g,0),m.splice(...A),C+=1e4,g+=1e4}(m,0,0,T)})(k[T],Array.isArray(m)?m:m?[m]:[])}}})(g,m[_]);return g}([{text:ih},{document:{91:{tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{tokenize:tokenizeGfmFootnoteCall},93:{add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(m){let g=(m||{}).singleTilde,_={tokenize:function(m,_,T){let A=this.previous,k=this.events,C=0;return function(S){return 126===A&&"characterEscape"!==k[k.length-1][1].type?T(S):(m.enter("strikethroughSequenceTemporary"),function more(k){let S=classifyCharacter(A);if(126===k)return C>1?T(k):(m.consume(k),C++,more);if(C<2&&!g)return T(k);let w=m.exit("strikethroughSequenceTemporary"),N=classifyCharacter(k);return w._open=!N||2===N&&!!S,w._close=!S||2===S&&!!N,_(k)}(S))}},resolveAll:function(m,g){let _=-1;for(;++_<m.length;)if("enter"===m[_][0]&&"strikethroughSequenceTemporary"===m[_][1].type&&m[_][1]._close){let T=_;for(;T--;)if("exit"===m[T][0]&&"strikethroughSequenceTemporary"===m[T][1].type&&m[T][1]._open&&m[_][1].end.offset-m[_][1].start.offset==m[T][1].end.offset-m[T][1].start.offset){m[_][1].type="strikethroughSequence",m[T][1].type="strikethroughSequence";let A={type:"strikethrough",start:Object.assign({},m[T][1].start),end:Object.assign({},m[_][1].end)},k={type:"strikethroughText",start:Object.assign({},m[T][1].end),end:Object.assign({},m[_][1].start)},C=[["enter",A,g],["enter",m[T][1],g],["exit",m[T][1],g],["enter",k,g]],S=g.parser.constructs.insideSpan.null;S&&micromark_util_chunked_splice(C,C.length,0,function(m,g,_){let T=[],A=-1;for(;++A<m.length;){let k=m[A].resolveAll;k&&!T.includes(k)&&(g=k(g,_),T.push(k))}return g}(S,m.slice(T+1,_),g)),micromark_util_chunked_splice(C,C.length,0,[["exit",k,g],["enter",m[_][1],g],["exit",m[_][1],g],["exit",A,g]]),micromark_util_chunked_splice(m,T-1,_-T+3,C),_=T+C.length-2;break}}for(_=-1;++_<m.length;)"strikethroughSequenceTemporary"===m[_][1].type&&(m[_][1].type="data");return m}};return null==g&&(g=!0),{text:{126:_},insideSpan:{null:[_]},attentionMarkers:{null:[126]}}}(g),{flow:{null:{tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:iA}}])),A.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),k.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rK,notInConstruct:rZ},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rK,notInConstruct:rZ},{character:":",before:"[ps]",after:"\\/",inConstruct:rK,notInConstruct:rZ}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rJ}],handlers:{delete:handleDelete}},function(m){let g=m||{},_=g.tableCellPadding,T=g.tablePipeAlign,A=g.stringLength,k=_?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(m,g,_){let T=r3.inlineCode(m,g,_);return _.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T},table:function(m,g,_,T){return serializeData(function(m,g,_){let T=m.children,A=-1,k=[],C=g.enter("table");for(;++A<T.length;)k[A]=handleTableRowAsData(T[A],g,_);return C(),k}(m,_,T),m.align)},tableCell:handleTableCell,tableRow:function(m,g,_,T){let A=handleTableRowAsData(m,_,T),k=serializeData([A]);return k.slice(0,k.indexOf("\n"))}}};function handleTableCell(m,g,_,T){let A=_.enter("tableCell"),C=_.enter("phrasing"),S=_.containerPhrasing(m,{...T,before:k,after:k});return C(),A(),S}function serializeData(m,g){return function(m,g={}){let _=(g.align||[]).concat(),T=g.stringLength||defaultStringLength,A=[],k=[],C=[],S=[],w=0,N=-1;for(;++N<m.length;){let _=[],A=[],R=-1;for(m[N].length>w&&(w=m[N].length);++R<m[N].length;){var O;let k=null==(O=m[N][R])?"":String(O);if(!1!==g.alignDelimiters){let m=T(k);A[R]=m,(void 0===S[R]||m>S[R])&&(S[R]=m)}_.push(k)}k[N]=_,C[N]=A}let R=-1;if("object"==typeof _&&"length"in _)for(;++R<w;)A[R]=toAlignment(_[R]);else{let m=toAlignment(_);for(;++R<w;)A[R]=m}R=-1;let L=[],P=[];for(;++R<w;){let m=A[R],_="",T="";99===m?(_=":",T=":"):108===m?_=":":114===m&&(T=":");let k=!1===g.alignDelimiters?1:Math.max(1,S[R]-_.length-T.length),C=_+"-".repeat(k)+T;!1!==g.alignDelimiters&&((k=_.length+k+T.length)>S[R]&&(S[R]=k),P[R]=k),L[R]=C}k.splice(1,0,L),C.splice(1,0,P),N=-1;let F=[];for(;++N<k.length;){let m=k[N],_=C[N];R=-1;let T=[];for(;++R<w;){let k=m[R]||"",C="",N="";if(!1!==g.alignDelimiters){let m=S[R]-(_[R]||0),g=A[R];114===g?C=" ".repeat(m):99===g?m%2?(C=" ".repeat(m/2+.5),N=" ".repeat(m/2-.5)):N=C=" ".repeat(m/2):N=" ".repeat(m)}!1===g.delimiterStart||R||T.push("|"),!1!==g.padding&&!(!1===g.alignDelimiters&&""===k)&&(!1!==g.delimiterStart||R)&&T.push(" "),!1!==g.alignDelimiters&&T.push(C),T.push(k),!1!==g.alignDelimiters&&T.push(N),!1!==g.padding&&T.push(" "),(!1!==g.delimiterEnd||R!==w-1)&&T.push("|")}F.push(!1===g.delimiterEnd?T.join("").replace(/ +$/,""):T.join(""))}return F.join("\n")}(m,{align:g,alignDelimiters:T,padding:_,stringLength:A})}function handleTableRowAsData(m,g,_){let T=m.children,A=-1,k=[],C=g.enter("tableRow");for(;++A<T.length;)k[A]=handleTableCell(T[A],m,g,_);return C(),k}}(g),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let ik={};function use_markdown_node_modules_mdast_util_to_string_lib_one(m,g,_){if(m&&"object"==typeof m){if("value"in m)return"html"!==m.type||_?m.value:"";if(g&&"alt"in m&&m.alt)return m.alt;if("children"in m)return use_markdown_node_modules_mdast_util_to_string_lib_all(m.children,g,_)}return Array.isArray(m)?use_markdown_node_modules_mdast_util_to_string_lib_all(m,g,_):""}function use_markdown_node_modules_mdast_util_to_string_lib_all(m,g,_){let T=[],A=-1;for(;++A<m.length;)T[A]=use_markdown_node_modules_mdast_util_to_string_lib_one(m[A],g,_);return T.join("")}function node_modules_micromark_util_chunked_splice(m,g,_,T){let A;let k=m.length,C=0;if(g=g<0?-g>k?0:k+g:g>k?k:g,_=_>0?_:0,T.length<1e4)(A=Array.from(T)).unshift(g,_),m.splice(...A);else for(_&&m.splice(g,_);C<T.length;)(A=T.slice(C,C+1e4)).unshift(g,0),m.splice(...A),C+=1e4,g+=1e4}function node_modules_micromark_util_chunked_push(m,g){return m.length>0?(node_modules_micromark_util_chunked_splice(m,m.length,0,g),m):g}let SpliceBuffer=class SpliceBuffer{constructor(m){this.left=m?[...m]:[],this.right=[]}get(m){if(m<0||m>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+m+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return m<this.left.length?this.left[m]:this.right[this.right.length-m+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(m,g){let _=null==g?Number.POSITIVE_INFINITY:g;return _<this.left.length?this.left.slice(m,_):m>this.left.length?this.right.slice(this.right.length-_+this.left.length,this.right.length-m+this.left.length).reverse():this.left.slice(m).concat(this.right.slice(this.right.length-_+this.left.length).reverse())}splice(m,g,_){let T=g||0;this.setCursor(Math.trunc(m));let A=this.right.splice(this.right.length-T,Number.POSITIVE_INFINITY);return _&&chunkedPush(this.left,_),A.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(m){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(m)}pushMany(m){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,m)}unshift(m){this.setCursor(0),this.right.push(m)}unshiftMany(m){this.setCursor(0),chunkedPush(this.right,m.reverse())}setCursor(m){if(m!==this.left.length&&(!(m>this.left.length)||0!==this.right.length)&&(!(m<0)||0!==this.left.length)){if(m<this.left.length){let g=this.left.splice(m,Number.POSITIVE_INFINITY);chunkedPush(this.right,g.reverse())}else{let g=this.right.splice(this.left.length+this.right.length-m,Number.POSITIVE_INFINITY);chunkedPush(this.left,g.reverse())}}}};function chunkedPush(m,g){let _=0;if(g.length<1e4)m.push(...g);else for(;_<g.length;)m.push(...g.slice(_,_+1e4)),_+=1e4}function subtokenize(m){let g,_,T,A,k,C,S;let w={},N=-1,O=new SpliceBuffer(m);for(;++N<O.length;){for(;(N in w);)N=w[N];if(g=O.get(N),N&&"chunkFlow"===g[1].type&&"listItemPrefix"===O.get(N-1)[1].type&&((T=0)<(C=g[1]._tokenizer.events).length&&"lineEndingBlank"===C[T][1].type&&(T+=2),T<C.length&&"content"===C[T][1].type))for(;++T<C.length&&"content"!==C[T][1].type;)"chunkText"===C[T][1].type&&(C[T][1]._isInFirstContentOfListItem=!0,T++);if("enter"===g[0])g[1].contentType&&(Object.assign(w,function(m,g){let _,T;let A=m.get(g)[1],k=m.get(g)[2],C=g-1,S=[],w=A._tokenizer||k.parser[A.contentType](A.start),N=w.events,O=[],R={},L=-1,P=A,F=0,z=0,$=[z];for(;P;){for(;m.get(++C)[1]!==P;);S.push(C),!P._tokenizer&&(_=k.sliceStream(P),P.next||_.push(null),T&&w.defineSkip(P.start),P._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=!0),w.write(_),P._isInFirstContentOfListItem&&(w._gfmTasklistFirstContentOfListItem=void 0)),T=P,P=P.next}for(P=A;++L<N.length;)"exit"===N[L][0]&&"enter"===N[L-1][0]&&N[L][1].type===N[L-1][1].type&&N[L][1].start.line!==N[L][1].end.line&&(z=L+1,$.push(z),P._tokenizer=void 0,P.previous=void 0,P=P.next);for(w.events=[],P?(P._tokenizer=void 0,P.previous=void 0):$.pop(),L=$.length;L--;){let g=N.slice($[L],$[L+1]),_=S.pop();O.push([_,_+g.length-1]),m.splice(_,2,g)}for(O.reverse(),L=-1;++L<O.length;)R[F+O[L][0]]=F+O[L][1],F+=O[L][1]-O[L][0]-1;return R}(O,N)),N=w[N],S=!0);else if(g[1]._container){for(T=N,_=void 0;T--;)if("lineEnding"===(A=O.get(T))[1].type||"lineEndingBlank"===A[1].type)"enter"===A[0]&&(_&&(O.get(_)[1].type="lineEndingBlank"),A[1].type="lineEnding",_=T);else break;_&&(g[1].end=Object.assign({},O.get(_)[1].start),(k=O.slice(_,N)).unshift(g),O.splice(_,N-_+1,k))}}return node_modules_micromark_util_chunked_splice(m,0,Number.POSITIVE_INFINITY,O.slice(0)),!S}let iv={}.hasOwnProperty,ib=use_markdown_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),ix=use_markdown_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),iC=use_markdown_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/);function use_markdown_node_modules_micromark_util_character_asciiControl(m){return null!==m&&(m<32||127===m)}let iI=use_markdown_node_modules_micromark_util_character_regexCheck(/\d/),iS=use_markdown_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),iw=use_markdown_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);function use_markdown_node_modules_micromark_util_character_markdownLineEnding(m){return null!==m&&m<-2}function use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(m){return null!==m&&(m<0||32===m)}function use_markdown_node_modules_micromark_util_character_markdownSpace(m){return -2===m||-1===m||32===m}let iN=use_markdown_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),iO=use_markdown_node_modules_micromark_util_character_regexCheck(/\s/);function use_markdown_node_modules_micromark_util_character_regexCheck(m){return function(g){return null!==g&&g>-1&&m.test(String.fromCharCode(g))}}function use_markdown_node_modules_micromark_factory_space_factorySpace(m,g,_,T){let A=T?T-1:Number.POSITIVE_INFINITY,k=0;return function(T){return use_markdown_node_modules_micromark_util_character_markdownSpace(T)?(m.enter(_),function prefix(T){return use_markdown_node_modules_micromark_util_character_markdownSpace(T)&&k++<A?(m.consume(T),prefix):(m.exit(_),g(T))}(T)):g(T)}}let iR={tokenize:function(m){let g;let _=m.attempt(this.parser.constructs.contentInitial,function(g){if(null===g){m.consume(g);return}return m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,_,"linePrefix")},function(_){return m.enter("paragraph"),function lineStart(_){let T=m.enter("chunkText",{contentType:"text",previous:g});return g&&(g.next=T),g=T,function data(g){if(null===g){m.exit("chunkText"),m.exit("paragraph"),m.consume(g);return}return use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.consume(g),m.exit("chunkText"),lineStart):(m.consume(g),data)}(_)}(_)});return _}},iD={tokenize:function(m){let g,_,T;let A=this,k=[],C=0;return start;function start(g){if(C<k.length){let _=k[C];return A.containerState=_[1],m.attempt(_[0].continuation,documentContinue,checkNewContainers)(g)}return checkNewContainers(g)}function documentContinue(m){if(C++,A.containerState._closeFlow){let _;A.containerState._closeFlow=void 0,g&&closeFlow();let T=A.events.length,k=T;for(;k--;)if("exit"===A.events[k][0]&&"chunkFlow"===A.events[k][1].type){_=A.events[k][1].end;break}exitContainers(C);let S=T;for(;S<A.events.length;)A.events[S][1].end=Object.assign({},_),S++;return node_modules_micromark_util_chunked_splice(A.events,k+1,0,A.events.slice(T)),A.events.length=S,checkNewContainers(m)}return start(m)}function checkNewContainers(_){if(C===k.length){if(!g)return documentContinued(_);if(g.currentConstruct&&g.currentConstruct.concrete)return flowStart(_);A.interrupt=!!(g.currentConstruct&&!g._gfmTableDynamicInterruptHack)}return A.containerState={},m.check(iL,thereIsANewContainer,thereIsNoNewContainer)(_)}function thereIsANewContainer(m){return g&&closeFlow(),exitContainers(C),documentContinued(m)}function thereIsNoNewContainer(m){return A.parser.lazy[A.now().line]=C!==k.length,T=A.now().offset,flowStart(m)}function documentContinued(g){return A.containerState={},m.attempt(iL,containerContinue,flowStart)(g)}function containerContinue(m){return C++,k.push([A.currentConstruct,A.containerState]),documentContinued(m)}function flowStart(T){if(null===T){g&&closeFlow(),exitContainers(0),m.consume(T);return}return g=g||A.parser.flow(A.now()),m.enter("chunkFlow",{contentType:"flow",previous:_,_tokenizer:g}),function flowContinue(g){if(null===g){writeToChild(m.exit("chunkFlow"),!0),exitContainers(0),m.consume(g);return}return use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.consume(g),writeToChild(m.exit("chunkFlow")),C=0,A.interrupt=void 0,start):(m.consume(g),flowContinue)}(T)}function writeToChild(m,k){let S=A.sliceStream(m);if(k&&S.push(null),m.previous=_,_&&(_.next=m),_=m,g.defineSkip(m.start),g.write(S),A.parser.lazy[m.start.line]){let m,_,k=g.events.length;for(;k--;)if(g.events[k][1].start.offset<T&&(!g.events[k][1].end||g.events[k][1].end.offset>T))return;let S=A.events.length,w=S;for(;w--;)if("exit"===A.events[w][0]&&"chunkFlow"===A.events[w][1].type){if(m){_=A.events[w][1].end;break}m=!0}for(exitContainers(C),k=S;k<A.events.length;)A.events[k][1].end=Object.assign({},_),k++;node_modules_micromark_util_chunked_splice(A.events,w+1,0,A.events.slice(S)),A.events.length=k}}function exitContainers(g){let _=k.length;for(;_-- >g;){let g=k[_];A.containerState=g[1],g[0].exit.call(A,m)}k.length=g}function closeFlow(){g.write([null]),_=void 0,g=void 0,A.containerState._closeFlow=void 0}}},iL={tokenize:function(m,g,_){return use_markdown_node_modules_micromark_factory_space_factorySpace(m,m.attempt(this.parser.constructs.document,g,_),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},iP={tokenize:function(m,g,_){return function(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,after,"linePrefix")(g):after(g)};function after(m){return null===m||use_markdown_node_modules_micromark_util_character_markdownLineEnding(m)?g(m):_(m)}},partial:!0},iM={tokenize:function(m,g){let _;return function(g){return m.enter("content"),_=m.enter("chunkContent",{contentType:"content"}),chunkInside(g)};function chunkInside(g){return null===g?contentEnd(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?m.check(iF,contentContinue,contentEnd)(g):(m.consume(g),chunkInside)}function contentEnd(_){return m.exit("chunkContent"),m.exit("content"),g(_)}function contentContinue(g){return m.consume(g),m.exit("chunkContent"),_.next=m.enter("chunkContent",{contentType:"content",previous:_}),_=_.next,chunkInside}},resolve:function(m){return subtokenize(m),m}},iF={tokenize:function(m,g,_){let T=this;return function(g){return m.exit("chunkContent"),m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,prefixed,"linePrefix")};function prefixed(A){if(null===A||use_markdown_node_modules_micromark_util_character_markdownLineEnding(A))return _(A);let k=T.events[T.events.length-1];return!T.parser.constructs.disable.null.includes("codeIndented")&&k&&"linePrefix"===k[1].type&&k[2].sliceSerialize(k[1],!0).length>=4?g(A):m.interrupt(T.parser.constructs.flow,_,g)(A)}},partial:!0},iB={tokenize:function(m){let g=this,_=m.attempt(iP,function(T){if(null===T){m.consume(T);return}return m.enter("lineEndingBlank"),m.consume(T),m.exit("lineEndingBlank"),g.currentConstruct=void 0,_},m.attempt(this.parser.constructs.flowInitial,afterConstruct,use_markdown_node_modules_micromark_factory_space_factorySpace(m,m.attempt(this.parser.constructs.flow,afterConstruct,m.attempt(iM,afterConstruct)),"linePrefix")));return _;function afterConstruct(T){if(null===T){m.consume(T);return}return m.enter("lineEnding"),m.consume(T),m.exit("lineEnding"),g.currentConstruct=void 0,_}}},iH={resolveAll:createResolver()},iU=initializeFactory("string"),iz=initializeFactory("text");function initializeFactory(m){return{tokenize:function(g){let _=this,T=this.parser.constructs[m],A=g.attempt(T,start,notText);return start;function start(m){return atBreak(m)?A(m):notText(m)}function notText(m){if(null===m){g.consume(m);return}return g.enter("data"),g.consume(m),data}function data(m){return atBreak(m)?(g.exit("data"),A(m)):(g.consume(m),data)}function atBreak(m){if(null===m)return!0;let g=T[m],A=-1;if(g)for(;++A<g.length;){let m=g[A];if(!m.previous||m.previous.call(_,_.previous))return!0}return!1}},resolveAll:createResolver("text"===m?resolveAllLineSuffixes:void 0)}}function createResolver(m){return function(g,_){let T,A=-1;for(;++A<=g.length;)void 0===T?g[A]&&"data"===g[A][1].type&&(T=A,A++):g[A]&&"data"===g[A][1].type||(A!==T+2&&(g[T][1].end=g[A-1][1].end,g.splice(T+2,A-T-2),A=T+2),T=void 0);return m?m(g,_):g}}function resolveAllLineSuffixes(m,g){let _=0;for(;++_<=m.length;)if((_===m.length||"lineEnding"===m[_][1].type)&&"data"===m[_-1][1].type){let T;let A=m[_-1][1],k=g.sliceStream(A),C=k.length,S=-1,w=0;for(;C--;){let m=k[C];if("string"==typeof m){for(S=m.length;32===m.charCodeAt(S-1);)w++,S--;if(S)break;S=-1}else if(-2===m)T=!0,w++;else if(-1===m);else{C++;break}}if(w){let k={type:_===m.length||T||w<2?"lineSuffix":"hardBreakTrailing",start:{line:A.end.line,column:A.end.column-w,offset:A.end.offset-w,_index:A.start._index+C,_bufferIndex:C?S:A.start._bufferIndex+S},end:Object.assign({},A.end)};A.end=Object.assign({},k.start),A.start.offset===A.end.offset?Object.assign(A,k):(m.splice(_,0,["enter",k,g],["exit",k,g]),_+=2)}_++}return m}function micromark_util_resolve_all_resolveAll(m,g,_){let T=[],A=-1;for(;++A<m.length;){let k=m[A].resolveAll;k&&!T.includes(k)&&(g=k(g,_),T.push(k))}return g}let iG={name:"thematicBreak",tokenize:function(m,g,_){let T,A=0;return function(k){return m.enter("thematicBreak"),T=k,function atBreak(k){return k===T?(m.enter("thematicBreakSequence"),function sequence(g){return g===T?(m.consume(g),A++,sequence):(m.exit("thematicBreakSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,atBreak,"whitespace")(g):atBreak(g))}(k)):A>=3&&(null===k||use_markdown_node_modules_micromark_util_character_markdownLineEnding(k))?(m.exit("thematicBreak"),g(k)):_(k)}(k)}}},ij={name:"list",tokenize:function(m,g,_){let T=this,A=T.events[T.events.length-1],k=A&&"linePrefix"===A[1].type?A[2].sliceSerialize(A[1],!0).length:0,C=0;return function(g){let A=T.containerState.type||(42===g||43===g||45===g?"listUnordered":"listOrdered");if("listUnordered"===A?!T.containerState.marker||g===T.containerState.marker:iI(g)){if(T.containerState.type||(T.containerState.type=A,m.enter(A,{_container:!0})),"listUnordered"===A)return m.enter("listItemPrefix"),42===g||45===g?m.check(iG,_,atMarker)(g):atMarker(g);if(!T.interrupt||49===g)return m.enter("listItemPrefix"),m.enter("listItemValue"),function inside(g){return iI(g)&&++C<10?(m.consume(g),inside):(!T.interrupt||C<2)&&(T.containerState.marker?g===T.containerState.marker:41===g||46===g)?(m.exit("listItemValue"),atMarker(g)):_(g)}(g)}return _(g)};function atMarker(g){return m.enter("listItemMarker"),m.consume(g),m.exit("listItemMarker"),T.containerState.marker=T.containerState.marker||g,m.check(iP,T.interrupt?_:onBlank,m.attempt(i$,endOfPrefix,otherPrefix))}function onBlank(m){return T.containerState.initialBlankLine=!0,k++,endOfPrefix(m)}function otherPrefix(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.enter("listItemPrefixWhitespace"),m.consume(g),m.exit("listItemPrefixWhitespace"),endOfPrefix):_(g)}function endOfPrefix(_){return T.containerState.size=k+T.sliceSerialize(m.exit("listItemPrefix"),!0).length,g(_)}},continuation:{tokenize:function(m,g,_){let T=this;return T.containerState._closeFlow=void 0,m.check(iP,function(_){return T.containerState.furtherBlankLines=T.containerState.furtherBlankLines||T.containerState.initialBlankLine,use_markdown_node_modules_micromark_factory_space_factorySpace(m,g,"listItemIndent",T.containerState.size+1)(_)},function(_){return T.containerState.furtherBlankLines||!use_markdown_node_modules_micromark_util_character_markdownSpace(_)?(T.containerState.furtherBlankLines=void 0,T.containerState.initialBlankLine=void 0,notInCurrentItem(_)):(T.containerState.furtherBlankLines=void 0,T.containerState.initialBlankLine=void 0,m.attempt(iq,g,notInCurrentItem)(_))});function notInCurrentItem(A){return T.containerState._closeFlow=!0,T.interrupt=void 0,use_markdown_node_modules_micromark_factory_space_factorySpace(m,m.attempt(ij,g,_),"linePrefix",T.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A)}}},exit:function(m){m.exit(this.containerState.type)}},i$={tokenize:function(m,g,_){let T=this;return use_markdown_node_modules_micromark_factory_space_factorySpace(m,function(m){let A=T.events[T.events.length-1];return!use_markdown_node_modules_micromark_util_character_markdownSpace(m)&&A&&"listItemPrefixWhitespace"===A[1].type?g(m):_(m)},"listItemPrefixWhitespace",T.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},iq={tokenize:function(m,g,_){let T=this;return use_markdown_node_modules_micromark_factory_space_factorySpace(m,function(m){let A=T.events[T.events.length-1];return A&&"listItemIndent"===A[1].type&&A[2].sliceSerialize(A[1],!0).length===T.containerState.size?g(m):_(m)},"listItemIndent",T.containerState.size+1)},partial:!0},iV={name:"blockQuote",tokenize:function(m,g,_){let T=this;return function(g){if(62===g){let _=T.containerState;return _.open||(m.enter("blockQuote",{_container:!0}),_.open=!0),m.enter("blockQuotePrefix"),m.enter("blockQuoteMarker"),m.consume(g),m.exit("blockQuoteMarker"),after}return _(g)};function after(_){return use_markdown_node_modules_micromark_util_character_markdownSpace(_)?(m.enter("blockQuotePrefixWhitespace"),m.consume(_),m.exit("blockQuotePrefixWhitespace"),m.exit("blockQuotePrefix"),g):(m.exit("blockQuotePrefix"),g(_))}},continuation:{tokenize:function(m,g,_){let T=this;return function(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,contBefore,"linePrefix",T.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):contBefore(g)};function contBefore(T){return m.attempt(iV,g,_)(T)}}},exit:function(m){m.exit("blockQuote")}};function factoryDestination(m,g,_,T,A,k,C,S,w){let N=w||Number.POSITIVE_INFINITY,O=0;return function(g){return 60===g?(m.enter(T),m.enter(A),m.enter(k),m.consume(g),m.exit(k),enclosedBefore):null===g||32===g||41===g||use_markdown_node_modules_micromark_util_character_asciiControl(g)?_(g):(m.enter(T),m.enter(C),m.enter(S),m.enter("chunkString",{contentType:"string"}),raw(g))};function enclosedBefore(_){return 62===_?(m.enter(k),m.consume(_),m.exit(k),m.exit(A),m.exit(T),g):(m.enter(S),m.enter("chunkString",{contentType:"string"}),enclosed(_))}function enclosed(g){return 62===g?(m.exit("chunkString"),m.exit(S),enclosedBefore(g)):null===g||60===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?_(g):(m.consume(g),92===g?enclosedEscape:enclosed)}function enclosedEscape(g){return 60===g||62===g||92===g?(m.consume(g),enclosed):enclosed(g)}function raw(A){return!O&&(null===A||41===A||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(A))?(m.exit("chunkString"),m.exit(S),m.exit(C),m.exit(T),g(A)):O<N&&40===A?(m.consume(A),O++,raw):41===A?(m.consume(A),O--,raw):null===A||32===A||40===A||use_markdown_node_modules_micromark_util_character_asciiControl(A)?_(A):(m.consume(A),92===A?rawEscape:raw)}function rawEscape(g){return 40===g||41===g||92===g?(m.consume(g),raw):raw(g)}}function factoryLabel(m,g,_,T,A,k){let C;let S=this,w=0;return function(g){return m.enter(T),m.enter(A),m.consume(g),m.exit(A),m.enter(k),atBreak};function atBreak(N){return w>999||null===N||91===N||93===N&&!C||94===N&&!w&&"_hiddenFootnoteSupport"in S.parser.constructs?_(N):93===N?(m.exit(k),m.enter(A),m.consume(N),m.exit(A),m.exit(T),g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(N)?(m.enter("lineEnding"),m.consume(N),m.exit("lineEnding"),atBreak):(m.enter("chunkString",{contentType:"string"}),labelInside(N))}function labelInside(g){return null===g||91===g||93===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)||w++>999?(m.exit("chunkString"),atBreak(g)):(m.consume(g),C||(C=!use_markdown_node_modules_micromark_util_character_markdownSpace(g)),92===g?labelEscape:labelInside)}function labelEscape(g){return 91===g||92===g||93===g?(m.consume(g),w++,labelInside):labelInside(g)}}function factoryTitle(m,g,_,T,A,k){let C;return function(g){return 34===g||39===g||40===g?(m.enter(T),m.enter(A),m.consume(g),m.exit(A),C=40===g?41:g,begin):_(g)};function begin(_){return _===C?(m.enter(A),m.consume(_),m.exit(A),m.exit(T),g):(m.enter(k),atBreak(_))}function atBreak(g){return g===C?(m.exit(k),begin(C)):null===g?_(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,atBreak,"linePrefix")):(m.enter("chunkString",{contentType:"string"}),inside(g))}function inside(g){return g===C||null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("chunkString"),atBreak(g)):(m.consume(g),92===g?escape:inside)}function escape(g){return g===C||92===g?(m.consume(g),inside):inside(g)}}function factoryWhitespace(m,g){let _;return function start(T){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(T)?(m.enter("lineEnding"),m.consume(T),m.exit("lineEnding"),_=!0,start):use_markdown_node_modules_micromark_util_character_markdownSpace(T)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,start,_?"linePrefix":"lineSuffix")(T):g(T)}}function node_modules_micromark_util_normalize_identifier_normalizeIdentifier(m){return m.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let iY={tokenize:function(m,g,_){return function(g){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?factoryWhitespace(m,beforeMarker)(g):_(g)};function beforeMarker(g){return factoryTitle(m,titleAfter,_,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function titleAfter(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,titleAfterOptionalWhitespace,"whitespace")(g):titleAfterOptionalWhitespace(g)}function titleAfterOptionalWhitespace(m){return null===m||use_markdown_node_modules_micromark_util_character_markdownLineEnding(m)?g(m):_(m)}},partial:!0},iW={name:"codeIndented",tokenize:function(m,g,_){let T=this;return function(g){return m.enter("codeIndented"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,afterPrefix,"linePrefix",5)(g)};function afterPrefix(g){let A=T.events[T.events.length-1];return A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?function atBreak(g){return null===g?after(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?m.attempt(iQ,atBreak,after)(g):(m.enter("codeFlowValue"),function inside(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("codeFlowValue"),atBreak(g)):(m.consume(g),inside)}(g))}(g):_(g)}function after(_){return m.exit("codeIndented"),g(_)}}},iQ={tokenize:function(m,g,_){let T=this;return furtherStart;function furtherStart(g){return T.parser.lazy[T.now().line]?_(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),furtherStart):use_markdown_node_modules_micromark_factory_space_factorySpace(m,afterPrefix,"linePrefix",5)(g)}function afterPrefix(m){let A=T.events[T.events.length-1];return A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?g(m):use_markdown_node_modules_micromark_util_character_markdownLineEnding(m)?furtherStart(m):_(m)}},partial:!0},iX={name:"setextUnderline",tokenize:function(m,g,_){let T;let A=this;return function(g){let k,C=A.events.length;for(;C--;)if("lineEnding"!==A.events[C][1].type&&"linePrefix"!==A.events[C][1].type&&"content"!==A.events[C][1].type){k="paragraph"===A.events[C][1].type;break}return!A.parser.lazy[A.now().line]&&(A.interrupt||k)?(m.enter("setextHeadingLine"),T=g,m.enter("setextHeadingLineSequence"),function inside(g){return g===T?(m.consume(g),inside):(m.exit("setextHeadingLineSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,after,"lineSuffix")(g):after(g))}(g)):_(g)};function after(T){return null===T||use_markdown_node_modules_micromark_util_character_markdownLineEnding(T)?(m.exit("setextHeadingLine"),g(T)):_(T)}},resolveTo:function(m,g){let _,T,A,k=m.length;for(;k--;)if("enter"===m[k][0]){if("content"===m[k][1].type){_=k;break}"paragraph"===m[k][1].type&&(T=k)}else"content"===m[k][1].type&&m.splice(k,1),A||"definition"!==m[k][1].type||(A=k);let C={type:"setextHeading",start:Object.assign({},m[T][1].start),end:Object.assign({},m[m.length-1][1].end)};return m[T][1].type="setextHeadingText",A?(m.splice(T,0,["enter",C,g]),m.splice(A+1,0,["exit",m[_][1],g]),m[_][1].end=Object.assign({},m[A][1].end)):m[_][1]=C,m.push(["exit",C,g]),m}},iK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iZ=["pre","script","style","textarea"],iJ={tokenize:function(m,g,_){return function(T){return m.enter("lineEnding"),m.consume(T),m.exit("lineEnding"),m.attempt(iP,g,_)}},partial:!0},i0={tokenize:function(m,g,_){let T=this;return function(g){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),after):_(g)};function after(m){return T.parser.lazy[T.now().line]?_(m):g(m)}},partial:!0},i1={tokenize:function(m,g,_){let T=this;return function(g){return null===g?_(g):(m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),lineStart)};function lineStart(m){return T.parser.lazy[T.now().line]?_(m):g(m)}},partial:!0},i2={name:"codeFenced",tokenize:function(m,g,_){let T;let A=this,k={tokenize:function(m,g,_){let k=0;return function(g){return m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),start};function start(g){return m.enter("codeFencedFence"),use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,beforeSequenceClose,"linePrefix",A.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):beforeSequenceClose(g)}function beforeSequenceClose(g){return g===T?(m.enter("codeFencedFenceSequence"),function sequenceClose(g){return g===T?(k++,m.consume(g),sequenceClose):k>=S?(m.exit("codeFencedFenceSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,sequenceCloseAfter,"whitespace")(g):sequenceCloseAfter(g)):_(g)}(g)):_(g)}function sequenceCloseAfter(T){return null===T||use_markdown_node_modules_micromark_util_character_markdownLineEnding(T)?(m.exit("codeFencedFence"),g(T)):_(T)}},partial:!0},C=0,S=0;return function(g){return function(g){let k=A.events[A.events.length-1];return C=k&&"linePrefix"===k[1].type?k[2].sliceSerialize(k[1],!0).length:0,T=g,m.enter("codeFenced"),m.enter("codeFencedFence"),m.enter("codeFencedFenceSequence"),function sequenceOpen(g){return g===T?(S++,m.consume(g),sequenceOpen):S<3?_(g):(m.exit("codeFencedFenceSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,infoBefore,"whitespace")(g):infoBefore(g))}(g)}(g)};function infoBefore(k){return null===k||use_markdown_node_modules_micromark_util_character_markdownLineEnding(k)?(m.exit("codeFencedFence"),A.interrupt?g(k):m.check(i1,atNonLazyBreak,after)(k)):(m.enter("codeFencedFenceInfo"),m.enter("chunkString",{contentType:"string"}),function info(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("chunkString"),m.exit("codeFencedFenceInfo"),infoBefore(g)):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.exit("chunkString"),m.exit("codeFencedFenceInfo"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,metaBefore,"whitespace")(g)):96===g&&g===T?_(g):(m.consume(g),info)}(k))}function metaBefore(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?infoBefore(g):(m.enter("codeFencedFenceMeta"),m.enter("chunkString",{contentType:"string"}),function meta(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("chunkString"),m.exit("codeFencedFenceMeta"),infoBefore(g)):96===g&&g===T?_(g):(m.consume(g),meta)}(g))}function atNonLazyBreak(g){return m.attempt(k,after,contentBefore)(g)}function contentBefore(g){return m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),contentStart}function contentStart(g){return C>0&&use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,beforeContentChunk,"linePrefix",C+1)(g):beforeContentChunk(g)}function beforeContentChunk(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?m.check(i1,atNonLazyBreak,after)(g):(m.enter("codeFlowValue"),function contentChunk(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("codeFlowValue"),beforeContentChunk(g)):(m.consume(g),contentChunk)}(g))}function after(_){return m.exit("codeFenced"),g(_)}},concrete:!0},i3=document.createElement("i");function decodeNamedCharacterReference(m){let g="&"+m+";";i3.innerHTML=g;let _=i3.textContent;return(59!==_.charCodeAt(_.length-1)||"semi"===m)&&_!==g&&_}let i4={name:"characterReference",tokenize:function(m,g,_){let T,A;let k=this,C=0;return function(g){return m.enter("characterReference"),m.enter("characterReferenceMarker"),m.consume(g),m.exit("characterReferenceMarker"),open};function open(g){return 35===g?(m.enter("characterReferenceMarkerNumeric"),m.consume(g),m.exit("characterReferenceMarkerNumeric"),numeric):(m.enter("characterReferenceValue"),T=31,A=ix,value(g))}function numeric(g){return 88===g||120===g?(m.enter("characterReferenceMarkerHexadecimal"),m.consume(g),m.exit("characterReferenceMarkerHexadecimal"),m.enter("characterReferenceValue"),T=6,A=iS,value):(m.enter("characterReferenceValue"),T=7,A=iI,value(g))}function value(S){if(59===S&&C){let T=m.exit("characterReferenceValue");return A!==ix||decodeNamedCharacterReference(k.sliceSerialize(T))?(m.enter("characterReferenceMarker"),m.consume(S),m.exit("characterReferenceMarker"),m.exit("characterReference"),g):_(S)}return A(S)&&C++<T?(m.consume(S),value):_(S)}}},i5={name:"characterEscape",tokenize:function(m,g,_){return function(g){return m.enter("characterEscape"),m.enter("escapeMarker"),m.consume(g),m.exit("escapeMarker"),inside};function inside(T){return iw(T)?(m.enter("characterEscapeValue"),m.consume(T),m.exit("characterEscapeValue"),m.exit("characterEscape"),g):_(T)}}},i6={name:"lineEnding",tokenize:function(m,g){return function(_){return m.enter("lineEnding"),m.consume(_),m.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(m,g,"linePrefix")}}},i8={name:"labelEnd",tokenize:function(m,g,_){let T,A;let k=this,C=k.events.length;for(;C--;)if(("labelImage"===k.events[C][1].type||"labelLink"===k.events[C][1].type)&&!k.events[C][1]._balanced){T=k.events[C][1];break}return function(g){return T?T._inactive?labelEndNok(g):(A=k.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier(k.sliceSerialize({start:T.end,end:k.now()}))),m.enter("labelEnd"),m.enter("labelMarker"),m.consume(g),m.exit("labelMarker"),m.exit("labelEnd"),after):_(g)};function after(g){return 40===g?m.attempt(i9,labelEndOk,A?labelEndOk:labelEndNok)(g):91===g?m.attempt(i7,labelEndOk,A?referenceNotFull:labelEndNok)(g):A?labelEndOk(g):labelEndNok(g)}function referenceNotFull(g){return m.attempt(ae,labelEndOk,labelEndNok)(g)}function labelEndOk(m){return g(m)}function labelEndNok(m){return T._balanced=!0,_(m)}},resolveTo:function(m,g){let _,T,A,k,C=m.length,S=0;for(;C--;)if(_=m[C][1],T){if("link"===_.type||"labelLink"===_.type&&_._inactive)break;"enter"===m[C][0]&&"labelLink"===_.type&&(_._inactive=!0)}else if(A){if("enter"===m[C][0]&&("labelImage"===_.type||"labelLink"===_.type)&&!_._balanced&&(T=C,"labelLink"!==_.type)){S=2;break}}else"labelEnd"===_.type&&(A=C);let w={type:"labelLink"===m[T][1].type?"link":"image",start:Object.assign({},m[T][1].start),end:Object.assign({},m[m.length-1][1].end)},N={type:"label",start:Object.assign({},m[T][1].start),end:Object.assign({},m[A][1].end)},O={type:"labelText",start:Object.assign({},m[T+S+2][1].end),end:Object.assign({},m[A-2][1].start)};return k=node_modules_micromark_util_chunked_push(k=[["enter",w,g],["enter",N,g]],m.slice(T+1,T+S+3)),k=node_modules_micromark_util_chunked_push(k,[["enter",O,g]]),k=node_modules_micromark_util_chunked_push(k,micromark_util_resolve_all_resolveAll(g.parser.constructs.insideSpan.null,m.slice(T+S+4,A-3),g)),k=node_modules_micromark_util_chunked_push(k,[["exit",O,g],m[A-2],m[A-1],["exit",N,g]]),k=node_modules_micromark_util_chunked_push(k,m.slice(A+1)),k=node_modules_micromark_util_chunked_push(k,[["exit",w,g]]),node_modules_micromark_util_chunked_splice(m,T,m.length,k),m},resolveAll:function(m){let g=-1;for(;++g<m.length;){let _=m[g][1];("labelImage"===_.type||"labelLink"===_.type||"labelEnd"===_.type)&&(m.splice(g+1,"labelImage"===_.type?4:2),_.type="data",g++)}return m}},i9={tokenize:function(m,g,_){return function(g){return m.enter("resource"),m.enter("resourceMarker"),m.consume(g),m.exit("resourceMarker"),resourceBefore};function resourceBefore(g){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?factoryWhitespace(m,resourceOpen)(g):resourceOpen(g)}function resourceOpen(g){return 41===g?resourceEnd(g):factoryDestination(m,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function resourceDestinationAfter(g){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?factoryWhitespace(m,resourceBetween)(g):resourceEnd(g)}function resourceDestinationMissing(m){return _(m)}function resourceBetween(g){return 34===g||39===g||40===g?factoryTitle(m,resourceTitleAfter,_,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):resourceEnd(g)}function resourceTitleAfter(g){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?factoryWhitespace(m,resourceEnd)(g):resourceEnd(g)}function resourceEnd(T){return 41===T?(m.enter("resourceMarker"),m.consume(T),m.exit("resourceMarker"),m.exit("resource"),g):_(T)}}},i7={tokenize:function(m,g,_){let T=this;return function(g){return factoryLabel.call(T,m,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(g)};function referenceFullAfter(m){return T.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier(T.sliceSerialize(T.events[T.events.length-1][1]).slice(1,-1)))?g(m):_(m)}function referenceFullMissing(m){return _(m)}}},ae={tokenize:function(m,g,_){return function(g){return m.enter("reference"),m.enter("referenceMarker"),m.consume(g),m.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(T){return 93===T?(m.enter("referenceMarker"),m.consume(T),m.exit("referenceMarker"),m.exit("reference"),g):_(T)}}},at={name:"labelStartImage",tokenize:function(m,g,_){let T=this;return function(g){return m.enter("labelImage"),m.enter("labelImageMarker"),m.consume(g),m.exit("labelImageMarker"),open};function open(g){return 91===g?(m.enter("labelMarker"),m.consume(g),m.exit("labelMarker"),m.exit("labelImage"),after):_(g)}function after(m){return 94===m&&"_hiddenFootnoteSupport"in T.parser.constructs?_(m):g(m)}},resolveAll:i8.resolveAll};function micromark_util_classify_character_classifyCharacter(m){return null===m||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)||iO(m)?1:iN(m)?2:void 0}let an={name:"attention",tokenize:function(m,g){let _;let T=this.parser.constructs.attentionMarkers.null,A=this.previous,k=micromark_util_classify_character_classifyCharacter(A);return function(C){return _=C,m.enter("attentionSequence"),function inside(C){if(C===_)return m.consume(C),inside;let S=m.exit("attentionSequence"),w=micromark_util_classify_character_classifyCharacter(C),N=!w||2===w&&k||T.includes(C),O=!k||2===k&&w||T.includes(A);return S._open=!!(42===_?N:N&&(k||!O)),S._close=!!(42===_?O:O&&(w||!N)),g(C)}(C)}},resolveAll:function(m,g){let _,T,A,k,C,S,w,N,O=-1;for(;++O<m.length;)if("enter"===m[O][0]&&"attentionSequence"===m[O][1].type&&m[O][1]._close){for(_=O;_--;)if("exit"===m[_][0]&&"attentionSequence"===m[_][1].type&&m[_][1]._open&&g.sliceSerialize(m[_][1]).charCodeAt(0)===g.sliceSerialize(m[O][1]).charCodeAt(0)){if((m[_][1]._close||m[O][1]._open)&&(m[O][1].end.offset-m[O][1].start.offset)%3&&!((m[_][1].end.offset-m[_][1].start.offset+m[O][1].end.offset-m[O][1].start.offset)%3))continue;S=m[_][1].end.offset-m[_][1].start.offset>1&&m[O][1].end.offset-m[O][1].start.offset>1?2:1;let R=Object.assign({},m[_][1].end),L=Object.assign({},m[O][1].start);movePoint(R,-S),movePoint(L,S),k={type:S>1?"strongSequence":"emphasisSequence",start:R,end:Object.assign({},m[_][1].end)},C={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},m[O][1].start),end:L},A={type:S>1?"strongText":"emphasisText",start:Object.assign({},m[_][1].end),end:Object.assign({},m[O][1].start)},T={type:S>1?"strong":"emphasis",start:Object.assign({},k.start),end:Object.assign({},C.end)},m[_][1].end=Object.assign({},k.start),m[O][1].start=Object.assign({},C.end),w=[],m[_][1].end.offset-m[_][1].start.offset&&(w=node_modules_micromark_util_chunked_push(w,[["enter",m[_][1],g],["exit",m[_][1],g]])),w=node_modules_micromark_util_chunked_push(w,[["enter",T,g],["enter",k,g],["exit",k,g],["enter",A,g]]),w=node_modules_micromark_util_chunked_push(w,micromark_util_resolve_all_resolveAll(g.parser.constructs.insideSpan.null,m.slice(_+1,O),g)),w=node_modules_micromark_util_chunked_push(w,[["exit",A,g],["enter",C,g],["exit",C,g],["exit",T,g]]),m[O][1].end.offset-m[O][1].start.offset?(N=2,w=node_modules_micromark_util_chunked_push(w,[["enter",m[O][1],g],["exit",m[O][1],g]])):N=0,node_modules_micromark_util_chunked_splice(m,_-1,O-_+3,w),O=_+w.length-N-2;break}}for(O=-1;++O<m.length;)"attentionSequence"===m[O][1].type&&(m[O][1].type="data");return m}};function movePoint(m,g){m.column+=g,m.offset+=g,m._bufferIndex+=g}let ar={name:"labelStartLink",tokenize:function(m,g,_){let T=this;return function(g){return m.enter("labelLink"),m.enter("labelMarker"),m.consume(g),m.exit("labelMarker"),m.exit("labelLink"),after};function after(m){return 94===m&&"_hiddenFootnoteSupport"in T.parser.constructs?_(m):g(m)}},resolveAll:i8.resolveAll},ai={42:ij,43:ij,45:ij,48:ij,49:ij,50:ij,51:ij,52:ij,53:ij,54:ij,55:ij,56:ij,57:ij,62:iV},aa={91:{name:"definition",tokenize:function(m,g,_){let T;let A=this;return function(g){return m.enter("definition"),factoryLabel.call(A,m,labelAfter,_,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)};function labelAfter(g){return(T=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(A.sliceSerialize(A.events[A.events.length-1][1]).slice(1,-1)),58===g)?(m.enter("definitionMarker"),m.consume(g),m.exit("definitionMarker"),markerAfter):_(g)}function markerAfter(g){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?factoryWhitespace(m,destinationBefore)(g):destinationBefore(g)}function destinationBefore(g){return factoryDestination(m,destinationAfter,_,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function destinationAfter(g){return m.attempt(iY,after,after)(g)}function after(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,afterWhitespace,"whitespace")(g):afterWhitespace(g)}function afterWhitespace(k){return null===k||use_markdown_node_modules_micromark_util_character_markdownLineEnding(k)?(m.exit("definition"),A.parser.defined.push(T),g(k)):_(k)}}}},ao={[-2]:iW,[-1]:iW,32:iW},al={35:{name:"headingAtx",tokenize:function(m,g,_){let T=0;return function(A){return m.enter("atxHeading"),m.enter("atxHeadingSequence"),function sequenceOpen(A){return 35===A&&T++<6?(m.consume(A),sequenceOpen):null===A||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(A)?(m.exit("atxHeadingSequence"),function atBreak(_){return 35===_?(m.enter("atxHeadingSequence"),function sequenceFurther(g){return 35===g?(m.consume(g),sequenceFurther):(m.exit("atxHeadingSequence"),atBreak(g))}(_)):null===_||use_markdown_node_modules_micromark_util_character_markdownLineEnding(_)?(m.exit("atxHeading"),g(_)):use_markdown_node_modules_micromark_util_character_markdownSpace(_)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,atBreak,"whitespace")(_):(m.enter("atxHeadingText"),function data(g){return null===g||35===g||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?(m.exit("atxHeadingText"),atBreak(g)):(m.consume(g),data)}(_))}(A)):_(A)}(A)}},resolve:function(m,g){let _,T,A=m.length-2,k=3;return"whitespace"===m[3][1].type&&(k+=2),A-2>k&&"whitespace"===m[A][1].type&&(A-=2),"atxHeadingSequence"===m[A][1].type&&(k===A-1||A-4>k&&"whitespace"===m[A-2][1].type)&&(A-=k+1===A?2:4),A>k&&(_={type:"atxHeadingText",start:m[k][1].start,end:m[A][1].end},T={type:"chunkText",start:m[k][1].start,end:m[A][1].end,contentType:"text"},node_modules_micromark_util_chunked_splice(m,k,A-k+1,[["enter",_,g],["enter",T,g],["exit",T,g],["exit",_,g]])),m}},42:iG,45:[iX,iG],60:{name:"htmlFlow",tokenize:function(m,g,_){let T,A,k,C,S;let w=this;return function(g){return m.enter("htmlFlow"),m.enter("htmlFlowData"),m.consume(g),open};function open(C){return 33===C?(m.consume(C),declarationOpen):47===C?(m.consume(C),A=!0,tagCloseStart):63===C?(m.consume(C),T=3,w.interrupt?g:continuationDeclarationInside):ib(C)?(m.consume(C),k=String.fromCharCode(C),tagName):_(C)}function declarationOpen(A){return 45===A?(m.consume(A),T=2,commentOpenInside):91===A?(m.consume(A),T=5,C=0,cdataOpenInside):ib(A)?(m.consume(A),T=4,w.interrupt?g:continuationDeclarationInside):_(A)}function commentOpenInside(T){return 45===T?(m.consume(T),w.interrupt?g:continuationDeclarationInside):_(T)}function cdataOpenInside(T){let A="CDATA[";return T===A.charCodeAt(C++)?(m.consume(T),C===A.length)?w.interrupt?g:continuation:cdataOpenInside:_(T)}function tagCloseStart(g){return ib(g)?(m.consume(g),k=String.fromCharCode(g),tagName):_(g)}function tagName(C){if(null===C||47===C||62===C||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(C)){let S=47===C,N=k.toLowerCase();return!S&&!A&&iZ.includes(N)?(T=1,w.interrupt?g(C):continuation(C)):iK.includes(k.toLowerCase())?(T=6,S)?(m.consume(C),basicSelfClosing):w.interrupt?g(C):continuation(C):(T=7,w.interrupt&&!w.parser.lazy[w.now().line]?_(C):A?function completeClosingTagAfter(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),completeClosingTagAfter):completeEnd(g)}(C):completeAttributeNameBefore(C))}return 45===C||ix(C)?(m.consume(C),k+=String.fromCharCode(C),tagName):_(C)}function basicSelfClosing(T){return 62===T?(m.consume(T),w.interrupt?g:continuation):_(T)}function completeAttributeNameBefore(g){return 47===g?(m.consume(g),completeEnd):58===g||95===g||ib(g)?(m.consume(g),completeAttributeName):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),completeAttributeNameBefore):completeEnd(g)}function completeAttributeName(g){return 45===g||46===g||58===g||95===g||ix(g)?(m.consume(g),completeAttributeName):completeAttributeNameAfter(g)}function completeAttributeNameAfter(g){return 61===g?(m.consume(g),completeAttributeValueBefore):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),completeAttributeNameAfter):completeAttributeNameBefore(g)}function completeAttributeValueBefore(g){return null===g||60===g||61===g||62===g||96===g?_(g):34===g||39===g?(m.consume(g),S=g,completeAttributeValueQuoted):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),completeAttributeValueBefore):function completeAttributeValueUnquoted(g){return null===g||34===g||39===g||47===g||60===g||61===g||62===g||96===g||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?completeAttributeNameAfter(g):(m.consume(g),completeAttributeValueUnquoted)}(g)}function completeAttributeValueQuoted(g){return g===S?(m.consume(g),S=null,completeAttributeValueQuotedAfter):null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?_(g):(m.consume(g),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(m){return 47===m||62===m||use_markdown_node_modules_micromark_util_character_markdownSpace(m)?completeAttributeNameBefore(m):_(m)}function completeEnd(g){return 62===g?(m.consume(g),completeAfter):_(g)}function completeAfter(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?continuation(g):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),completeAfter):_(g)}function continuation(g){return 45===g&&2===T?(m.consume(g),continuationCommentInside):60===g&&1===T?(m.consume(g),continuationRawTagOpen):62===g&&4===T?(m.consume(g),continuationClose):63===g&&3===T?(m.consume(g),continuationDeclarationInside):93===g&&5===T?(m.consume(g),continuationCdataInside):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)&&(6===T||7===T)?(m.exit("htmlFlowData"),m.check(iJ,continuationAfter,continuationStart)(g)):null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("htmlFlowData"),continuationStart(g)):(m.consume(g),continuation)}function continuationStart(g){return m.check(i0,continuationStartNonLazy,continuationAfter)(g)}function continuationStartNonLazy(g){return m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),continuationBefore}function continuationBefore(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?continuationStart(g):(m.enter("htmlFlowData"),continuation(g))}function continuationCommentInside(g){return 45===g?(m.consume(g),continuationDeclarationInside):continuation(g)}function continuationRawTagOpen(g){return 47===g?(m.consume(g),k="",continuationRawEndTag):continuation(g)}function continuationRawEndTag(g){if(62===g){let _=k.toLowerCase();return iZ.includes(_)?(m.consume(g),continuationClose):continuation(g)}return ib(g)&&k.length<8?(m.consume(g),k+=String.fromCharCode(g),continuationRawEndTag):continuation(g)}function continuationCdataInside(g){return 93===g?(m.consume(g),continuationDeclarationInside):continuation(g)}function continuationDeclarationInside(g){return 62===g?(m.consume(g),continuationClose):45===g&&2===T?(m.consume(g),continuationDeclarationInside):continuation(g)}function continuationClose(g){return null===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("htmlFlowData"),continuationAfter(g)):(m.consume(g),continuationClose)}function continuationAfter(_){return m.exit("htmlFlow"),g(_)}},resolveTo:function(m){let g=m.length;for(;g--&&("enter"!==m[g][0]||"htmlFlow"!==m[g][1].type););return g>1&&"linePrefix"===m[g-2][1].type&&(m[g][1].start=m[g-2][1].start,m[g+1][1].start=m[g-2][1].start,m.splice(g-2,2)),m},concrete:!0},61:iX,95:iG,96:i2,126:i2},ac={38:i4,92:i5},au={[-5]:i6,[-4]:i6,[-3]:i6,33:at,38:i4,42:an,60:[{name:"autolink",tokenize:function(m,g,_){let T=0;return function(g){return m.enter("autolink"),m.enter("autolinkMarker"),m.consume(g),m.exit("autolinkMarker"),m.enter("autolinkProtocol"),open};function open(g){return ib(g)?(m.consume(g),schemeOrEmailAtext):64===g?_(g):emailAtext(g)}function schemeOrEmailAtext(g){return 43===g||45===g||46===g||ix(g)?(T=1,function schemeInsideOrEmailAtext(g){return 58===g?(m.consume(g),T=0,urlInside):(43===g||45===g||46===g||ix(g))&&T++<32?(m.consume(g),schemeInsideOrEmailAtext):(T=0,emailAtext(g))}(g)):emailAtext(g)}function urlInside(T){return 62===T?(m.exit("autolinkProtocol"),m.enter("autolinkMarker"),m.consume(T),m.exit("autolinkMarker"),m.exit("autolink"),g):null===T||32===T||60===T||use_markdown_node_modules_micromark_util_character_asciiControl(T)?_(T):(m.consume(T),urlInside)}function emailAtext(g){return 64===g?(m.consume(g),emailAtSignOrDot):iC(g)?(m.consume(g),emailAtext):_(g)}function emailAtSignOrDot(A){return ix(A)?function emailLabel(A){return 46===A?(m.consume(A),T=0,emailAtSignOrDot):62===A?(m.exit("autolinkProtocol").type="autolinkEmail",m.enter("autolinkMarker"),m.consume(A),m.exit("autolinkMarker"),m.exit("autolink"),g):function emailValue(g){if((45===g||ix(g))&&T++<63){let _=45===g?emailValue:emailLabel;return m.consume(g),_}return _(g)}(A)}(A):_(A)}}},{name:"htmlText",tokenize:function(m,g,_){let T,A,k;let C=this;return function(g){return m.enter("htmlText"),m.enter("htmlTextData"),m.consume(g),open};function open(g){return 33===g?(m.consume(g),declarationOpen):47===g?(m.consume(g),tagCloseStart):63===g?(m.consume(g),instruction):ib(g)?(m.consume(g),tagOpen):_(g)}function declarationOpen(g){return 45===g?(m.consume(g),commentOpenInside):91===g?(m.consume(g),A=0,cdataOpenInside):ib(g)?(m.consume(g),declaration):_(g)}function commentOpenInside(g){return 45===g?(m.consume(g),commentEnd):_(g)}function comment(g){return null===g?_(g):45===g?(m.consume(g),commentClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=comment,lineEndingBefore(g)):(m.consume(g),comment)}function commentClose(g){return 45===g?(m.consume(g),commentEnd):comment(g)}function commentEnd(m){return 62===m?end(m):45===m?commentClose(m):comment(m)}function cdataOpenInside(g){let T="CDATA[";return g===T.charCodeAt(A++)?(m.consume(g),A===T.length?cdata:cdataOpenInside):_(g)}function cdata(g){return null===g?_(g):93===g?(m.consume(g),cdataClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=cdata,lineEndingBefore(g)):(m.consume(g),cdata)}function cdataClose(g){return 93===g?(m.consume(g),cdataEnd):cdata(g)}function cdataEnd(g){return 62===g?end(g):93===g?(m.consume(g),cdataEnd):cdata(g)}function declaration(g){return null===g||62===g?end(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=declaration,lineEndingBefore(g)):(m.consume(g),declaration)}function instruction(g){return null===g?_(g):63===g?(m.consume(g),instructionClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=instruction,lineEndingBefore(g)):(m.consume(g),instruction)}function instructionClose(m){return 62===m?end(m):instruction(m)}function tagCloseStart(g){return ib(g)?(m.consume(g),tagClose):_(g)}function tagClose(g){return 45===g||ix(g)?(m.consume(g),tagClose):function tagCloseBetween(g){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=tagCloseBetween,lineEndingBefore(g)):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),tagCloseBetween):end(g)}(g)}function tagOpen(g){return 45===g||ix(g)?(m.consume(g),tagOpen):47===g||62===g||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?tagOpenBetween(g):_(g)}function tagOpenBetween(g){return 47===g?(m.consume(g),end):58===g||95===g||ib(g)?(m.consume(g),tagOpenAttributeName):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=tagOpenBetween,lineEndingBefore(g)):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),tagOpenBetween):end(g)}function tagOpenAttributeName(g){return 45===g||46===g||58===g||95===g||ix(g)?(m.consume(g),tagOpenAttributeName):function tagOpenAttributeNameAfter(g){return 61===g?(m.consume(g),tagOpenAttributeValueBefore):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=tagOpenAttributeNameAfter,lineEndingBefore(g)):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),tagOpenAttributeNameAfter):tagOpenBetween(g)}(g)}function tagOpenAttributeValueBefore(g){return null===g||60===g||61===g||62===g||96===g?_(g):34===g||39===g?(m.consume(g),T=g,tagOpenAttributeValueQuoted):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=tagOpenAttributeValueBefore,lineEndingBefore(g)):use_markdown_node_modules_micromark_util_character_markdownSpace(g)?(m.consume(g),tagOpenAttributeValueBefore):(m.consume(g),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(g){return g===T?(m.consume(g),T=void 0,tagOpenAttributeValueQuotedAfter):null===g?_(g):use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(k=tagOpenAttributeValueQuoted,lineEndingBefore(g)):(m.consume(g),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(g){return null===g||34===g||39===g||60===g||61===g||96===g?_(g):47===g||62===g||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(g)?tagOpenBetween(g):(m.consume(g),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(m){return 47===m||62===m||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?tagOpenBetween(m):_(m)}function end(T){return 62===T?(m.consume(T),m.exit("htmlTextData"),m.exit("htmlText"),g):_(T)}function lineEndingBefore(g){return m.exit("htmlTextData"),m.enter("lineEnding"),m.consume(g),m.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(g){return use_markdown_node_modules_micromark_util_character_markdownSpace(g)?use_markdown_node_modules_micromark_factory_space_factorySpace(m,lineEndingAfterPrefix,"linePrefix",C.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):lineEndingAfterPrefix(g)}function lineEndingAfterPrefix(g){return m.enter("htmlTextData"),k(g)}}}],91:ar,92:[{name:"hardBreakEscape",tokenize:function(m,g,_){return function(g){return m.enter("hardBreakEscape"),m.consume(g),after};function after(T){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(T)?(m.exit("hardBreakEscape"),g(T)):_(T)}}},i5],93:i8,95:an,96:{name:"codeText",tokenize:function(m,g,_){let T,A,k=0;return function(g){return m.enter("codeText"),m.enter("codeTextSequence"),function sequenceOpen(g){return 96===g?(m.consume(g),k++,sequenceOpen):(m.exit("codeTextSequence"),between(g))}(g)};function between(C){return null===C?_(C):32===C?(m.enter("space"),m.consume(C),m.exit("space"),between):96===C?(A=m.enter("codeTextSequence"),T=0,function sequenceClose(_){return 96===_?(m.consume(_),T++,sequenceClose):T===k?(m.exit("codeTextSequence"),m.exit("codeText"),g(_)):(A.type="codeTextData",data(_))}(C)):use_markdown_node_modules_micromark_util_character_markdownLineEnding(C)?(m.enter("lineEnding"),m.consume(C),m.exit("lineEnding"),between):(m.enter("codeTextData"),data(C))}function data(g){return null===g||32===g||96===g||use_markdown_node_modules_micromark_util_character_markdownLineEnding(g)?(m.exit("codeTextData"),between(g)):(m.consume(g),data)}},resolve:function(m){let g,_,T=m.length-4,A=3;if(("lineEnding"===m[3][1].type||"space"===m[A][1].type)&&("lineEnding"===m[T][1].type||"space"===m[T][1].type)){for(g=A;++g<T;)if("codeTextData"===m[g][1].type){m[A][1].type="codeTextPadding",m[T][1].type="codeTextPadding",A+=2,T-=2;break}}for(g=A-1,T++;++g<=T;)void 0===_?g!==T&&"lineEnding"!==m[g][1].type&&(_=g):(g===T||"lineEnding"===m[g][1].type)&&(m[_][1].type="codeTextData",g!==_+2&&(m[_][1].end=m[g-1][1].end,m.splice(_+2,g-_-2),T-=g-_-2,g=_+2),_=void 0);return m},previous:function(m){return 96!==m||"characterEscape"===this.events[this.events.length-1][1].type}}},ad={null:[an,iH]},am={null:[42,95]},ah={null:[]},ap=/[\0\t\n\r]/g;function decodeNumericCharacterReference(m,g){let _=Number.parseInt(m,g);return _<9||11===_||_>13&&_<32||_>126&&_<160||_>55295&&_<57344||_>64975&&_<65008||(65535&_)==65535||(65535&_)==65534||_>1114111?"":String.fromCodePoint(_)}let af=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(m,g,_){if(g)return g;let T=_.charCodeAt(0);if(35===T){let m=_.charCodeAt(1),g=120===m||88===m;return decodeNumericCharacterReference(_.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(_)||m}function stringifyPosition(m){return m&&"object"==typeof m?"position"in m||"type"in m?unist_util_stringify_position_lib_position(m.position):"start"in m||"end"in m?unist_util_stringify_position_lib_position(m):"line"in m||"column"in m?unist_util_stringify_position_lib_point(m):"":""}function unist_util_stringify_position_lib_point(m){return index(m&&m.line)+":"+index(m&&m.column)}function unist_util_stringify_position_lib_position(m){return unist_util_stringify_position_lib_point(m&&m.start)+"-"+unist_util_stringify_position_lib_point(m&&m.end)}function index(m){return m&&"number"==typeof m?m:1}let ag={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(m){return{line:m.line,column:m.column,offset:m.offset}}function defaultOnError(m,g){if(m)throw Error("Cannot close `"+m.type+"` ("+stringifyPosition({start:m.start,end:m.end})+"): a different token (`"+g.type+"`, "+stringifyPosition({start:g.start,end:g.end})+") is open");throw Error("Cannot close document, a token (`"+g.type+"`, "+stringifyPosition({start:g.start,end:g.end})+") is still open")}function remarkParse(m){let g=this;g.parser=function(_){var T,A;let k,C,S,w;return"string"!=typeof(T={...g.data("settings"),...m,extensions:g.data("micromarkExtensions")||[],mdastExtensions:g.data("fromMarkdownExtensions")||[]})&&(A=T,T=void 0),(function(m){let g={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(m){return{type:"listItem",spread:m._spread,checked:null,children:[]}}),listItemValue:function(m){if(this.data.expectingFirstListItemValue){let g=this.stack[this.stack.length-2];g.start=Number.parseInt(this.sliceSerialize(m),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(m){let g=this.stack[this.stack.length-1];if(!g.depth){let _=this.sliceSerialize(m).length;g.depth=_}},autolink:closer(),autolinkEmail:function(m){onexitdata.call(this,m);let g=this.stack[this.stack.length-1];g.url="mailto:"+this.sliceSerialize(m)},autolinkProtocol:function(m){onexitdata.call(this,m);let g=this.stack[this.stack.length-1];g.url=this.sliceSerialize(m)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(m){let g;let _=this.sliceSerialize(m),T=this.data.characterReferenceType;if(T)g=decodeNumericCharacterReference(_,"characterReferenceMarkerNumeric"===T?10:16),this.data.characterReferenceType=void 0;else{let m=decodeNamedCharacterReference(_);g=m}let A=this.stack.pop();A.value+=g,A.position.end=mdast_util_from_markdown_lib_point(m.end)},codeFenced:closer(function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.value=m.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.lang=m},codeFencedFenceMeta:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.meta=m},codeFlowValue:onexitdata,codeIndented:closer(function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.value=m.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.value=m}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.url=m},definitionLabelString:function(m){let g=this.resume(),_=this.stack[this.stack.length-1];_.label=g,_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(m)).toLowerCase()},definitionTitleString:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.title=m},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.value=m}),htmlFlowData:onexitdata,htmlText:closer(function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.value=m}),htmlTextData:onexitdata,image:closer(function(){let m=this.stack[this.stack.length-1];if(this.data.inReference){let g=this.data.referenceType||"shortcut";m.type+="Reference",m.referenceType=g,delete m.url,delete m.title}else delete m.identifier,delete m.label;this.data.referenceType=void 0}),label:function(){let m=this.stack[this.stack.length-1],g=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===_.type){let g=m.children;_.children=g}else _.alt=g},labelText:function(m){let g=this.sliceSerialize(m),_=this.stack[this.stack.length-2];_.label=g.replace(af,decode),_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(g).toLowerCase()},lineEnding:function(m){let _=this.stack[this.stack.length-1];if(this.data.atHardBreak){let g=_.children[_.children.length-1];g.position.end=mdast_util_from_markdown_lib_point(m.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&g.canContainEols.includes(_.type)&&(onenterdata.call(this,m),onexitdata.call(this,m))},link:closer(function(){let m=this.stack[this.stack.length-1];if(this.data.inReference){let g=this.data.referenceType||"shortcut";m.type+="Reference",m.referenceType=g,delete m.url,delete m.title}else delete m.identifier,delete m.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(m){let g=this.resume(),_=this.stack[this.stack.length-1];_.label=g,_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(m)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.url=m},resourceTitleString:function(){let m=this.resume(),g=this.stack[this.stack.length-1];g.title=m},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(m){let g=this.stack[this.stack.length-1];g.depth=61===this.sliceSerialize(m).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(m,g){let _=-1;for(;++_<g.length;){let T=g[_];Array.isArray(T)?configure(m,T):function(m,g){let _;for(_ in g)if(ag.call(g,_))switch(_){case"canContainEols":{let T=g[_];T&&m[_].push(...T);break}case"transforms":{let T=g[_];T&&m[_].push(...T);break}case"enter":case"exit":{let T=g[_];T&&Object.assign(m[_],T)}}}(m,T)}})(g,(m||{}).mdastExtensions||[]);let _={};return function(m){let T={type:"root",children:[]},A={stack:[T],tokenStack:[],config:g,enter,exit,buffer,resume,data:_},k=[],C=-1;for(;++C<m.length;)if("listOrdered"===m[C][1].type||"listUnordered"===m[C][1].type){if("enter"===m[C][0])k.push(C);else{let g=k.pop();C=function(m,g,_){let T,A,k,C,S=g-1,w=-1,N=!1;for(;++S<=_;){let g=m[S];switch(g[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===g[0]?w++:w--,C=void 0;break;case"lineEndingBlank":"enter"===g[0]&&(!T||C||w||k||(k=S),C=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:C=void 0}if(!w&&"enter"===g[0]&&"listItemPrefix"===g[1].type||-1===w&&"exit"===g[0]&&("listUnordered"===g[1].type||"listOrdered"===g[1].type)){if(T){let C=S;for(A=void 0;C--;){let g=m[C];if("lineEnding"===g[1].type||"lineEndingBlank"===g[1].type){if("exit"===g[0])continue;A&&(m[A][1].type="lineEndingBlank",N=!0),g[1].type="lineEnding",A=C}else if("linePrefix"===g[1].type||"blockQuotePrefix"===g[1].type||"blockQuotePrefixWhitespace"===g[1].type||"blockQuoteMarker"===g[1].type||"listItemIndent"===g[1].type);else break}k&&(!A||k<A)&&(T._spread=!0),T.end=Object.assign({},A?m[A][1].start:g[1].end),m.splice(A||S,0,["exit",T,g[2]]),S++,_++}if("listItemPrefix"===g[1].type){let A={type:"listItem",_spread:!1,start:Object.assign({},g[1].start),end:void 0};T=A,m.splice(S,0,["enter",A,g[2]]),S++,_++,k=void 0,C=!0}}}return m[g][1]._spread=N,_}(m,g,C)}}for(C=-1;++C<m.length;){let _=g[m[C][0]];ag.call(_,m[C][1].type)&&_[m[C][1].type].call(Object.assign({sliceSerialize:m[C][2].sliceSerialize},A),m[C][1])}if(A.tokenStack.length>0){let m=A.tokenStack[A.tokenStack.length-1],g=m[1]||defaultOnError;g.call(A,void 0,m[0])}for(T.position={start:mdast_util_from_markdown_lib_point(m.length>0?m[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(m.length>0?m[m.length-2][1].end:{line:1,column:1,offset:0})},C=-1;++C<g.transforms.length;)T=g.transforms[C](T)||T;return T};function opener(m,g){return function(_){enter.call(this,m(_),_),g&&g.call(this,_)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(m,g,_){let T=this.stack[this.stack.length-1],A=T.children;A.push(m),this.stack.push(m),this.tokenStack.push([g,_]),m.position={start:mdast_util_from_markdown_lib_point(g.start),end:void 0}}function closer(m){return function(g){m&&m.call(this,g),exit.call(this,g)}}function exit(m,g){let _=this.stack.pop(),T=this.tokenStack.pop();if(T){if(T[0].type!==m.type){if(g)g.call(this,m,T[0]);else{let g=T[1]||defaultOnError;g.call(this,m,T[0])}}}else throw Error("Cannot close `"+m.type+"` ("+stringifyPosition({start:m.start,end:m.end})+"): its not open");_.position.end=mdast_util_from_markdown_lib_point(m.end)}function resume(){return function(m,g){let _="boolean"!=typeof ik.includeImageAlt||ik.includeImageAlt,T="boolean"!=typeof ik.includeHtml||ik.includeHtml;return use_markdown_node_modules_mdast_util_to_string_lib_one(m,_,T)}(this.stack.pop())}function onenterdata(m){let g=this.stack[this.stack.length-1],_=g.children,T=_[_.length-1];T&&"text"===T.type||((T={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(m.start),end:void 0},_.push(T)),this.stack.push(T)}function onexitdata(m){let g=this.stack.pop();g.value+=this.sliceSerialize(m),g.position.end=mdast_util_from_markdown_lib_point(m.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(m){this.data.characterReferenceType=m.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(m){return{type:"list",ordered:"listOrdered"===m.type,start:null,spread:m._spread,children:[]}}})(A)(function(m){for(;!subtokenize(m););return m}((function(m){let g=function(m){let g={},_=-1;for(;++_<m.length;)(function(m,g){let _;for(_ in g){let T;let A=iv.call(m,_)?m[_]:void 0,k=A||(m[_]={}),C=g[_];if(C)for(T in C){iv.call(k,T)||(k[T]=[]);let m=C[T];(function(m,g){let _=-1,T=[];for(;++_<g.length;)("after"===g[_].add?m:T).push(g[_]);node_modules_micromark_util_chunked_splice(m,0,0,T)})(k[T],Array.isArray(m)?m:m?[m]:[])}}})(g,m[_]);return g}([eb,...(m||{}).extensions||[]]),_={defined:[],lazy:{},constructs:g,content:create(iR),document:create(iD),flow:create(iB),string:create(iU),text:create(iz)};return _;function create(m){return function(g){return function(m,g,_){let T=Object.assign(_?Object.assign({},_):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),A={},k=[],C=[],S=[],w={consume:function(m){use_markdown_node_modules_micromark_util_character_markdownLineEnding(m)?(T.line++,T.column=1,T.offset+=-3===m?2:1,accountForPotentialSkip()):-1!==m&&(T.column++,T.offset++),T._bufferIndex<0?T._index++:(T._bufferIndex++,T._bufferIndex===C[T._index].length&&(T._bufferIndex=-1,T._index++)),N.previous=m},enter:function(m,g){let _=g||{};return _.type=m,_.start=now(),N.events.push(["enter",_,N]),S.push(_),_},exit:function(m){let g=S.pop();return g.end=now(),N.events.push(["exit",g,N]),g},attempt:constructFactory(function(m,g){addResult(m,g.from)}),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},N={previous:null,code:null,containerState:{},events:[],parser:m,sliceStream,sliceSerialize:function(m,g){return function(m,g){let _,T=-1,A=[];for(;++T<m.length;){let k;let C=m[T];if("string"==typeof C)k=C;else switch(C){case -5:k="\r";break;case -4:k="\n";break;case -3:k="\r\n";break;case -2:k=g?" ":"	";break;case -1:if(!g&&_)continue;k=" ";break;default:k=String.fromCharCode(C)}_=-2===C,A.push(k)}return A.join("")}(sliceStream(m),g)},now,defineSkip:function(m){A[m.line]=m.column,accountForPotentialSkip()},write:function(m){return(C=node_modules_micromark_util_chunked_push(C,m),function(){let m;for(;T._index<C.length;){var g;let _=C[T._index];if("string"==typeof _)for(m=T._index,T._bufferIndex<0&&(T._bufferIndex=0);T._index===m&&T._bufferIndex<_.length;)g=_.charCodeAt(T._bufferIndex),O=O(g);else O=O(_)}}(),null!==C[C.length-1])?[]:(addResult(g,0),N.events=micromark_util_resolve_all_resolveAll(k,N.events,N),N.events)}},O=g.tokenize.call(N,w);return g.resolveAll&&k.push(g),N;function sliceStream(m){return function(m,g){let _;let T=g.start._index,A=g.start._bufferIndex,k=g.end._index,C=g.end._bufferIndex;if(T===k)_=[m[T].slice(A,C)];else{if(_=m.slice(T,k),A>-1){let m=_[0];"string"==typeof m?_[0]=m.slice(A):_.shift()}C>0&&_.push(m[k].slice(0,C))}return _}(C,m)}function now(){let{line:m,column:g,offset:_,_index:A,_bufferIndex:k}=T;return{line:m,column:g,offset:_,_index:A,_bufferIndex:k}}function onsuccessfulcheck(m,g){g.restore()}function constructFactory(m,g){return function(_,A,k){let C,O,R,L;return Array.isArray(_)?handleListOfConstructs(_):"tokenize"in _?handleListOfConstructs([_]):function(m){let g=null!==m&&_[m],T=null!==m&&_.null,A=[...Array.isArray(g)?g:g?[g]:[],...Array.isArray(T)?T:T?[T]:[]];return handleListOfConstructs(A)(m)};function handleListOfConstructs(m){return(C=m,O=0,0===m.length)?k:handleConstruct(m[O])}function handleConstruct(m){return function(_){return(L=function(){let m=now(),g=N.previous,_=N.currentConstruct,A=N.events.length,k=Array.from(S);return{restore:function(){T=m,N.previous=g,N.currentConstruct=_,N.events.length=A,S=k,accountForPotentialSkip()},from:A}}(),R=m,m.partial||(N.currentConstruct=m),m.name&&N.parser.constructs.disable.null.includes(m.name))?nok(_):m.tokenize.call(g?Object.assign(Object.create(N),g):N,w,ok,nok)(_)}}function ok(g){return m(R,L),A}function nok(m){return(L.restore(),++O<C.length)?handleConstruct(C[O]):k}}}function addResult(m,g){m.resolveAll&&!k.includes(m)&&k.push(m),m.resolve&&node_modules_micromark_util_chunked_splice(N.events,g,N.events.length-g,m.resolve(N.events.slice(g),N)),m.resolveTo&&(N.events=m.resolveTo(N.events,N))}function accountForPotentialSkip(){T.line in A&&T.column<2&&(T.column=A[T.line],T.offset+=A[T.line]-1)}}(_,m,g)}}})(A).document().write((C=1,S="",w=!0,function(m,g,_){let T,A,N,O,R;let L=[];for(m=S+("string"==typeof m?m.toString():new TextDecoder(g||void 0).decode(m)),N=0,S="",w&&(65279===m.charCodeAt(0)&&N++,w=void 0);N<m.length;){if(ap.lastIndex=N,O=(T=ap.exec(m))&&void 0!==T.index?T.index:m.length,R=m.charCodeAt(O),!T){S=m.slice(N);break}if(10===R&&N===O&&k)L.push(-3),k=void 0;else switch(k&&(L.push(-5),k=void 0),N<O&&(L.push(m.slice(N,O)),C+=O-N),R){case 0:L.push(65533),C++;break;case 9:for(A=4*Math.ceil(C/4),L.push(-2);C++<A;)L.push(-1);break;case 10:L.push(-4),C=1;break;default:k=!0,C=1}N=O+1}return _&&(k&&L.push(-5),S&&L.push(S),L.push(null)),L})(_,T,!0))))}}function normalizeUri(m){let g=[],_=-1,T=0,A=0;for(;++_<m.length;){let k=m.charCodeAt(_),C="";if(37===k&&ix(m.charCodeAt(_+1))&&ix(m.charCodeAt(_+2)))A=2;else if(k<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(k))||(C=String.fromCharCode(k));else if(k>55295&&k<57344){let g=m.charCodeAt(_+1);k<56320&&g>56319&&g<57344?(C=String.fromCharCode(k,g),A=1):C=""}else C=String.fromCharCode(k);C&&(g.push(m.slice(T,_),encodeURIComponent(C)),T=_+A+1,C=""),A&&(_+=A,A=0)}return g.join("")+m.slice(T)}function defaultFootnoteBackContent(m,g){let _=[{type:"text",value:""}];return g>1&&_.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(g)}]}),_}function defaultFootnoteBackLabel(m,g){return"Back to reference "+(m+1)+(g>1?"-"+g:"")}let use_markdown_node_modules_unist_util_is_lib_convert=function(m){if(null==m)return use_markdown_node_modules_unist_util_is_lib_ok;if("function"==typeof m)return use_markdown_node_modules_unist_util_is_lib_castFactory(m);if("object"==typeof m)return Array.isArray(m)?function(m){let g=[],_=-1;for(;++_<m.length;)g[_]=use_markdown_node_modules_unist_util_is_lib_convert(m[_]);return use_markdown_node_modules_unist_util_is_lib_castFactory(function(...m){let _=-1;for(;++_<g.length;)if(g[_].apply(this,m))return!0;return!1})}(m):use_markdown_node_modules_unist_util_is_lib_castFactory(function(g){let _;for(_ in m)if(g[_]!==m[_])return!1;return!0});if("string"==typeof m)return use_markdown_node_modules_unist_util_is_lib_castFactory(function(g){return g&&g.type===m});throw Error("Expected function, string, or object as test")};function use_markdown_node_modules_unist_util_is_lib_castFactory(m){return function(g,_,T){var A;return!!(null!==(A=g)&&"object"==typeof A&&"type"in A&&m.call(this,g,"number"==typeof _?_:void 0,T||void 0))}}function use_markdown_node_modules_unist_util_is_lib_ok(){return!0}let a_=[],aE=unist_util_position_lib_point("end"),aT=unist_util_position_lib_point("start");function unist_util_position_lib_point(m){return function(g){let _=g&&g.position&&g.position[m]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}function revert(m,g){let _=g.referenceType,T="]";if("collapsed"===_?T+="[]":"full"===_&&(T+="["+(g.label||g.identifier)+"]"),"imageReference"===g.type)return[{type:"text",value:"!["+g.alt+T}];let A=m.all(g),k=A[0];k&&"text"===k.type?k.value="["+k.value:A.unshift({type:"text",value:"["});let C=A[A.length-1];return C&&"text"===C.type?C.value+=T:A.push({type:"text",value:T}),A}function listItemLoose(m){let g=m.spread;return null==g?m.children.length>1:g}function trimLine(m,g,_){let T=0,A=m.length;if(g){let g=m.codePointAt(T);for(;9===g||32===g;)T++,g=m.codePointAt(T)}if(_){let g=m.codePointAt(A-1);for(;9===g||32===g;)A--,g=m.codePointAt(A-1)}return A>T?m.slice(T,A):""}let aA={blockquote:function(m,g){let _={type:"element",tagName:"blockquote",properties:{},children:m.wrap(m.all(g),!0)};return m.patch(g,_),m.applyData(g,_)},break:function(m,g){let _={type:"element",tagName:"br",properties:{},children:[]};return m.patch(g,_),[m.applyData(g,_),{type:"text",value:"\n"}]},code:function(m,g){let _=g.value?g.value+"\n":"",T={};g.lang&&(T.className=["language-"+g.lang]);let A={type:"element",tagName:"code",properties:T,children:[{type:"text",value:_}]};return g.meta&&(A.data={meta:g.meta}),m.patch(g,A),A={type:"element",tagName:"pre",properties:{},children:[A=m.applyData(g,A)]},m.patch(g,A),A},delete:function(m,g){let _={type:"element",tagName:"del",properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},emphasis:function(m,g){let _={type:"element",tagName:"em",properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},footnoteReference:function(m,g){let _;let T="string"==typeof m.options.clobberPrefix?m.options.clobberPrefix:"user-content-",A=String(g.identifier).toUpperCase(),k=normalizeUri(A.toLowerCase()),C=m.footnoteOrder.indexOf(A),S=m.footnoteCounts.get(A);void 0===S?(S=0,m.footnoteOrder.push(A),_=m.footnoteOrder.length):_=C+1,S+=1,m.footnoteCounts.set(A,S);let w={type:"element",tagName:"a",properties:{href:"#"+T+"fn-"+k,id:T+"fnref-"+k+(S>1?"-"+S:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(_)}]};m.patch(g,w);let N={type:"element",tagName:"sup",properties:{},children:[w]};return m.patch(g,N),m.applyData(g,N)},heading:function(m,g){let _={type:"element",tagName:"h"+g.depth,properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},html:function(m,g){if(m.options.allowDangerousHtml){let _={type:"raw",value:g.value};return m.patch(g,_),m.applyData(g,_)}},imageReference:function(m,g){let _=String(g.identifier).toUpperCase(),T=m.definitionById.get(_);if(!T)return revert(m,g);let A={src:normalizeUri(T.url||""),alt:g.alt};null!==T.title&&void 0!==T.title&&(A.title=T.title);let k={type:"element",tagName:"img",properties:A,children:[]};return m.patch(g,k),m.applyData(g,k)},image:function(m,g){let _={src:normalizeUri(g.url)};null!==g.alt&&void 0!==g.alt&&(_.alt=g.alt),null!==g.title&&void 0!==g.title&&(_.title=g.title);let T={type:"element",tagName:"img",properties:_,children:[]};return m.patch(g,T),m.applyData(g,T)},inlineCode:function(m,g){let _={type:"text",value:g.value.replace(/\r?\n|\r/g," ")};m.patch(g,_);let T={type:"element",tagName:"code",properties:{},children:[_]};return m.patch(g,T),m.applyData(g,T)},linkReference:function(m,g){let _=String(g.identifier).toUpperCase(),T=m.definitionById.get(_);if(!T)return revert(m,g);let A={href:normalizeUri(T.url||"")};null!==T.title&&void 0!==T.title&&(A.title=T.title);let k={type:"element",tagName:"a",properties:A,children:m.all(g)};return m.patch(g,k),m.applyData(g,k)},link:function(m,g){let _={href:normalizeUri(g.url)};null!==g.title&&void 0!==g.title&&(_.title=g.title);let T={type:"element",tagName:"a",properties:_,children:m.all(g)};return m.patch(g,T),m.applyData(g,T)},listItem:function(m,g,_){let T=m.all(g),A=_?function(m){let g=!1;if("list"===m.type){g=m.spread||!1;let _=m.children,T=-1;for(;!g&&++T<_.length;)g=listItemLoose(_[T])}return g}(_):listItemLoose(g),k={},C=[];if("boolean"==typeof g.checked){let m;let _=T[0];_&&"element"===_.type&&"p"===_.tagName?m=_:(m={type:"element",tagName:"p",properties:{},children:[]},T.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:g.checked,disabled:!0},children:[]}),k.className=["task-list-item"]}let S=-1;for(;++S<T.length;){let m=T[S];(A||0!==S||"element"!==m.type||"p"!==m.tagName)&&C.push({type:"text",value:"\n"}),"element"!==m.type||"p"!==m.tagName||A?C.push(m):C.push(...m.children)}let w=T[T.length-1];w&&(A||"element"!==w.type||"p"!==w.tagName)&&C.push({type:"text",value:"\n"});let N={type:"element",tagName:"li",properties:k,children:C};return m.patch(g,N),m.applyData(g,N)},list:function(m,g){let _={},T=m.all(g),A=-1;for("number"==typeof g.start&&1!==g.start&&(_.start=g.start);++A<T.length;){let m=T[A];if("element"===m.type&&"li"===m.tagName&&m.properties&&Array.isArray(m.properties.className)&&m.properties.className.includes("task-list-item")){_.className=["contains-task-list"];break}}let k={type:"element",tagName:g.ordered?"ol":"ul",properties:_,children:m.wrap(T,!0)};return m.patch(g,k),m.applyData(g,k)},paragraph:function(m,g){let _={type:"element",tagName:"p",properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},root:function(m,g){let _={type:"root",children:m.wrap(m.all(g))};return m.patch(g,_),m.applyData(g,_)},strong:function(m,g){let _={type:"element",tagName:"strong",properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},table:function(m,g){let _=m.all(g),T=_.shift(),A=[];if(T){let _={type:"element",tagName:"thead",properties:{},children:m.wrap([T],!0)};m.patch(g.children[0],_),A.push(_)}if(_.length>0){let T={type:"element",tagName:"tbody",properties:{},children:m.wrap(_,!0)},k=aT(g.children[1]),C=aE(g.children[g.children.length-1]);k&&C&&(T.position={start:k,end:C}),A.push(T)}let k={type:"element",tagName:"table",properties:{},children:m.wrap(A,!0)};return m.patch(g,k),m.applyData(g,k)},tableCell:function(m,g){let _={type:"element",tagName:"td",properties:{},children:m.all(g)};return m.patch(g,_),m.applyData(g,_)},tableRow:function(m,g,_){let T=_?_.children:void 0,A=T?T.indexOf(g):1,k=0===A?"th":"td",C=_&&"table"===_.type?_.align:void 0,S=C?C.length:g.children.length,w=-1,N=[];for(;++w<S;){let _=g.children[w],T={},A=C?C[w]:void 0;A&&(T.align=A);let S={type:"element",tagName:k,properties:T,children:[]};_&&(S.children=m.all(_),m.patch(_,S),S=m.applyData(_,S)),N.push(S)}let O={type:"element",tagName:"tr",properties:{},children:m.wrap(N,!0)};return m.patch(g,O),m.applyData(g,O)},text:function(m,g){let _={type:"text",value:function(m){let g=String(m),_=/\r?\n|\r/g,T=_.exec(g),A=0,k=[];for(;T;)k.push(trimLine(g.slice(A,T.index),A>0,!0),T[0]),A=T.index+T[0].length,T=_.exec(g);return k.push(trimLine(g.slice(A),A>0,!1)),k.join("")}(String(g.value))};return m.patch(g,_),m.applyData(g,_)},thematicBreak:function(m,g){let _={type:"element",tagName:"hr",properties:{},children:[]};return m.patch(g,_),m.applyData(g,_)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let ay={}.hasOwnProperty,ak={};function state_patch(m,g){m.position&&(g.position=function(m){let g=aT(m),_=aE(m);if(g&&_)return{start:g,end:_}}(m))}function applyData(m,g){let _=g;if(m&&m.data){let g=m.data.hName,T=m.data.hChildren,A=m.data.hProperties;if("string"==typeof g){if("element"===_.type)_.tagName=g;else{let m="children"in _?_.children:[_];_={type:"element",tagName:g,properties:{},children:m}}}"element"===_.type&&A&&Object.assign(_.properties,nm(A)),"children"in _&&_.children&&null!=T&&(_.children=T)}return _}function defaultUnknownHandler(m,g){let _=g.data||{},T="value"in g&&!(ay.call(_,"hProperties")||ay.call(_,"hChildren"))?{type:"text",value:g.value}:{type:"element",tagName:"div",properties:{},children:m.all(g)};return m.patch(g,T),m.applyData(g,T)}function wrap(m,g){let _=[],T=-1;for(g&&_.push({type:"text",value:"\n"});++T<m.length;)T&&_.push({type:"text",value:"\n"}),_.push(m[T]);return g&&m.length>0&&_.push({type:"text",value:"\n"}),_}function trimMarkdownSpaceStart(m){let g=0,_=m.charCodeAt(g);for(;9===_||32===_;)g++,_=m.charCodeAt(g);return m.slice(g)}function toHast(m,g){let _=function(m,g){var _,T;let A,k,C;let S=g||ak,w=new Map,N=new Map,O=new Map,R={...aA,...S.handlers},L={all:function(m){let g=[];if("children"in m){let _=m.children,T=-1;for(;++T<_.length;){let A=L.one(_[T],m);if(A){if(T&&"break"===_[T-1].type&&(Array.isArray(A)||"text"!==A.type||(A.value=trimMarkdownSpaceStart(A.value)),!Array.isArray(A)&&"element"===A.type)){let m=A.children[0];m&&"text"===m.type&&(m.value=trimMarkdownSpaceStart(m.value))}Array.isArray(A)?g.push(...A):g.push(A)}}}return g},applyData,definitionById:w,footnoteById:N,footnoteCounts:O,footnoteOrder:[],handlers:R,one:function(m,g){let _=m.type,T=L.handlers[_];if(ay.call(L.handlers,_)&&T)return T(L,m,g);if(L.options.passThrough&&L.options.passThrough.includes(_)){if("children"in m){let{children:g,..._}=m,T=nm(_);return T.children=L.all(m),T}return nm(m)}let A=L.options.unknownHandler||defaultUnknownHandler;return A(L,m,g)},options:S,patch:state_patch,wrap};return"function"==typeof(_=function(m){if("definition"===m.type||"footnoteDefinition"===m.type){let g="definition"===m.type?w:N,_=String(m.identifier).toUpperCase();g.has(_)||g.set(_,m)}})&&"function"!=typeof T?(k=void 0,C=_,A=T):(k=_,C=T,A=void 0),function(m,g,_,T){let A;"function"==typeof g&&"function"!=typeof _?(T=_,_=g):A=g;let k=use_markdown_node_modules_unist_util_is_lib_convert(A),C=T?-1:1;(function factory(m,A,S){let w=m&&"object"==typeof m?m:{};if("string"==typeof w.type){let g="string"==typeof w.tagName?w.tagName:"string"==typeof w.name?w.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+m.type+(g?"<"+g+">":"")+")"})}return visit;function visit(){var w;let N,O,R,L=a_;if((!g||k(m,A,S[S.length-1]||void 0))&&!1===(L=Array.isArray(w=_(m,S))?w:"number"==typeof w?[!0,w]:null==w?a_:[w])[0])return L;if("children"in m&&m.children&&m.children&&"skip"!==L[0])for(O=(T?m.children.length:-1)+C,R=S.concat(m);O>-1&&O<m.children.length;){let g=m.children[O];if(!1===(N=factory(g,O,R)())[0])return N;O="number"==typeof N[1]?N[1]:O+C}return L}})(m,void 0,[])()}(m,k,function(m,g){let _=g[g.length-1],T=_?_.children.indexOf(m):void 0;return C(m,T,_)},A),L}(m,g),T=_.one(m,void 0),A=function(m){let g="string"==typeof m.options.clobberPrefix?m.options.clobberPrefix:"user-content-",_=m.options.footnoteBackContent||defaultFootnoteBackContent,T=m.options.footnoteBackLabel||defaultFootnoteBackLabel,A=m.options.footnoteLabel||"Footnotes",k=m.options.footnoteLabelTagName||"h2",C=m.options.footnoteLabelProperties||{className:["sr-only"]},S=[],w=-1;for(;++w<m.footnoteOrder.length;){let A=m.footnoteById.get(m.footnoteOrder[w]);if(!A)continue;let k=m.all(A),C=String(A.identifier).toUpperCase(),N=normalizeUri(C.toLowerCase()),O=0,R=[],L=m.footnoteCounts.get(C);for(;void 0!==L&&++O<=L;){R.length>0&&R.push({type:"text",value:" "});let m="string"==typeof _?_:_(w,O);"string"==typeof m&&(m={type:"text",value:m}),R.push({type:"element",tagName:"a",properties:{href:"#"+g+"fnref-"+N+(O>1?"-"+O:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof T?T:T(w,O),className:["data-footnote-backref"]},children:Array.isArray(m)?m:[m]})}let P=k[k.length-1];if(P&&"element"===P.type&&"p"===P.tagName){let m=P.children[P.children.length-1];m&&"text"===m.type?m.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...R)}else k.push(...R);let F={type:"element",tagName:"li",properties:{id:g+"fn-"+N},children:m.wrap(k,!0)};m.patch(A,F),S.push(F)}if(0!==S.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:k,properties:{...nm(C),id:"footnote-label"},children:[{type:"text",value:A}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:m.wrap(S,!0)},{type:"text",value:"\n"}]}}(_),k=Array.isArray(T)?{type:"root",children:T}:T||{type:"root",children:[]};return A&&k.children.push({type:"text",value:"\n"},A),k}function remarkRehype(m,g){return m&&"run"in m?async function(_,T){let A=toHast(_,{file:T,...g});await m.run(A,T)}:function(_,T){return toHast(_,{file:T,...g||m})}}function bail(m){if(m)throw m}var av=_(4470);function is_plain_obj_isPlainObject(m){if("object"!=typeof m||null===m)return!1;let g=Object.getPrototypeOf(m);return(null===g||g===Object.prototype||null===Object.getPrototypeOf(g))&&!(Symbol.toStringTag in m)&&!(Symbol.iterator in m)}let VFileMessage=class VFileMessage extends Error{constructor(m,g,_){super(),"string"==typeof g&&(_=g,g=void 0);let T="",A={},k=!1;if(g&&(A="line"in g&&"column"in g?{place:g}:"start"in g&&"end"in g?{place:g}:"type"in g?{ancestors:[g],place:g.position}:{...g}),"string"==typeof m?T=m:!A.cause&&m&&(k=!0,T=m.message,A.cause=m),!A.ruleId&&!A.source&&"string"==typeof _){let m=_.indexOf(":");-1===m?A.ruleId=_:(A.source=_.slice(0,m),A.ruleId=_.slice(m+1))}if(!A.place&&A.ancestors&&A.ancestors){let m=A.ancestors[A.ancestors.length-1];m&&(A.place=m.position)}let C=A.place&&"start"in A.place?A.place.start:A.place;this.ancestors=A.ancestors||void 0,this.cause=A.cause||void 0,this.column=C?C.column:void 0,this.fatal=void 0,this.file,this.message=T,this.line=C?C.line:void 0,this.name=stringifyPosition(A.place)||"1:1",this.place=A.place||void 0,this.reason=this.message,this.ruleId=A.ruleId||void 0,this.source=A.source||void 0,this.stack=k&&A.cause&&"string"==typeof A.cause.stack?A.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let ab={basename:function(m,g){let _;if(void 0!==g&&"string"!=typeof g)throw TypeError('"ext" argument must be a string');assertPath(m);let T=0,A=-1,k=m.length;if(void 0===g||0===g.length||g.length>m.length){for(;k--;)if(47===m.codePointAt(k)){if(_){T=k+1;break}}else A<0&&(_=!0,A=k+1);return A<0?"":m.slice(T,A)}if(g===m)return"";let C=-1,S=g.length-1;for(;k--;)if(47===m.codePointAt(k)){if(_){T=k+1;break}}else C<0&&(_=!0,C=k+1),S>-1&&(m.codePointAt(k)===g.codePointAt(S--)?S<0&&(A=k):(S=-1,A=C));return T===A?A=C:A<0&&(A=m.length),m.slice(T,A)},dirname:function(m){let g;if(assertPath(m),0===m.length)return".";let _=-1,T=m.length;for(;--T;)if(47===m.codePointAt(T)){if(g){_=T;break}}else g||(g=!0);return _<0?47===m.codePointAt(0)?"/":".":1===_&&47===m.codePointAt(0)?"//":m.slice(0,_)},extname:function(m){let g;assertPath(m);let _=m.length,T=-1,A=0,k=-1,C=0;for(;_--;){let S=m.codePointAt(_);if(47===S){if(g){A=_+1;break}continue}T<0&&(g=!0,T=_+1),46===S?k<0?k=_:1!==C&&(C=1):k>-1&&(C=-1)}return k<0||T<0||0===C||1===C&&k===T-1&&k===A+1?"":m.slice(k,T)},join:function(...m){let g,_=-1;for(;++_<m.length;)assertPath(m[_]),m[_]&&(g=void 0===g?m[_]:g+"/"+m[_]);return void 0===g?".":function(m){assertPath(m);let g=47===m.codePointAt(0),_=function(m,g){let _,T,A="",k=0,C=-1,S=0,w=-1;for(;++w<=m.length;){if(w<m.length)_=m.codePointAt(w);else if(47===_)break;else _=47;if(47===_){if(C===w-1||1===S);else if(C!==w-1&&2===S){if(A.length<2||2!==k||46!==A.codePointAt(A.length-1)||46!==A.codePointAt(A.length-2)){if(A.length>2){if((T=A.lastIndexOf("/"))!==A.length-1){T<0?(A="",k=0):k=(A=A.slice(0,T)).length-1-A.lastIndexOf("/"),C=w,S=0;continue}}else if(A.length>0){A="",k=0,C=w,S=0;continue}}g&&(A=A.length>0?A+"/..":"..",k=2)}else A.length>0?A+="/"+m.slice(C+1,w):A=m.slice(C+1,w),k=w-C-1;C=w,S=0}else 46===_&&S>-1?S++:S=-1}return A}(m,!g);return 0!==_.length||g||(_="."),_.length>0&&47===m.codePointAt(m.length-1)&&(_+="/"),g?"/"+_:_}(g)},sep:"/"};function assertPath(m){if("string"!=typeof m)throw TypeError("Path must be a string. Received "+JSON.stringify(m))}function isUrl(m){return!!(null!==m&&"object"==typeof m&&"href"in m&&m.href&&"protocol"in m&&m.protocol&&void 0===m.auth)}let ax=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(m){let g,_;g=m?isUrl(m)?{path:m}:"string"==typeof m||m&&"object"==typeof m&&"byteLength"in m&&"byteOffset"in m?{value:m}:m:{},this.cwd="/",this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let T=-1;for(;++T<ax.length;){let m=ax[T];m in g&&void 0!==g[m]&&null!==g[m]&&(this[m]="history"===m?[...g[m]]:g[m])}for(_ in g)ax.includes(_)||(this[_]=g[_])}get basename(){return"string"==typeof this.path?ab.basename(this.path):void 0}set basename(m){assertNonEmpty(m,"basename"),assertPart(m,"basename"),this.path=ab.join(this.dirname||"",m)}get dirname(){return"string"==typeof this.path?ab.dirname(this.path):void 0}set dirname(m){lib_assertPath(this.basename,"dirname"),this.path=ab.join(m||"",this.basename)}get extname(){return"string"==typeof this.path?ab.extname(this.path):void 0}set extname(m){if(assertPart(m,"extname"),lib_assertPath(this.dirname,"extname"),m){if(46!==m.codePointAt(0))throw Error("`extname` must start with `.`");if(m.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=ab.join(this.dirname,this.stem+(m||""))}get path(){return this.history[this.history.length-1]}set path(m){isUrl(m)&&(m=function(m){if("string"==typeof m)m=new URL(m);else if(!isUrl(m)){let g=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+m+"`");throw g.code="ERR_INVALID_ARG_TYPE",g}if("file:"!==m.protocol){let m=TypeError("The URL must be of scheme file");throw m.code="ERR_INVALID_URL_SCHEME",m}return function(m){if(""!==m.hostname){let m=TypeError('File URL host must be "localhost" or empty on darwin');throw m.code="ERR_INVALID_FILE_URL_HOST",m}let g=m.pathname,_=-1;for(;++_<g.length;)if(37===g.codePointAt(_)&&50===g.codePointAt(_+1)){let m=g.codePointAt(_+2);if(70===m||102===m){let m=TypeError("File URL path must not include encoded / characters");throw m.code="ERR_INVALID_FILE_URL_PATH",m}}return decodeURIComponent(g)}(m)}(m)),assertNonEmpty(m,"path"),this.path!==m&&this.history.push(m)}get stem(){return"string"==typeof this.path?ab.basename(this.path,this.extname):void 0}set stem(m){assertNonEmpty(m,"stem"),assertPart(m,"stem"),this.path=ab.join(this.dirname||"",m+(this.extname||""))}fail(m,g,_){let T=this.message(m,g,_);throw T.fatal=!0,T}info(m,g,_){let T=this.message(m,g,_);return T.fatal=void 0,T}message(m,g,_){let T=new VFileMessage(m,g,_);return this.path&&(T.name=this.path+":"+T.name,T.file=this.path),T.fatal=!1,this.messages.push(T),T}toString(m){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let g=new TextDecoder(m||void 0);return g.decode(this.value)}};function assertPart(m,g){if(m&&m.includes(ab.sep))throw Error("`"+g+"` cannot be a path: did not expect `"+ab.sep+"`")}function assertNonEmpty(m,g){if(!m)throw Error("`"+g+"` cannot be empty")}function lib_assertPath(m,g){if(!m)throw Error("Setting `"+g+"` requires `path` to be set too")}let CallableInstance=function(m){let g=this.constructor,_=g.prototype,T=_[m],apply=function(){return T.apply(apply,arguments)};Object.setPrototypeOf(apply,_);let A=Object.getOwnPropertyNames(T);for(let m of A){let g=Object.getOwnPropertyDescriptor(T,m);g&&Object.defineProperty(apply,m,g)}return apply},aC={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let m=[],g={run:function(...g){let _=-1,T=g.pop();if("function"!=typeof T)throw TypeError("Expected function as last argument, not "+T);(function next(A,...k){let C=m[++_],S=-1;if(A){T(A);return}for(;++S<g.length;)(null===k[S]||void 0===k[S])&&(k[S]=g[S]);g=k,C?(function(m,g){let _;return function(...g){let T;let A=m.length>g.length;A&&g.push(done);try{T=m.apply(this,g)}catch(m){if(A&&_)throw m;return done(m)}A||(T instanceof Promise?T.then(then,done):T instanceof Error?done(T):then(T))};function done(m,...T){_||(_=!0,g(m,...T))}function then(m){done(null,m)}})(C,next)(...k):T(null,...k)})(null,...g)},use:function(_){if("function"!=typeof _)throw TypeError("Expected `middelware` to be a function, not "+_);return m.push(_),g}};return g}()}copy(){let m=new Processor,g=-1;for(;++g<this.attachers.length;){let _=this.attachers[g];m.use(..._)}return m.data(av(!0,{},this.namespace)),m}data(m,g){return"string"==typeof m?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[m]=g,this):aC.call(this.namespace,m)&&this.namespace[m]||void 0:m?(assertUnfrozen("data",this.frozen),this.namespace=m,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[m,...g]=this.attachers[this.freezeIndex];if(!1===g[0])continue;!0===g[0]&&(g[0]=void 0);let _=m.call(this,...g);"function"==typeof _&&this.transformers.use(_)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(m){this.freeze();let g=vfile(m),_=this.parser||this.Parser;return assertParser("parse",_),_(String(g),g)}process(m,g){let _=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),g?executor(void 0,g):new Promise(executor);function executor(T,A){let k=vfile(m),C=_.parse(k);function realDone(m,_){m||!_?A(m):T?T(_):g(void 0,_)}_.run(C,k,function(m,g,T){if(m||!g||!T)return realDone(m);let A=_.stringify(g,T);"string"==typeof A||A&&"object"==typeof A&&"byteLength"in A&&"byteOffset"in A?T.value=A:T.result=A,realDone(m,T)})}}processSync(m){let g,_=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(m,function(m,T){_=!0,bail(m),g=T}),assertDone("processSync","process",_),g}run(m,g,_){assertNode(m),this.freeze();let T=this.transformers;return _||"function"!=typeof g||(_=g,g=void 0),_?executor(void 0,_):new Promise(executor);function executor(A,k){let C=vfile(g);T.run(m,C,function(g,T,C){let S=T||m;g?k(g):A?A(S):_(void 0,S,C)})}}runSync(m,g){let _,T=!1;return this.run(m,g,function(m,g){bail(m),_=g,T=!0}),assertDone("runSync","run",T),_}stringify(m,g){this.freeze();let _=vfile(g),T=this.compiler||this.Compiler;return assertCompiler("stringify",T),assertNode(m),T(m,_)}use(m,...g){let _=this.attachers,T=this.namespace;if(assertUnfrozen("use",this.frozen),null==m);else if("function"==typeof m)addPlugin(m,g);else if("object"==typeof m)Array.isArray(m)?addList(m):addPreset(m);else throw TypeError("Expected usable value, not `"+m+"`");return this;function addPreset(m){if(!("plugins"in m)&&!("settings"in m))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(m.plugins),m.settings&&(T.settings=av(!0,T.settings,m.settings))}function addList(m){let g=-1;if(null==m);else if(Array.isArray(m))for(;++g<m.length;){let _=m[g];!function(m){if("function"==typeof m)addPlugin(m,[]);else if("object"==typeof m){if(Array.isArray(m)){let[g,..._]=m;addPlugin(g,_)}else addPreset(m)}else throw TypeError("Expected usable value, not `"+m+"`")}(_)}else throw TypeError("Expected a list of plugins, not `"+m+"`")}function addPlugin(m,g){let T=-1,A=-1;for(;++T<_.length;)if(_[T][0]===m){A=T;break}if(-1===A)_.push([m,...g]);else if(g.length>0){let[T,...k]=g,C=_[A][1];is_plain_obj_isPlainObject(C)&&is_plain_obj_isPlainObject(T)&&(T=av(!0,C,T)),_[A]=[m,T,...k]}}}};let aI=new Processor().freeze();function assertParser(m,g){if("function"!=typeof g)throw TypeError("Cannot `"+m+"` without `parser`")}function assertCompiler(m,g){if("function"!=typeof g)throw TypeError("Cannot `"+m+"` without `compiler`")}function assertUnfrozen(m,g){if(g)throw Error("Cannot call `"+m+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(m){if(!is_plain_obj_isPlainObject(m)||"string"!=typeof m.type)throw TypeError("Expected node, got `"+m+"`")}function assertDone(m,g,_){if(!_)throw Error("`"+m+"` finished async. Use `"+g+"` instead")}function vfile(m){return m&&"object"==typeof m&&"message"in m&&"messages"in m?m:new VFile(m)}var aS={exports:{}},aw={};aS.exports=function(){if(eT)return aw;eT=1;var m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),_=Object.prototype.hasOwnProperty,T=eS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function x(g,k,C){var S,w={},N=null,O=null;for(S in void 0!==C&&(N=""+C),void 0!==k.key&&(N=""+k.key),void 0!==k.ref&&(O=k.ref),k)_.call(k,S)&&!A.hasOwnProperty(S)&&(w[S]=k[S]);if(g&&g.defaultProps)for(S in k=g.defaultProps)void 0===w[S]&&(w[S]=k[S]);return{$$typeof:m,type:g,key:N,ref:O,props:w,_owner:T.current}}return aw.Fragment=g,aw.jsx=x,aw.jsxs=x,aw}();var aN=aS.exports;async function mr(m){let g=await aI().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(m);return String(g)}var aO=_(4921);let aR={annotations:[],manifest:void 0,searchString:void 0,options:{offset:0},vault:new Vault};function te(m,g){switch(g.type){case"updateAnnotations":return{...m,annotations:g.payload};case"updateSearchString":return{...m,searchString:g.payload};default:return m}}let aD=(0,eS.createContext)({dispatch:()=>null,state:aR}),scroll_re=m=>{let{children:g,manifest:_}=m,T={...aR.options,...m.options},[A,k]=(0,eS.useReducer)(te,aR);return eS.createElement(aD.Provider,{value:{state:{...A,manifest:_,options:T},dispatch:k}},g)},scroll_ne=(m,g="none")=>{if(!m)return null;if("string"==typeof m)return[m];if(!m[g]){let g=Object.getOwnPropertyNames(m);if(g.length>0)return m[g[0]]}return m[g]&&Array.isArray(m[g])?m[g]:null},scroll_B=(m,g="none",_=", ")=>{let T=scroll_ne(m,g);return Array.isArray(T)?T.join(`${_}`):T};function scroll_A(m,g){let _=Object.keys(m).filter(m=>g.includes(m)?null:m),T={};return _.forEach(g=>{T[g]=m[g]}),T}let{styled:aL,css:aP,keyframes:aM,createTheme:aF}=(0,eI.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),aB=aL("span",{}),scroll_M=m=>{let{as:g,label:_}=m,T=scroll_A(m,["as","label"]);return eS.createElement(aB,{as:g,...T},scroll_B(_,T.lang))};aL("img",{objectFit:"cover"}),aL("a",{});let aH={delimiter:", "},aU=(0,eS.createContext)(void 0),de=()=>{let m=(0,eS.useContext)(aU);if(void 0===m)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return m},me=({children:m,initialState:g=aH})=>{let _=ue(g,"delimiter");return eS.createElement(aU.Provider,{value:{delimiter:_}},m)},ue=(m,g)=>Object.hasOwn(m,g)?m[g].toString():void 0,az=aL("span",{}),scroll_P=m=>{let{as:g,markup:_}=m,{delimiter:T}=de();if(!_)return eS.createElement(eS.Fragment,null);let A=scroll_A(m,["as","markup"]),k={__html:ns(scroll_B(_,A.lang,T),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eS.createElement(az,{as:g,...A,dangerouslySetInnerHTML:k})},he=m=>eS.useContext(aU)?eS.createElement(scroll_P,{...m}):eS.createElement(me,null,eS.createElement(scroll_P,{...m}));aL("span",{}),aL("dl",{}),aL("li",{}),aL("ul",{}),aL("li",{}),aL("ul",{}),aL("dl",{}),aL("li",{}),aL("ul",{});let ge=m=>{let{as:g,summary:_}=m,T=scroll_A(m,["as","customValueDelimiter","summary"]);return eS.createElement(he,{as:g,markup:_,...T})},aG=aL("div",{display:"flex",flexDirection:"column",justifyContent:"space-between"}),aj=aL("aside",{margin:"0",padding:"0",position:"relative",zIndex:2,flexGrow:"1",flexShrink:"0",[`& ${aG}`]:{position:"absolute",width:"50%",top:0},"&.anchor":{[`& ${aG}`]:{position:"fixed",width:"50%"}}}),a$=aL("header",{display:"flex",justifyContent:"space-between",fontSize:"1",flexGrow:"1",flexShrink:"0",marginBottom:"1.618rem",strong:{fontWeight:"400",fontSize:"1.33rem"}}),aq=aL("section",{margin:"0",gap:"1rem"}),we=({label:m})=>eS.createElement(a$,null,eS.createElement("strong",null,eS.createElement(scroll_M,{label:m}))),aV=aL("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),aY=aL("div",{transition:"$all",width:"50%",opacity:0,transform:"translateX(2.618rem)",zIndex:-1}),aW=aL("div",{width:"50%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),aQ=aL("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",zIndex:0,display:"flex",justifyContent:"flex-end",marginTop:"2.618rem","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"100%",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),aX=aL("div",{position:"relative",zIndex:"1",display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${aY}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),Ie=({canvas:m,canvasInfo:{current:g,total:_}})=>eS.createElement("figcaption",null,eS.createElement("em",null,g," / ",_),(null==m?void 0:m.label)&&eS.createElement(scroll_M,{label:null==m?void 0:m.label}),(null==m?void 0:m.summary)&&eS.createElement(ge,{summary:null==m?void 0:m.summary,as:"p"})),aK=window.OpenSeadragon;if(!aK&&!(aK=ex))throw Error("OpenSeadragon is missing.");let aZ="http://www.w3.org/2000/svg";aK.Viewer&&(aK.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_V(this)),this._svgOverlayInfo});let scroll_V=function(m){let g=this;this._viewer=m,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(aZ,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(aZ,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};scroll_V.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let m=this._viewer.viewport.pixelFromPoint(new aK.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),T=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,k=A*g,C=k;T&&(k=-k,m.x=-m.x+A),this._node.setAttribute("transform","translate("+m.x+","+m.y+") scale("+k+","+C+") rotate("+_+")")},onClick:function(m,g){new aK.MouseTracker({element:m,clickHandler:g}).setTracking(!0)}};let ke=m=>fetch(`${m.replace(/\/$/,"")}/info.json`).then(m=>m.json()).then(m=>m).catch(g=>{console.error(`The IIIF tilesource ${m.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),Ce=m=>{let g,_;return Array.isArray(m)&&(g=m[0])&&(_="@id"in g?g["@id"]:g.id),_};var aJ=((et=aJ||{}).TiledImage="tiledImage",et.SimpleImage="simpleImage",et);let ze=m=>{let g=Array.isArray(null==m?void 0:m.service)&&(null==m?void 0:m.service.length)>0,_=g?Ce(null==m?void 0:m.service):null==m?void 0:m.id,T=g?aJ.TiledImage:aJ.SimpleImage;return{uri:_,imageType:T}},$e=(m,g)=>{let _=g?aJ.TiledImage:aJ.SimpleImage;return{uri:m,imageType:_}},a0=aL("div",{display:"flex",flexDirection:"column",alignItems:"center"}),a1=aL("p",{fontWeight:"bold",fontSize:"x-large"}),a2=aL("span",{fontSize:"medium"}),Ae=({error:m})=>{let{message:g}=m;return eS.createElement(a0,{role:"alert"},eS.createElement(a1,{"data-testid":"headline"},"Something went wrong"),g&&eS.createElement(a2,null,`Error message: ${g}`," "))},a3=aL("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),a4=aL("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),a5=aL("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${a3}`]:{display:"block"}},false:{[`${a3}`]:{display:"none"}}}}}),a6=aL("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),E=({className:m,id:g,label:_,children:T})=>{let A=_.toLowerCase().replace(/\s/g,"-");return eS.createElement(a6,{id:g,className:m,"data-testid":"openseadragon-button","data-button":A},eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",{id:`${g}-svg-title`},_),T))},a8=aL("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),scroll_Te=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),Re=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),We=()=>eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),Oe=()=>eS.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),scroll_T=()=>eS.createElement(eS.Fragment,null,eS.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eS.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),je=({_cloverViewerHasPlaceholder:m,config:g})=>eS.createElement(a8,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:m},g.showZoomControl&&eS.createElement(eS.Fragment,null,eS.createElement(E,{id:g.zoomInButton,label:"zoom in"},eS.createElement(scroll_Te,null)),eS.createElement(E,{id:g.zoomOutButton,label:"zoom out"},eS.createElement(Re,null))),g.showFullPageControl&&eS.createElement(E,{id:g.fullPageButton,label:"full page"},eS.createElement(We,null)),g.showRotationControl&&eS.createElement(eS.Fragment,null,eS.createElement(E,{id:g.rotateRightButton,label:"rotate right"},eS.createElement(scroll_T,null)),eS.createElement(E,{id:g.rotateLeftButton,label:"rotate left"},eS.createElement(scroll_T,null))),g.showHomeControl&&eS.createElement(E,{id:g.homeButton,label:"reset"},eS.createElement(Oe,null))),De=({ariaLabel:m,config:g,uri:_,_cloverViewerHasPlaceholder:T,imageType:A,openSeadragonCallback:k})=>{let[C,S]=(0,eS.useState)(),[w,N]=(0,eS.useState)();return(0,eS.useEffect)(()=>(w||N(ex(g)),()=>null==w?void 0:w.destroy()),[]),(0,eS.useEffect)(()=>{w&&k&&k(w)},[w,k]),(0,eS.useEffect)(()=>{_!==C&&S(_)},[C,_]),(0,eS.useEffect)(()=>{if(C&&w)switch(A){case"simpleImage":w.addSimpleImage({url:C});break;case"tiledImage":ke(C).then(m=>{try{if(!m)throw Error(`No tile source found for ${C}`);w.addTiledImage({tileSource:m})}catch(m){console.error(m)}});break;default:w.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${A}"`)}},[A,C,w]),eS.createElement(a5,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},eS.createElement(je,{_cloverViewerHasPlaceholder:T,config:g}),g.showNavigator&&eS.createElement(a3,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eS.createElement(a4,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...m&&{"aria-label":m}}))},Ne=({_cloverViewerHasPlaceholder:m=!1,body:g,instanceId:_,isTiledImage:T=!1,label:A,src:k="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let w=_||esm_browser_v4(),N="string"==typeof A?A:scroll_B(A),O={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:R,uri:L}=g?ze(g):$e(k,T);return L?eS.createElement(eC.SV,{FallbackComponent:Ae},eS.createElement(De,{_cloverViewerHasPlaceholder:m,ariaLabel:N,config:O,imageType:R,key:w,uri:L,openSeadragonCallback:C})):null},a9=aL("div",{width:"100%",height:"400px",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),Xe=({body:m,label:g})=>eS.createElement(a9,{"data-testid":"scroll-figure-image"},eS.createElement(Ne,{body:m,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...g&&{label:g}})),a7=aL("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),Ge=(m,g,_,T)=>{var A,k;let C={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(C.canvas=m.get(g),C.canvas&&(C.annotationPage=m.get(C.canvas.items[0]),C.accompanyingCanvas=null!=(A=C.canvas)&&A.accompanyingCanvas?m.get(null==(k=C.canvas)?void 0:k.accompanyingCanvas):void 0),C.annotationPage){let A=m.get(C.annotationPage.items).map(g=>({body:m.get(g.body[0].id),motivation:g.motivation,type:"Annotation"})),k=[];A.forEach(g=>{"Choice"===g.body.type?g.body.items.forEach(_=>k.push({...g,id:_.id,body:m.get(_.id)})):k.push(g)}),C.annotations=k.filter(A=>{if(A){if(!A.body||!A.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",A);return}let k=A.body;Array.isArray(k)&&(k=k[0]);let C=m.get(k.id);if(C)switch(_){case"painting":return A.target===g.id&&A.motivation&&"painting"===A.motivation[0]&&T.includes(C.type)&&(A.body=C),!!A;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return C},qe=(m,g)=>{let _=Ge(m,{id:g,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(m=>null==m?void 0:m.body)},Ke=({canvas:m,canvasInfo:g})=>{let{state:_}=(0,eS.useContext)(aD),{vault:T}=_,A=qe(T,m.id);return A?eS.createElement(a7,null,null==A?void 0:A.map(g=>eS.createElement(Xe,{body:g,key:null==g?void 0:g.id,label:null==m?void 0:m.label})),eS.createElement(Ie,{canvas:m,canvasInfo:g})):null},oe="255, 197, 32",ot=aL("div",{ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.highlight":{position:"relative",fontWeight:"bold","&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${oe}, 0.2)`,borderBottom:`1px solid rgba(${oe}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${oe}, 0.2)`,zIndex:-1}}}),Je=({searchString:m="",content:g,stringLength:_=150})=>{let T=g.toLowerCase().indexOf(m.toLowerCase());if(-1!==T){let A=Math.max(0,T-_/2),k=Math.min(g.length,T+m.length+_/2);if(A>0){let m=g.lastIndexOf(" ",A+1);A=m>0?m+1:A}if(k<g.length){let m=g.indexOf(" ",k-1);k=m>-1?m:k}g=(A>0?"... ":"")+g.substring(A,k)+(k<g.length?" ...":"")}else g=g.substring(0,_)+"...";return g},scroll_N=({body:m,stringLength:g,type:_="content"})=>{let T;let{state:A}=(0,eS.useContext)(aD),{searchString:k}=A,C=String(m.value);"snippet"==_&&(C=Je({searchString:k,content:C,stringLength:g}));let S=function(m){let[g,_]=eS.useState("");return eS.useEffect(()=>{(async()=>{let g=await mr(m);_(g)})()},[m]),{html:g,jsx:aN.jsx("div",{dangerouslySetInnerHTML:{__html:g}})}}(C);if("text/plain"===m.format&&(T=null==C?void 0:C.replace(/\n/g,"<br />")),"text/markdown"===m.format&&(T=null==S?void 0:S.html),"text/html"===m.format&&(T=C),k&&T){let m=RegExp(`(${k})`,"gi");T=null==T?void 0:T.replace(m,m=>`<span class="highlight">${m}</span>`)}let w=[m.id,_].join("-"),N=["ar"].includes(String(m.language));return T?eS.createElement(ot,{dangerouslySetInnerHTML:{__html:T},"data-body-id":w,"data-testid":"scroll-item-body",id:w,dir:N?"rtl":"ltr",css:{fontSize:N?"1.3em":"1em"}}):null},on=eS.memo(({hasItemBreak:m,isLastItem:g,item:_,itemCount:T,itemNumber:A})=>{var k;let{state:C}=eS.useContext(aD),{annotations:S,vault:w}=C,N=null==w?void 0:w.get(_),O=null==(k=null==S?void 0:S.filter(m=>m.target===_.id))?void 0:k.map(m=>{var g;return null==(g=null==m?void 0:m.body)?void 0:g.map((m,g)=>eS.createElement(scroll_N,{body:m,key:g}))}),R={current:A,total:T};return eS.createElement(aV,{"data-page-break":m,"data-page-number":A,"data-last-item":g},eS.createElement(aY,null,N&&eS.createElement(Ke,{canvas:N,canvasInfo:R})),eS.createElement(aW,null,(null==N?void 0:N.label)&&eS.createElement("strong",null,eS.createElement(scroll_M,{label:null==N?void 0:N.label})," ",`(${R.current} / ${R.total})`),eS.createElement("div",null,O||eS.createElement("p",null,"[Blank]")),m&&eS.createElement(aQ,{"aria-label":"Page Break"})))}),oi="255, 197, 32",oa=aL("span",{fontWeight:"700"}),oo=aL("div",{display:"flex",gap:"0.25rem"}),os=aL("div",{fontSize:"0.9rem",padding:"1rem 0.618rem"}),ol=aL("div",{display:"flex",flexDirection:"column",gap:"0.5rem",hr:{margin:"0.618rem",border:"none",borderBottom:"1px solid #6662"},button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"6px",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${oi}, 0.2)`,borderColor:`rgba(${oi}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${oi}, 0.2)`}}}}),oc=aL("input",{margin:"0",padding:"0 1rem 0 2rem",background:"none",zIndex:"2",height:"2rem",marginLeft:"1rem",marginTop:"1rem",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",borderRadius:"2rem",fontFamily:"inherit",backgroundColor:"$primary",border:"none",color:"$secondary",cursor:"text",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important",flexGrow:"0",width:"100%","&:placeholder":{color:"inherit"}}),ou=aL("span",{position:"absolute",zIndex:"3",width:"2rem",height:"2rem",padding:"8px",marginTop:"1rem",marginLeft:"1rem",color:"$secondary",fill:"$secondary",stroke:"$secondary",transition:"$all",cursor:"text"}),od=aL("button",{opacity:"1",display:"flex",alignItems:"center",borderRadius:"2rem",width:"2rem",height:"2rem",alignSelf:"center",marginTop:"1rem",gap:"0.35rem",backgroundColor:"$accent",fill:"$secondary",flexShrink:"0",svg:{padding:"6px",color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),om=aL("form",{display:"flex",justifyContent:"space-between",gap:"1rem",width:"100%",variants:{isPanelExpanded:{true:{[`${ou}`]:{marginLeft:"0"},[`& ${oc}`]:{marginLeft:"0",backgroundColor:"$primary",width:"auto",flexGrow:"1"}},false:{}}}}),oh=aL("div",{}),scroll_R=({annotation:m,isResult:g})=>{var _,T;let A=[null==(_=null==m?void 0:m.body)?void 0:_.id,"content"].join("-"),a=m=>{var g;m&&(null==(g=document.getElementById(m))||g.scrollIntoView({behavior:"smooth"}))};return eS.createElement("button",{"data-result":g?"true":"false",onClick:()=>a(A),key:A},eS.createElement(oo,null,eS.createElement(oa,null,m.motivation),eS.createElement("span",null,null==(T=null==m?void 0:m.body)?void 0:T.language)),eS.createElement(scroll_N,{body:m.body,stringLength:144,type:"snippet"}))},st=({results:m})=>eS.createElement(ol,null,m.found.map(m=>eS.createElement(scroll_R,{annotation:m,isResult:!0,key:m.id})),eS.createElement("hr",null),m.notFound.map(m=>eS.createElement(scroll_R,{annotation:m,key:m.id}))),op={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},scroll_dt=()=>{var m;let{state:g}=(0,eS.useContext)(aD),{annotations:_,searchString:T=""}=g,A=new aO.Z.Document(op),k=[];function i(m){return m.map(m=>null==_?void 0:_.filter(g=>g.body.find(g=>g.id===m)).map(g=>{let _=g.body.findIndex(g=>g.id===m);return{...g,body:g.body[_]}}).shift())}null==_||_.forEach(m=>{var g;null==(g=null==m?void 0:m.body)||g.forEach(m=>{var g;let _=null==(g=null==m?void 0:m.value)?void 0:g.replace(/\n/g,"");k.push(null==m?void 0:m.id),A.add({id:null==m?void 0:m.id,content:_})})});let C=null==A?void 0:A.search(T).reduce((m,g)=>[...new Set([...m,...g.result])],[]),S={found:i(C),notFound:i(k.filter(m=>!C.includes(m)))};return eS.createElement(oh,null,T&&eS.createElement(os,null,null==(m=S.found)?void 0:m.length," results for ",eS.createElement("strong",null,T)),eS.createElement(st,{results:S}))},mt=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Search"),eS.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),ut=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Close"),eS.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),pt=({togglePanel:m,isPanelExpanded:g})=>{let{dispatch:_,state:T}=(0,eS.useContext)(aD),{searchString:A}=T,k=(0,eS.useRef)(null),l=()=>k.current===document.activeElement&&m(!0),s=()=>{var g;null==(g=k.current)||g.blur(),u(),m(!1),_({payload:"",type:"updateSearchString"})},u=()=>{k.current&&(k.current.value="")},p=m=>{"Escape"===m.key&&(m.preventDefault(),s())};return(0,eS.useEffect)(()=>(null==document||document.addEventListener("keydown",p),()=>{null==document||document.removeEventListener("keydown",p)}),[]),(0,eS.useEffect)(()=>{if(null!=k&&k.current)return k.current.addEventListener("focus",l),k.current.addEventListener("blur",l),()=>{k.current&&(k.current.removeEventListener("focus",l),k.current.removeEventListener("blur",l))}},[]),eS.createElement(om,{id:"scroll-search",autoComplete:"off",isPanelExpanded:g},eS.createElement(ou,{onClick:()=>{var m;return null==(m=null==k?void 0:k.current)?void 0:m.focus()}},eS.createElement(mt,null)),eS.createElement(oc,{ref:k,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:A,onChange:m=>{var g;_({payload:null==(g=null==m?void 0:m.target)?void 0:g.value,type:"updateSearchString"})}}),eS.createElement(od,{"aria-disabled":!g,"aria-label":"Close search panel",onClick:m=>{m.preventDefault(),s()},disabled:!g},eS.createElement(ut,null)))},of=aL("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maxWidth:"100%",marginTop:"1rem",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),gt=m=>{let[g,_]=(0,eS.useState)({top:0,left:0});return(0,eS.useEffect)(()=>{let a=()=>{if(m.current){let g=m.current.getBoundingClientRect();_({top:g.top,left:g.left})}};return window.addEventListener("scroll",a),window.addEventListener("resize",a),a(),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[m]),g},ft=({isPanelExpanded:m,handlePanel:g})=>{var _;let T=(0,eS.useRef)(null),{state:A}=(0,eS.useContext)(aD),{options:k}=A,{offset:C}=k,{top:S}=gt(T),w=!!S&&S<C,N=null==(_=null==T?void 0:T.current)?void 0:_.offsetWidth,O=N&&.5*N,R={top:w?C:0,width:`calc(${O}px - 1.318rem)`,maxWidth:m?"100%":`${O?O-315:180}px`,minWidth:"130px"};return eS.createElement(aj,{ref:T,className:w?"anchor":"","data-testid":"scroll-panel"},eS.createElement(aG,{style:R},eS.createElement(pt,{togglePanel:g,isPanelExpanded:m}),eS.createElement(of,{"data-testid":"scroll-panel-results","data-panel-expanded":m,isPanelExpanded:m},m&&eS.createElement(scroll_dt,null))))},xt=({items:m})=>{let[g,_]=(0,eS.useState)(!1);return eS.createElement(eS.Fragment,null,eS.createElement(ft,{isPanelExpanded:g,handlePanel:m=>_(m)}),eS.createElement(aX,{"data-figures-visible":!g},m.map((g,_)=>{let T=_+1,A=T===m.length;return eS.createElement(on,{item:g,hasItemBreak:T<m.length,isLastItem:A,key:g.id,itemCount:m.length,itemNumber:T})})))},vt=(m,g)=>{let[_,T]=(0,eS.useState)([]);return(0,eS.useEffect)(()=>{if(!g)return;let _=[];null==m||m.forEach(m=>{var T;let A=g.get(m);null==(T=null==A?void 0:A.annotations)||T.forEach(m=>{var T;let A=g.get(m);null==(T=null==A?void 0:A.items)||T.forEach(m=>{var T;let A=g.get(m);A&&_.push({...A,body:null==(T=null==A?void 0:A.body)?void 0:T.map(m=>g.get(m))})})})});let A=_.reduce((m,g)=>(m.some(m=>m.id===g.id)||m.push(g),m),[]);T(A)},[m,g]),_},wt=({iiifContent:m})=>{let[g,_]=(0,eS.useState)(),{state:T,dispatch:A}=(0,eS.useContext)(aD),{vault:k}=T,C=vt(null==g?void 0:g.items,k);return(0,eS.useEffect)(()=>{k&&k.load(m).then(m=>m&&_(m)).catch(g=>console.error(`Manifest ${m} failed to load: ${g}`))},[m,k]),(0,eS.useEffect)(()=>{A({type:"updateAnnotations",payload:C})},[C,A]),g?eS.createElement(aq,null,g.label&&eS.createElement(we,{label:g.label}),g.items&&eS.createElement(xt,{items:g.items})):null},Ft=({iiifContent:m,options:g})=>eS.createElement(scroll_re,{options:g},eS.createElement(wt,{iiifContent:m}));var og=_(9897),o_=_(334),oE=_(434),oT=_(150),oA=_(9821),oy=_(1876).Buffer;function esm_p(m){return m.endsWith("info.json")?m:m.endsWith("/")?`${m}info.json`:`${m}/info.json`}let ov="http://library.stanford.edu/iiif/image-api/compliance.html#level1",ob="http://library.stanford.edu/iiif/image-api/compliance.html#level2",ox="http://library.stanford.edu/iiif/image-api/conformance.html#level1",oC="http://library.stanford.edu/iiif/image-api/conformance.html#level2",oI="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",oS="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",ow="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",oN="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",oO="http://iiif.io/api/image/1/level1.json",oR="http://iiif.io/api/image/1/profiles/level1.json",oD="http://iiif.io/api/image/1/level2.json",oL="http://iiif.io/api/image/1/profiles/level2.json",oP="http://iiif.io/api/image/2/level1.json",oM="http://iiif.io/api/image/2/profiles/level1.json",oF="http://iiif.io/api/image/2/level2.json",oB="http://iiif.io/api/image/2/profiles/level2.json",oH="level1",oU="level2",oz="http://iiif.io/api/image/2/level1",oG="http://iiif.io/api/image/2/level2",oj=[oG,ob,oC,oS,oN,oD,oL,oF,oB,oU],o$=[...oj,oz,ov,ox,oI,ow,oO,oR,oP,oM,oH],oq=["http://iiif.io/api/image/2/level0",oz,oG,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",ov,ob,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",ox,oC,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",oI,oS,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",ow,oN,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",oO,oR,oD,oL,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",oP,oM,oF,oB,"level0",oH,oU],oV={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},oY={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},oW={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function esm_h(m){return m["@id"]?m["@id"]:m.id?m.id:void 0}function esm_w(m){if(!m||!m.profile||!esm_h(m))return!1;let g=Array.isArray(m.profile)?m.profile:[m.profile];for(let m of g)if("string"==typeof m&&-1!==oq.indexOf(m))return!0;return!1}function v(m,g){if(g&&g.profile){let _=g.profile;if(_){let g=Array.isArray(_)?_:[_];return g.includes(`level${m}`)||g.includes(`http://iiif.io/api/image/2/level${m}.json`)||g.includes(`http://iiif.io/api/image/1/level${m}.json`)||g.includes(`http://iiif.io/api/image/1/profiles/level${m}.json`)}}return!1}function esm_F(m){return esm_w(m)?v(0,m)?0:v(1,m)?1:v(2,m)?2:null:null}function esm_X(m){return -1!==(m["@context"]?Array.isArray(m["@context"])?m["@context"]:[m["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")}function esm_Y(m){let g=m.match(/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/);if(g){let _=g[1],T=parseInt(g[4],10),A=parseInt(g[5],10),k=g[7];if(("max"===_||"full"===_)&&T&&A&&k)return{type:"fixed",id:m,height:A,width:T}}return{type:"unknown",id:m}}function esm_q(m){let g=[],_=m.length;for(let T=0;T<_;T++){let _=function(m){return esm_w(m)?(m&&m.sizes?m.sizes:[]).map(g=>({id:esm_h(m),type:"fixed-service",height:g.height,width:g.width,level:esm_F(m),version:esm_X(m)?3:2})):[]}(m[T]);_.length&&g.push(..._);let A=function(m){if(!function(m){if(!esm_w(m))return!1;let g=Array.isArray(m.profile)?m.profile:[m.profile];for(let m of g)if("string"==typeof m){if(-1!==o$.indexOf(m))return!0}else{let g=[...m.supports||[],...m.extraFeatures||[]];if(-1!==g.indexOf("regionByPx")&&(-1!==g.indexOf("sizeByW")||-1!==g.indexOf("sizeByWh")))return!0}return!1}(m))return[];let g=[],_=Array.isArray(m.profile)?m.profile:[m.profile],T=_.length;for(let g=0;g<T;g++){let T=_[g];if("string"!=typeof T&&(T.maxHeight||T.maxWidth))return[{id:esm_h(m),type:"variable",minWidth:0,minHeight:0,maxHeight:T.maxHeight||T.maxWidth,maxWidth:T.maxWidth||T.maxHeight,level:esm_F(m),version:"http://iiif.io/api/image/3/context.json"===m["@context"]?3:2}]}if(m.tiles){let _=m.tiles.length;for(let T=0;T<_;T++){let _=m.tiles[T];(_.height||_.width)&&g.push({id:esm_h(m),type:"variable",minHeight:0,minWidth:0,maxHeight:_.height||_.width,maxWidth:_.width,level:esm_F(m),version:esm_X(m)?3:2})}}return g}(m[T]);A.length&&g.push(...A)}return g}function ee(m){let g=m.service?Array.isArray(m.service)?m.service:[m.service]:[],_=g.length,T=[];for(let m=0;m<_;m++)esm_w(g[m])&&T.push(g[m]);return T}var oQ=Object.defineProperty,oX=Object.defineProperties,oK=Object.getOwnPropertyDescriptors,oZ=Object.getOwnPropertySymbols,oJ=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,esm_$e=(m,g,_)=>g in m?oQ(m,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):m[g]=_,esm_x=(m,g)=>{for(var _ in g||(g={}))oJ.call(g,_)&&esm_$e(m,_,g[_]);if(oZ)for(var _ of oZ(g))o0.call(g,_)&&esm_$e(m,_,g[_]);return m},I=(m,g)=>oX(m,oK(g));function esm_O(m,g,_){let T=function(m){let g=function(m,g=""){let{path:_,scheme:T,server:A,prefix:k}=function(m,g=""){let _=m.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!_)throw Error(`Invalid or unknown input ${m}`);let T=_[2],A=_[3],k=_[4];if("/"===k[0]&&(k=k.substr(1)),g.length>0){if("/"===g[0]&&(g=g.substr(1)),g!==k.substr(0,g.length))throw Error(`Path does not start with prefix (path: ${k}, prefix: ${g})`);k=k.substr(g.length)}return{scheme:T,server:A,path:k,prefix:g}}(m,g),C=_.split("/").reverse(),[S,w,N,O,...R]=C,L=R.reverse().filter(Boolean).join("/");if(1===C.length||""===S)return{type:"base",scheme:T,server:A,prefix:k,identifier:L};if("info.json"===S){let[,...m]=C;return{type:"info",scheme:T,server:A,prefix:k,identifier:m.reverse().filter(Boolean).join("/")}}let P=S.split(".");return{type:"image",scheme:T,server:A,prefix:k,identifier:L,originalPath:_,region:function(m){try{if("full"===m)return{full:!0};if("square"===m)return{square:!0};let g=m.startsWith("pct:"),_=m.substr(g?4:0).split(",").map(m=>parseFloat(m));return{x:_[0],y:_[1],w:_[2],h:_[3],percent:g}}catch{throw Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+m)}}(O),size:function(m){let g={upscaled:!1,max:!1,confined:!1};if("^"===m[0]&&(g.upscaled=!0,m=m.slice(1)),"max"===m||"full"===m)return g.max=!0,g.serialiseAsFull="full"===m,g;if("!"===m[0]&&(g.confined=!0,m=m.slice(1)),"p"===m[0])return g.percentScale=parseFloat(m.slice(4)),g;let _=m.split(",").map(m=>m.trim());return _.length&&(""!==_[0]&&(g.width=parseInt(_[0],10)),""!==_[1]?(g.height=parseInt(_[1],10),g.version=2):g.version=3),g}(N),rotation:function(m){let g={angle:0};if("!"===m[0]&&(g.mirror=!0,m=m.substr(1)),g.angle=parseFloat(m)%360,Number.isNaN(g.angle))throw Error(`Invalid rotation ${m}`);return g}(w),quality:P[0],format:P[1]}}(esm_p(m.id));if("info"!==g.type)throw Error("Invalid service URL");let _=function(m){let g=m?Array.isArray(m.profile)?m.profile:[m.profile]:[],_={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let m of g){var T;if("string"==typeof m&&(T=m,m=-1!==oj.indexOf(T)?oW:-1!==o$.indexOf(T)?oY:oV),m){if(m.formats)for(let g of m.formats)-1===_.extraFormats.indexOf(g)&&_.extraFormats.push(g);if(m.qualities)for(let g of m.qualities)-1===_.extraQualities.indexOf(g)&&_.extraQualities.push(g);if(m.supports)for(let g of m.supports)-1===_.extraFeatures.indexOf(g)&&_.extraFeatures.push(g);if(m.maxHeight&&(_.maxHeight=m.maxHeight),m.maxWidth&&(_.maxWidth=m.maxWidth),m.maxArea&&(_.maxArea=m.maxArea),m.extraFormats)for(let g of m.extraFormats)-1===_.extraFormats.indexOf(g)&&_.extraFormats.push(g);if(m.extraQualities)for(let g of m.extraQualities)-1===_.extraQualities.indexOf(g)&&_.extraQualities.push(g);if(m.extraFeatures)for(let g of m.extraFeatures)-1===_.extraFeatures.indexOf(g)&&_.extraFeatures.push(g);m.maxHeight&&(_.maxHeight=m.maxHeight),m.maxWidth&&(_.maxWidth=m.maxWidth),m.maxArea&&(_.maxArea=m.maxArea)}}if(m.extraFormats)for(let g of m.extraFormats)-1===_.extraFormats.indexOf(g)&&_.extraFormats.push(g);if(m.extraFeatures)for(let g of m.extraFeatures)-1===_.extraFeatures.indexOf(g)&&_.extraFeatures.push(g);if(m.extraQualities)for(let g of m.extraQualities)-1===_.extraQualities.indexOf(g)&&_.extraQualities.push(g);return _}(m);return{identifier:g.identifier,originalPath:"",server:g.server,prefix:g.prefix,scheme:g.scheme,type:"image",quality:-1===_.extraQualities.indexOf("default")?_.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}({"@context":3===m.version?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:esm_p(esm_h(m)),profile:null===m.level||typeof m.level>"u"?"level0":`level${m.level}}`,type:3===m.version?"ImageService3":"ImageService2"});if("image"!==T.type)throw Error("Invalid service");return T.size.max=!1,T.size.width=g,T.size.height=_,{id:function(m,g){let _=m.prefix.startsWith("/")?m.prefix.substr(1):m.prefix,T=`${m.scheme}://${m.server}/${_?`${_}/`:""}${m.identifier}`;if("base"===m.type)return T;if("info"===m.type)return`${T}/info.json`;let{size:A}=m,{region:k,rotation:C,format:S,quality:w}=m;if(g){let m=g["@context"]?Array.isArray(g["@context"])?g["@context"]:[g["@context"]]:[],_=-1!==m.indexOf("http://iiif.io/api/image/2/context.json"),T=-1!==m.indexOf("http://iiif.io/api/image/3/context.json");if((A.width!==g.width||A.height)&&(A.height!==g.height||A.width)&&(A.width!==g.width||A.height!==g.height)||(A=I(esm_x({},A),{max:!0})),_&&(A.max&&!A.serialiseAsFull&&(A=I(esm_x({},A),{serialiseAsFull:!0})),!A.max&&A.width&&A.height&&(A=I(esm_x({},A),{height:void 0})),A=I(esm_x({},A),{version:2})),T){if(A.max&&A.serialiseAsFull&&(A=I(esm_x({},A),{serialiseAsFull:!1})),A.width&&!A.height&&g.width&&g.height){let m=g.height/g.width;A=I(esm_x({},A),{height:Math.ceil(A.width*m)})}A=I(esm_x({},A),{version:3})}}return[T,function({x:m=0,y:g=0,w:_,h:T,full:A,square:k,percent:C}){if(A)return"full";if(k)return"square";if(typeof _>"u"||typeof T>"u")throw Error("RegionParameter: invalid region");let S=`${m},${g},${_},${T}`;return C?`pct:${S}`:S}(k),function({max:m,percentScale:g,upscaled:_,confined:T,width:A,height:k,serialiseAsFull:C,version:S}){let w=[];return _&&w.push("^"),m?w.push(C?"full":"max"):(T&&w.push("!"),g&&w.push(`pct:${g}`),A&&w.push(`${A}`),w.push(","),k&&3===S&&w.push(`${k}`)),w.join("")}(A),`${C.mirror?"!":""}${(C.angle||0)%360}`,`${w}.${S}`].filter(Boolean).join("/")}(T),type:"fixed",width:g,height:_||m.height/(m.width||1)*g,unsafe:m.width>g}}function esm_y(m){let g=m.replace(/(https?:\/\/)?(www.)?/i,"");return -1!==g.indexOf("/")?g.split("/")[0]:g}var o1=Object.defineProperty,o2=Object.defineProperties,o3=Object.getOwnPropertyDescriptors,o4=Object.getOwnPropertySymbols,o5=Object.prototype.hasOwnProperty,o6=Object.prototype.propertyIsEnumerable,esm_Re=(m,g,_)=>g in m?o1(m,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):m[g]=_,ri=(m,g)=>{for(var _ in g||(g={}))o5.call(g,_)&&esm_Re(m,_,g[_]);if(o4)for(var _ of o4(g))o6.call(g,_)&&esm_Re(m,_,g[_]);return m},si=(m,g)=>o2(m,o3(g)),esm_=(m,g,_)=>new Promise((T,A)=>{var s=m=>{try{o(_.next(m))}catch(m){A(m)}},a=m=>{try{o(_.throw(m))}catch(m){A(m)}},o=m=>m.done?T(m.value):Promise.resolve(m.value).then(s,a);o((_=_.apply(m,g)).next())});new class{constructor(){this.config={verificationsRequired:1,approximateServices:!0,enableFetching:!0,disableThrottling:!1},this.fetchingCount=0,this.imageServices={},this.knownImageServers={}}setConfig(m){Object.assign(this.config,m)}sample(m,g,_=!0){let T=esm_y(esm_h(m)),A=esm_p(esm_h(m)),k=this.knownImageServers[T];return this.imageServices[A]=Object.assign(m,{real:!0}),k||!m.tiles||v(0,m)?this.verify(m):(this.knownImageServers[T]={verifications:0,malformed:!1,root:T,preLoaded:_,sampledId:esm_h(m),verified:!1,server:null,result:{context:m["@context"]||[],sampledProfile:m.profile,resourceServiceRatio:g&&m.height?g.height/m.height:1,sampledSizes:m.sizes||[],sizeRatios:function(m,g,_){let T=_.length,A=[];for(let g=0;g<T;g++){let T=_[g].width;A.push(m/T)}return A}(m.width,m.height,m.sizes||[]),sampledTiles:m.tiles||[]}},!0)}preLoad(m,g=!0){this.knownImageServers[m.root]=m,g&&(this.knownImageServers[m.root].malformed=!1,this.knownImageServers[m.root].verifications=this.config.verificationsRequired)}predict(m,g=!1,_=!1){let T=null==m?void 0:m.source,A=esm_y(esm_h(m)),k=this.knownImageServers[A];if(!k||!k.result||!((null==T?void 0:T.height)||m.height)||!((null==T?void 0:T.width)||m.width)||!_&&(k.malformed||k.verifications<this.config.verificationsRequired)||v(0,m.source))return null;let C=esm_p(esm_h(m));return this.imageServices[C]||(this.imageServices[C]={"@context":k.result.context,"@id":esm_h(m),id:esm_h(m),protocol:"http://iiif.io/api/image",tiles:(null==T?void 0:T.tiles)||function(m,g,_){let T=m>g?m:g,A=_.length,k=[];for(let m=0;m<A;m++){let g=_[m],A=g.scaleFactors[0],C=T/A,S=[A];for(;C>=g.width;)S.push(A*=2),C/=2;k.push(si(ri({},g),{scaleFactors:S}))}return k}(m.width,m.height,k.result.sampledTiles),sizes:(null==T?void 0:T.sizes)||function(m,g,_){let T=_.length,A=[];for(let k=0;k<T;k++){let T=_[k];A.push({width:Math.floor(m/T),height:Math.floor(g/T)})}return A}(Math.round(m.width/k.result.resourceServiceRatio),Math.round(m.height/k.result.resourceServiceRatio),k.result.sizeRatios),profile:(null==T?void 0:T.profile)||k.result.sampledProfile,height:(null==T?void 0:T.height)||m.height,width:(null==T?void 0:T.width)||m.width,real:!1}),this.imageServices[C]}getThumbnailFromResource(m,g){return esm_(this,arguments,function*(m,g,_=!0,T=[]){let A=m?yield this.getImageCandidates(m,_):[];return function(m,g){let _=[],T=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},m),r=(m,g=0)=>T.explain?_.push(Array(g).fill(0).map(m=>"    ").join("")+m().trim()):void 0,A=[],k=[],C=null;r(()=>`Using configuration: ${JSON.stringify(T,null,2)}`);let f=(m,g)=>{if(r(()=>"Swapping choice",3),function(m,g,_){let T=m.width?m.width:m.maxWidth;return _.height<=m.maxHeight&&_.width<=m.maxWidth&&_.height>=m.minHeight&&_.width>=m.minWidth&&(!g||Math.abs(_.width-T)<Math.abs(g.width-T))}(T,g,m)){if(T.preferFixedSize&&m.unsafe){r(()=>`We found an image that was marked as unsafe, but it was the best size. (${m.id})`,4),k.push(m);return}T.returnAllOptions&&g&&k.push(g),r(()=>`We found a new image that was the best size. (${m.id})`,4),C=m}else T.returnAllOptions&&k.push(m)};r(()=>`The input shows we have ${g.length} list(s) of candidates to choose from.`);let S=g.length;for(let m=0;m<S;m++){let _=g[m]();r(()=>`Candidate group ${m}: ${JSON.stringify(_,null,2)}`,1);let k=_.length;r(()=>`Checking candidate list number ${m} and found ${k} potential ways of creating image(s)`,1);for(let m=0;m<k;m++){let g=_[m];if(r(()=>`-> Checking candidate ${m}`,1),"unknown"===g.type&&T.atAnyCost&&(r(()=>'We\'ve found an unknown image type, adding this to the "last resort" list',2),A.push(g)),"fixed"===g.type&&(g.unsafe?(r(()=>'We\'ve found an unsafe fixed image type, adding this to the "last resort" list',2),A.push(g)):(r(()=>"We've found a fixed size image, checking if it matches the request",2),f(g,C))),"fixed-service"===g.type){if(T.unsafeImageService){r(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);let m=esm_O(g,T.width,T.height);f(m,C)}else{r(()=>"Checking for an image from the tile source 3",2);let m=esm_O(g,g.width,g.height);f(m,C)}}if("variable"===g.type&&g.maxWidth){let m=esm_O({id:g.id,type:"fixed-service",width:g.maxWidth,height:g.maxWidth,level:g.level,version:g.version},g.maxWidth);f(m,C)}}if(C&&!T.returnAllOptions){if(C.unsafe||T.allowUnsafe)continue;r(()=>`We found a match in choice list number ${m}, no searching any more`);break}}return T.atAnyCost&&0===k.length?(r(()=>C?`We found an image! ${C.id} of type ${C.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:C||A[0],fallback:A.slice(1),log:_}):T.returnAllOptions?(r(()=>"Returning all options that we have found"),{best:T.atAnyCost?C||k[0]||A[0]:C||k[0],fallback:[...k,...A],log:_}):(r(()=>"Returning the best image that we found, and a fallback"),{best:C||k[0]||null,fallback:C?k:k.slice(1),log:_})}(g,[()=>T,()=>A])})}getImageCandidates(m,g=!0){return esm_(this,null,function*(){if(g&&m.height&&m.width){let g=ee(m);for(let _ of g){let g={id:esm_h(_),width:_.width?_.width:m.width,height:_.height?_.height:m.height,source:_};yield this.loadService(g)}}return function(m,g=!0,_){let T=[],A=function(m){if("string"==typeof m)return esm_Y(m);let g=m["@type"]?m["@type"]:m.type?m.type:void 0;if("Image"!==g&&"sc:Image"!==g)return null;let _=esm_h(m);return _?_&&m.width&&m.height?{id:_,type:"fixed",width:m.width,height:m.height,unsafe:!0}:esm_Y(_):null}(m);if(null===A)return T;if(T.push(A),g&&m.width&&m.height){let g=[],A=ee(m);for(let T of A){let A={id:esm_h(T),width:m.width,height:m.height};if(_.canLoadSync(A)){let T=_.loadServiceSync(A);T&&(T.height||(T.height=m.height),T.width||(T.width=m.width),g.push(...esm_q([T])))}}if(g.length)return T.push(...g),T}return m.service&&T.push(...esm_q(m.service)),T}(m,g,this)})}verify(m){return esm_(this,null,function*(){let g=this.predict(m,!1,!0),_=yield this.fetchService(esm_h(m));if(!g)return!1;let T=g.height===_.height&&g.width===_.width&&g["@context"]===_["@context"]&&function(m,g){if(m.length!==g.length)return!1;if(0===m.length&&0===g.length)return!0;let _=m.length,T=!0;for(let A=0;A<_;A++){let _=m[A],k=g[A];if(_.width!==k.width||_.height!==k.height){T=!1;break}}if(T)return!0;let A=0;for(let T=0;T<_;T++)for(let k=0;k<_;k++)if(m[T].width===g[k].width&&m[T].height===g[k].height){A++;break}return A===_}(g.sizes||[],_.sizes||[]);if(T){let g=esm_y(esm_h(m));this.knownImageServers[g].verifications+=1,this.knownImageServers[g].verifications>=this.config.verificationsRequired&&(this.knownImageServers[g].verified=!0)}return T})}canLoadSync(m){let g="string"==typeof m?m:esm_h(m),_=esm_p(g);if(this.imageServices[_])return!0;let T=this.knownImageServers[esm_y(g)];return T&&!T.malformed&&T.verifications>=this.config.verificationsRequired}markAsMalformed(m){return esm_(this,null,function*(){return this.knownImageServers[esm_y(esm_h(m))].malformed=!0,this.loadService(m,!0)})}fetchService(m,g=!1){return esm_(this,null,function*(){let _=esm_p(m);if(this.imageServices[_]&&(!g||this.imageServices[_].real))return this.imageServices[_];if(!this.config.enableFetching)throw Error("Fetching is not enabled");let T=yield this.fetch(_).then(m=>m.json());return!T.id&&T["@id"]&&(T.id=T["@id"]),T.id!==m&&(T.id=m,T["@id"]&&(T["@id"]=m)),this.imageServices[_]=Object.assign(T,{real:!0}),this.imageServices[_]})}fetch(m,g){return esm_(this,null,function*(){return fetch(m,g)})}loadService(m,g=!1){return esm_(this,null,function*(){if(!this.config.disableThrottling){let m=!0;for(;m;)if(this.fetchingCount>=this.config.verificationsRequired)yield new Promise(m=>setTimeout(m,500));else{m=!1;break}}let _=this.knownImageServers[esm_y(esm_h(m))];if(_&&!_.malformed&&!g){yield _.result;let g=this.loadServiceSync(m);if(g)return g}this.fetchingCount++;let T=yield this.fetchService(esm_h(m),g);return this.fetchingCount--,T.real&&this.sample(T,m),T})}loadServiceSync(m){let g=esm_p(esm_h(m));return this.imageServices[g]?this.imageServices[g]:this.predict(m)}},Symbol.for("_refs_"),Symbol.for("_reactive_"),Symbol.for("_defined_");var o8=_(6419),o9=_(5059),o7=_(761);let Wt=m=>{let g=m.toString().split(":"),_=Math.ceil(parseInt(g[0])),T=Math.ceil(parseInt(g[1])),A=Gt(Math.ceil(parseInt(g[2])),2),k=`${0!==_&&T<10?(T+"").padStart(2,"0"):T}:${A}`;return 0!==_&&(k=`${_}:${k}`),k},viewer_We=m=>{let g=new Date(1e3*m).toISOString().substr(11,8);return Wt(g)},viewer_De=(m,g)=>{if("object"!=typeof m||null===m)return g;for(let _ in g)"object"!=typeof g[_]||null===g[_]||Array.isArray(g[_])?m[_]=g[_]:(m[_]||(m[_]={}),m[_]=viewer_De(m[_],g[_]));return m},Dt=m=>m.split("").reduce(function(m,g){return(m=(m<<5)-m+g.charCodeAt(0))&m},0),viewer_Ge=(m,g)=>Object.hasOwn(m,g)?m[g].toString():void 0,Gt=(m,g)=>String(m).padStart(g,"0"),sn={annotationOverlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showIIIFBadge:!0,showTitle:!0,withCredentials:!1};function viewer_Ue(m){let g={...sn.informationPanel.vtt.autoScroll};return"object"==typeof m&&(g="enabled"in m?m:{enabled:!0,settings:m}),!1===m&&(g.enabled=!1),function({behavior:m,block:g}){let _=["auto","instant","smooth"],T=["center","end","nearest","start"];if(!_.includes(m))throw TypeError(`'${m}' not in ${_.join(" | ")}`);if(!T.includes(g))throw TypeError(`'${g}' not in ${T.join(" | ")}`)}(g.settings),g}let sr=viewer_Ue(null==(ey=null==(eA=null==sn?void 0:sn.informationPanel)?void 0:eA.vtt)?void 0:ey.autoScroll),sa={activeCanvas:"",activeManifest:"",collection:{},configOptions:sn,customDisplays:[],isAutoScrollEnabled:sr.enabled,isAutoScrolling:!1,isInformationOpen:null==(ek=null==sn?void 0:sn.informationPanel)?void 0:ek.open,isLoaded:!1,isUserScrolling:void 0,vault:new Vault,openSeadragonViewer:null,viewerId:esm_browser_v4()},so=eS.createContext(sa),ss=eS.createContext(sa);function Zt(m,g){switch(g.type){case"updateActiveCanvas":return g.canvasId||(g.canvasId=""),{...m,activeCanvas:g.canvasId};case"updateActiveManifest":return{...m,activeManifest:g.manifestId};case"updateAutoScrollAnnotationEnabled":return{...m,isAutoScrollEnabled:g.isAutoScrollEnabled};case"updateAutoScrolling":return{...m,isAutoScrolling:g.isAutoScrolling};case"updateCollection":return{...m,collection:g.collection};case"updateConfigOptions":return{...m,configOptions:viewer_De(m.configOptions,g.configOptions)};case"updateInformationOpen":return{...m,isInformationOpen:g.isInformationOpen};case"updateIsLoaded":return{...m,isLoaded:g.isLoaded};case"updateUserScrolling":return{...m,isUserScrolling:g.isUserScrolling};case"updateOpenSeadragonViewer":return{...m,openSeadragonViewer:g.openSeadragonViewer};case"updateViewerId":return{...m,viewerId:g.viewerId};default:throw Error(`Unhandled action type: ${g.type}`)}}let Xt=({initialState:m=sa,children:g})=>{let[_,T]=(0,eS.useReducer)(Zt,m);return eS.createElement(so.Provider,{value:_},eS.createElement(ss.Provider,{value:T},g))};function viewer_I(){let m=eS.useContext(so);if(void 0===m)throw Error("useViewerState must be used within a ViewerProvider");return m}function viewer_F(){let m=eS.useContext(ss);if(void 0===m)throw Error("useViewerDispatch must be used within a ViewerProvider");return m}let Yt=(m,g)=>{let _=m.get({id:g,type:"Canvas"});return null!=_&&_.annotations&&_.annotations[0]?m.get(_.annotations).filter(m=>!!m.items&&!!m.items.length&&m).map(m=>{let g=m.label||{none:["Annotations"]};return{...m,label:g}}):[]},viewer_Ze=(m,g,_,T)=>{var A,k;let C={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(C.canvas=m.get(g),C.canvas&&(C.annotationPage=m.get(C.canvas.items[0]),C.accompanyingCanvas=null!=(A=C.canvas)&&A.accompanyingCanvas?m.get(null==(k=C.canvas)?void 0:k.accompanyingCanvas):void 0),C.annotationPage){let A=m.get(C.annotationPage.items).map(g=>({body:m.get(g.body[0].id),motivation:g.motivation,type:"Annotation"})),k=[];A.forEach(g=>{"Choice"===g.body.type?g.body.items.forEach(_=>k.push({...g,id:_.id,body:m.get(_.id)})):k.push(g)}),C.annotations=k.filter(A=>{if(A){if(!A.body||!A.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",A);return}let k=A.body;Array.isArray(k)&&(k=k[0]);let C=m.get(k.id);if(C)switch(_){case"painting":return A.target===g.id&&A.motivation&&"painting"===A.motivation[0]&&T.includes(C.type)&&(A.body=C),!!A;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return C},viewer_U=(m,g="en")=>{if(!m)return"";if(!m[g]){let g=Object.getOwnPropertyNames(m);if(g.length>0)return m[g[0]]}return m[g]},viewer_q=(m,g)=>{let _=viewer_Ze(m,{id:g,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(m=>null==m?void 0:m.body)},Jt=(m,g,_,T)=>{let A=[];if(g.canvas&&g.canvas.thumbnail.length>0){let _=m.get(g.canvas.thumbnail[0]);A.push(_)}if(g.annotations[0]){if(g.annotations[0].thumbnail&&g.annotations[0].thumbnail.length>0){let _=m.get(g.annotations[0].thumbnail[0]);A.push(_)}if(!g.annotations[0].body)return;let _=g.annotations[0].body;"Image"===_.type&&A.push(_)}return 0===A.length?void 0:{id:A[0].id,format:A[0].format,type:A[0].type,width:_,height:T}},sl={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:sc,css:su,keyframes:sd,createTheme:sm}=(0,eI.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:sl}),sh=sc("div",{display:"flex",flexDirection:"column",alignItems:"center"}),sp=sc("p",{fontWeight:"bold",fontSize:"x-large"}),sf=sc("span",{fontSize:"medium"}),viewer_Xe=({error:m})=>{let{message:g}=m;return eS.createElement(sh,{role:"alert"},eS.createElement(sp,{"data-testid":"headline"},"Something went wrong"),g&&eS.createElement(sf,null,`Error message: ${g}`," "))},sg=sc("div",{position:"relative",zIndex:"0"}),s_=sc("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),sE=sc("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),sT=sc(o_.xz,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),sA=sc(o_.VY,{width:"100%",display:"flex"}),sy=sc("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),sk=sc("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${s_}`]:{flexGrow:"1"},[`& ${sE}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${sg}`]:{display:"none"},[`& ${sT}`]:{margin:"1rem"},[`& ${sA}`]:{height:"100%"}}}}),sv=sc(oE.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),sb=sc(oE.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),sx=sc(oE.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),sC=sc(oE.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),sI=sc(({handleScroll:m,children:g,className:_})=>eS.createElement("div",{className:_,onScroll:m},g),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),sS={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},sw=sc("button",{textAlign:"left","&:hover":{color:"$accent"}}),sN=sc("div",{display:"flex",flexDirection:"column",width:"100%"}),sO=sc("div",{...sS}),sR=sc("div",{"&:hover":{color:"$accent"}}),viewer_ke=({value:m,handleClick:g})=>eS.createElement(sw,{onClick:g},m),un=({value:m,handleClick:g})=>eS.createElement(sR,{dangerouslySetInnerHTML:{__html:m},onClick:g}),pn=()=>{function e(m){return m.map(m=>{let g=m.identifier||esm_browser_v4();return{...m,identifier:g}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(m){var g;let _=[],T=[],A=e(m);for(let m of A){for(;T.length>0&&T[T.length-1].end<=m.start;)T.pop();T.length>0?(T[T.length-1].children||(T[T.length-1].children=[]),null==(g=T[T.length-1].children)||g.push(m)):_.push(m),T.push(m)}return _},isChild:function(m,g=[]){return g.some(g=>m.start>=g.start&&m.end<=g.end)},orderCuesByTime:function(m=[]){return m.sort((m,g)=>m.start-g.start)}}},sD=sd({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),sL=sc(oT.fC,{display:"flex",flexDirection:"column",width:"100%"}),sP=sc(oT.ck,{...sS,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:sD,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:sD,boxSizing:"content-box","@sm":{content:"unset"}}}}),gn=m=>{for(;m&&m!==document.body;){let g=window.getComputedStyle(m).overflowY;if("visible"!==g&&"hidden"!==g&&m.scrollHeight>m.clientHeight)return m;m=m.parentNode}return null},vn=({label:m,start:g,end:_})=>{var T,A;let k=viewer_F(),{configOptions:C,isAutoScrollEnabled:S,isUserScrolling:w}=viewer_I(),N=null==(A=null==(T=null==C?void 0:C.informationPanel)?void 0:T.vtt)?void 0:A.autoScroll,[O,R]=(0,eS.useState)(!1),L=(0,eS.useRef)(null),P=document.getElementById("clover-iiif-video");return(0,eS.useEffect)(()=>(null==P||P.addEventListener("timeupdate",()=>{let{currentTime:m}=P;R(g<=m&&m<_)}),()=>document.removeEventListener("timeupdate",()=>{})),[_,g,P]),(0,eS.useEffect)(()=>{var m,g;if(S&&O&&L.current&&!w){let _=L.current;if(_&&_ instanceof HTMLElement){let T=gn(_);if(T&&T instanceof HTMLElement){let A;switch(null==(m=null==N?void 0:N.settings)?void 0:m.block){case"center":let C=T.getBoundingClientRect();A=_.offsetTop+_.offsetHeight-Math.floor((C.bottom-C.top)/2);break;case"end":A=_.offsetTop+_.offsetHeight-(T.clientHeight-_.clientHeight)+2;break;default:A=_.offsetTop-2}k({type:"updateAutoScrolling",isAutoScrolling:!0}),T.scrollTo({top:A,left:0,behavior:null==(g=null==N?void 0:N.settings)?void 0:g.behavior}),setTimeout(()=>k({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[N,O,w,S,k]),eS.createElement(sP,{ref:L,"aria-checked":O,"data-testid":"information-panel-cue",onClick:()=>{P&&(P.pause(),P.currentTime=g,P.play())},value:m},m,eS.createElement("strong",null,viewer_We(g)))},sM=sc("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${sP}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_ot=({items:m})=>eS.createElement(sM,null,m.map(m=>{let{text:g,start:_,end:T,children:A,identifier:k}=m;return eS.createElement("li",{key:k},eS.createElement(vn,{label:g,start:_,end:T}),A&&eS.createElement(viewer_ot,{items:A}))})),xn=({label:m,vttUri:g})=>{let[_,T]=eS.useState([]),{createNestedCues:A,orderCuesByTime:k}=pn(),[C,S]=eS.useState();return(0,eS.useEffect)(()=>{g&&fetch(g,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(m=>m.text()).then(m=>{let g=(0,oA.parse)(m).cues,_=k(g),C=A(_);T(C)}).catch(m=>{console.error(g,m.toString()),S(m)})},[g]),eS.createElement(sL,{"data-testid":"annotation-item-vtt","aria-label":`navigate ${viewer_U(m,"en")}`},C&&eS.createElement("div",{"data-testid":"error-message"},"Network Error: ",C.toString()),eS.createElement(viewer_ot,{items:_}))},viewer_at=m=>{var g,_;let T={id:"string"==typeof m?m:m.source};if("string"==typeof m){if(m.includes("#xywh=")){let g=m.split("#xywh=");if(g&&g[1]){let[m,_,A,k]=g[1].split(",").map(m=>Number(m));T={id:g[0],rect:{x:m,y:_,w:A,h:k}}}}else if(m.includes("#t=")){let g=m.split("#t=");g&&g[1]&&(T={id:g[0],t:g[1]})}}else"object"==typeof m&&((null==(g=m.selector)?void 0:g.type)==="PointSelector"?T={id:m.source,point:{x:m.selector.x,y:m.selector.y}}:(null==(_=m.selector)?void 0:_.type)==="SvgSelector"&&(T={id:m.source,svg:m.selector.value}));return T},sF=window.OpenSeadragon;if(!sF&&!(sF=ex))throw Error("OpenSeadragon is missing.");let sB="http://www.w3.org/2000/svg";sF.Viewer&&(sF.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_de(this)),this._svgOverlayInfo});let viewer_de=function(m){let g=this;this._viewer=m,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(sB,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(sB,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){g.resize()}),this._viewer.addHandler("open",function(){g.resize()}),this._viewer.addHandler("rotate",function(){g.resize()}),this._viewer.addHandler("flip",function(){g.resize()}),this._viewer.addHandler("resize",function(){g.resize()}),this.resize()};viewer_de.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let m=this._viewer.viewport.pixelFromPoint(new sF.Point(0,0),!0),g=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),T=this._viewer.viewport.getFlip(),A=this._viewer.viewport._containerInnerSize.x,k=A*g,C=k;T&&(k=-k,m.x=-m.x+A),this._node.setAttribute("transform","translate("+m.x+","+m.y+") scale("+k+","+C+") rotate("+_+")")},onClick:function(m,g){new sF.MouseTracker({element:m,clickHandler:g}).setTracking(!0)}};let bn=m=>new viewer_de(m),wn=m=>fetch(`${m.replace(/\/$/,"")}/info.json`).then(m=>m.json()).then(m=>m).catch(g=>{console.error(`The IIIF tilesource ${m.replace(/\/$/,"")}/info.json failed to load: ${g}`)}),En=m=>{let g,_;return Array.isArray(m)&&(g=m[0])&&(_="@id"in g?g["@id"]:g.id),_},viewer_me=m=>{var g;let _,T;if(In(m))_=m,T={};else{let A=JSON.parse(function(m){let g=function(m){let g=m.length%4;if(1===g)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return m+(g?"====".slice(0,4-g):"")}(m),_=g.replace(/-/g,"+").replace(/_/g,"/"),T="undefined"==typeof atob?oy.from(_,"base64").toString("utf-8"):atob(_);return decodeURIComponent(T).trim()}(m));switch(null==A?void 0:A.type){case"SpecificResource":case"Range":case"Annotation":T={manifest:_=null==A?void 0:A.target.partOf[0].id,canvas:null==A?void 0:A.target.id};break;case"Canvas":T={manifest:_=null==A?void 0:A.partOf[0].id,canvas:null==A?void 0:A.id};break;case"Manifest":_=null==A?void 0:A.id,T={collection:null==(g=null==A?void 0:A.partOf[0])?void 0:g.id,manifest:null==A?void 0:A.id};break;case"Collection":T={collection:_=null==A?void 0:A.id}}}return{resourceId:_,active:T}},Sn=m=>{let{resourceId:g,active:_}=viewer_me(m);return _.collection||_.manifest||g},Cn=(m,g)=>{let _=g.items.map(m=>m.id),{active:T}=viewer_me(m),A=T.canvas;return _.includes(A)?A:_[0]},kn=(m,g)=>{let{active:_}=viewer_me(m),T=_.manifest,A=g.items.filter(m=>"Manifest"===m.type).map(m=>m.id);return 0==A.length?null:A.includes(T)?T:A[0]},In=m=>{try{new URL(m)}catch{return!1}return!0};var sH=((en=sH||{}).TiledImage="tiledImage",en.SimpleImage="simpleImage",en);function viewer_Ae(m,g,_,T){let A=function(m){if(!m)return null;let g=document.createElement("template");return g.innerHTML=m.trim(),g.content.children[0]}(g);if(A)for(let g of A.children)!function viewer_it(m,g,_,T){var A;if("#text"===g.nodeName)g.textContent&&(g.textContent.includes(`
`)||console.log("nodeName:",g.nodeName,", textContent:",g.textContent,", childNodes.length",g.childNodes.length));else{let k=function(m,g,_){var T,A,k,C;let S=!1,w=!1,N=!1,O=!1,R=document.createElementNS("http://www.w3.org/2000/svg",m.nodeName);if(m.attributes.length>0)for(let g=0;g<m.attributes.length;g++){let _=m.attributes[g];switch(_.name){case"fill":N=!0;break;case"stroke":S=!0;break;case"stroke-width":w=!0;break;case"fill-opacity":O=!0}R.setAttribute(_.name,_.textContent)}return S||(R.style.stroke=null==(T=g.annotationOverlays)?void 0:T.borderColor),w||(R.style.strokeWidth=null==(A=g.annotationOverlays)?void 0:A.borderWidth),N||(R.style.fill=null==(k=g.annotationOverlays)?void 0:k.backgroundColor),O||(R.style.fillOpacity=null==(C=g.annotationOverlays)?void 0:C.opacity),R.setAttribute("transform",`scale(${_})`),R}(g,_,T),C=bn(m);C.node().append(k),null==(A=C._svg)||A.setAttribute("class","annotation-overlay"),g.childNodes.forEach(g=>{viewer_it(m,g,_,T)})}}(m,g,_,T)}let Ln=m=>{let g=Array.isArray(null==m?void 0:m.service)&&(null==m?void 0:m.service.length)>0,_=g?En(null==m?void 0:m.service):null==m?void 0:m.id,T=g?sH.TiledImage:sH.SimpleImage;return{uri:_,imageType:T}},Fn=(m,g)=>{let _=g?sH.TiledImage:sH.SimpleImage;return{uri:m,imageType:_}},Hn=({caption:m,handleClick:g,imageUri:_})=>eS.createElement(sw,{onClick:g},eS.createElement("img",{src:_,alt:`A visual annotation for ${m}`}),eS.createElement("span",null,m)),On=({annotation:m})=>{var g,_;let{target:T}=m,A=viewer_I(),{openSeadragonViewer:k,vault:C,activeCanvas:S,configOptions:w}=A,N=m.body.map(m=>C.get(m.id)),O=(null==(g=N.find(m=>m.format))?void 0:g.format)||"",R=(null==(_=N.find(m=>m.value))?void 0:_.value)||"",L=C.get({id:S,type:"Canvas"});function h(){var m;if(!T)return;let g=(null==(m=w.annotationOverlays)?void 0:m.zoomLevel)||1,_=viewer_at(T),{point:A,rect:C,svg:S}=_;if(A||C||S){let m=function(m,g,_){let T,A,k=40,C=40;g.rect&&(T=g.rect.x,A=g.rect.y,k=g.rect.w,C=g.rect.h),g.point&&(T=g.point.x,A=g.point.y);let S=1/m.width;return new ex.Rect(T*S-k*S/2*(_-1),A*S-C*S/2*(_-1),k*S*_,C*S*_)}(L,_,g);null==k||k.viewport.fitBounds(m)}}return eS.createElement(sO,null,function(){var m,g;switch(O){case"text/plain":return eS.createElement(viewer_ke,{value:R,handleClick:h});case"text/html":return eS.createElement(un,{value:R,handleClick:h});case"text/vtt":return eS.createElement(xn,{label:N[0].label,vttUri:N[0].id||""});case null==(m=O.match(/^image\//))?void 0:m.input:let _=(null==(g=N.find(m=>{var g;return!(null!=(g=m.id)&&g.includes("vault://"))}))?void 0:g.id)||"";return eS.createElement(Hn,{caption:R,handleClick:h,imageUri:_});default:return eS.createElement(viewer_ke,{value:R,handleClick:h})}}())},Vn=({annotationPage:m})=>{var g;let _=viewer_I(),{vault:T}=_;if(!m||!m.items||(null==(g=m.items)?void 0:g.length)===0)return eS.createElement(eS.Fragment,null);let A=m.items.map(m=>T.get(m.id));return A?eS.createElement(sN,{"data-testid":"annotation-page"},null==A?void 0:A.map(m=>eS.createElement(On,{key:m.id,annotation:m}))):eS.createElement(eS.Fragment,null)},sU=sc("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),sz=sc("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_lt=(m,g="none")=>{if(!m)return null;if("string"==typeof m)return[m];if(!m[g]){let g=Object.getOwnPropertyNames(m);if(g.length>0)return m[g[0]]}return m[g]&&Array.isArray(m[g])?m[g]:null},viewer_R=(m,g="none",_=", ")=>{let T=viewer_lt(m,g);return Array.isArray(T)?T.join(`${_}`):T};function viewer_z(m,g){let _=Object.keys(m).filter(m=>g.includes(m)?null:m),T={};return _.forEach(g=>{T[g]=m[g]}),T}let sG=sc("span",{}),viewer_P=m=>{let{as:g,label:_}=m,T=viewer_z(m,["as","label"]);return eS.createElement(sG,{as:g,...T},viewer_R(_,T.lang))},Dn=(m,g="200,",_="full")=>{let T;Array.isArray(m)&&(m=m[0]);let{id:A,service:k}=m;if(!k)return A;if(Array.isArray(m.service)&&m.service.length>0&&(T=k[0]),T){if(T["@id"])return`${T["@id"]}/${_}/${g}/0/default.jpg`;if(T.id)return`${T.id}/${_}/${g}/0/default.jpg`}},sj=sc("img",{objectFit:"cover"}),Gn=m=>{let g;let _=(0,eS.useRef)(null),{contentResource:T,altAsLabel:A,region:k="full"}=m;A&&(g=viewer_R(A));let C=viewer_z(m,["contentResource","altAsLabel"]),{type:S,id:w,width:N=200,height:O=200,duration:R}=T;(0,eS.useEffect)(()=>{if(!w&&!_.current||["Image"].includes(S)||!w.includes("m3u8"))return;let m=new nl.ZP;return _.current&&(m.attachMedia(_.current),m.on(nl.ZP.Events.MEDIA_ATTACHED,function(){m.loadSource(w)})),m.on(nl.ZP.Events.ERROR,function(g,_){if(_.fatal)switch(_.type){case nl.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${g} network error encountered, try to recover`),m.startLoad();break;case nl.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${g} media error encountered, try to recover`),m.recoverMediaError();break;default:m.destroy()}}),()=>{m&&(m.detachMedia(),m.destroy())}},[w,S]);let L=(0,eS.useCallback)(()=>{if(!_.current)return;let m=0,g=30;if(R&&(g=R),!w.split("#t=")&&R&&(m=.1*R),w.split("#t=").pop()){let g=w.split("#t=").pop();g&&(m=parseInt(g.split(",")[0]))}let T=_.current;T.autoplay=!0,T.currentTime=m,setTimeout(()=>L(),1e3*g)},[R,w]);(0,eS.useEffect)(()=>L(),[L]);let P=Dn(T,`${N},${O}`,k);switch(S){case"Image":return eS.createElement(sj,{as:"img",alt:g,css:{width:N,height:O},key:w,src:P,...C});case"Video":return eS.createElement(sj,{as:"video",css:{width:N,height:O},disablePictureInPicture:!0,key:w,loop:!0,muted:!0,onPause:L,ref:_,src:w});default:return console.warn(`Resource type: ${S} is not valid or not yet supported in Primitives.`),eS.createElement(eS.Fragment,null)}},s$=sc("a",{}),jn=m=>{let{children:g,homepage:_}=m,T=viewer_z(m,["children","homepage"]);return eS.createElement(eS.Fragment,null,_&&_.map(m=>{let _=viewer_R(m.label,T.lang);return eS.createElement(s$,{"aria-label":g?_:void 0,href:m.id,key:m.id,...T},g||_)}))},sq={delimiter:", "},sV=(0,eS.createContext)(void 0),viewer_st=()=>{let m=(0,eS.useContext)(sV);if(void 0===m)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return m},viewer_pe=({children:m,initialState:g=sq})=>{let _=Zn(g,"delimiter");return eS.createElement(sV.Provider,{value:{delimiter:_}},m)},Zn=(m,g)=>Object.hasOwn(m,g)?m[g].toString():void 0,sY=sc("span",{}),viewer_Me=m=>{let{as:g,markup:_}=m,{delimiter:T}=viewer_st();if(!_)return eS.createElement(eS.Fragment,null);let A=viewer_z(m,["as","markup"]),k={__html:ns(viewer_R(_,A.lang,T),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eS.createElement(sY,{as:g,...A,dangerouslySetInnerHTML:k})},viewer_ct=m=>eS.useContext(sV)?eS.createElement(viewer_Me,{...m}):eS.createElement(viewer_pe,null,eS.createElement(viewer_Me,{...m})),Yn=({as:m="dd",lang:g,value:_})=>eS.createElement(viewer_ct,{markup:_,as:m,lang:g}),sW=sc("span",{}),Kn=({as:m="dd",customValueContent:g,lang:_,value:T})=>{var A;let{delimiter:k}=viewer_st(),C=null==(A=viewer_lt(T,_))?void 0:A.map(m=>(0,eS.cloneElement)(g,{value:m}));return eS.createElement(sW,{as:m,lang:_},null==C?void 0:C.map((m,g)=>[g>0&&`${k}`,eS.createElement(eS.Fragment,{key:g},m)]))},viewer_dt=m=>{var g;let{item:_,lang:T,customValueContent:A}=m,{label:k,value:C}=_,S=null==(g=viewer_R(k))?void 0:g.replace(" ","-").toLowerCase();return eS.createElement("div",{role:"group","data-label":S},eS.createElement(viewer_P,{as:"dt",label:k,lang:T}),A?eS.createElement(Kn,{as:"dd",customValueContent:A,value:C,lang:T}):eS.createElement(Yn,{as:"dd",value:C,lang:T}))},sQ=sc("dl",{}),viewer_tr=m=>{let{as:g,customValueContent:_,metadata:T}=m;if(!Array.isArray(T))return eS.createElement(eS.Fragment,null);let A=viewer_Ge(m,"customValueDelimiter"),k=viewer_z(m,["as","customValueContent","customValueDelimiter","metadata"]);return eS.createElement(viewer_pe,{..."string"==typeof A?{initialState:{delimiter:A}}:void 0},T.length>0&&eS.createElement(sQ,{as:g,...k},T.map((m,g)=>{let T=_?function(m,g){let _=g.filter(g=>{let{matchingLabel:_}=g,T=Object.keys(g.matchingLabel)[0],A=viewer_R(_,T);if(viewer_R(m,T)===A)return!0}).map(m=>m.Content);if(Array.isArray(_))return _[0]}(m.label,_):void 0;return eS.createElement(viewer_dt,{customValueContent:T,item:m,key:g,lang:null==k?void 0:k.lang})})))};sc("li",{}),sc("ul",{});let sX=sc("li",{}),sK=sc("ul",{}),or=m=>{let{as:g,rendering:_}=m,T=viewer_z(m,["as","rendering"]);return eS.createElement(sK,{as:g},_&&_.map(m=>{let g=viewer_R(m.label,T.lang);return eS.createElement(sX,{key:m.id},eS.createElement("a",{href:m.id,...T,target:"_blank"},g||m.id))}))},sZ=sc("dl",{}),ir=m=>{let{as:g,requiredStatement:_}=m;if(!_)return eS.createElement(eS.Fragment,null);let T=viewer_Ge(m,"customValueDelimiter"),A=viewer_z(m,["as","customValueDelimiter","requiredStatement"]);return eS.createElement(viewer_pe,{..."string"==typeof T?{initialState:{delimiter:T}}:void 0},eS.createElement(sZ,{as:g,...A},eS.createElement(viewer_dt,{item:_,lang:A.lang})))},sJ=sc("li",{}),s0=sc("ul",{}),cr=m=>{let{as:g,seeAlso:_}=m,T=viewer_z(m,["as","seeAlso"]);return eS.createElement(s0,{as:g},_&&_.map(m=>{let g=viewer_R(m.label,T.lang);return eS.createElement(sJ,{key:m.id},eS.createElement("a",{href:m.id,...T},g||m.id))}))},viewer_dr=m=>{let{as:g,summary:_}=m,T=viewer_z(m,["as","customValueDelimiter","summary"]);return eS.createElement(viewer_ct,{as:g,markup:_,...T})},viewer_mt=m=>{let{thumbnail:g,region:_}=m,T=viewer_z(m,["thumbnail"]);return eS.createElement(eS.Fragment,null,g&&g.map(m=>eS.createElement(Gn,{contentResource:m,key:m.id,region:_,...T})))},viewer_mr=({homepage:m})=>(null==m?void 0:m.length)===0?eS.createElement(eS.Fragment,null):eS.createElement(eS.Fragment,null,eS.createElement("span",{className:"manifest-property-title"},"Homepage"),eS.createElement(jn,{homepage:m})),ur=({id:m,htmlLabel:g,parent:_="manifest"})=>eS.createElement(eS.Fragment,null,eS.createElement("span",{className:"manifest-property-title"},g),eS.createElement("a",{href:m,target:"_blank",id:`iiif-${_}-id`},m)),viewer_pr=({metadata:m,parent:g="manifest"})=>m?eS.createElement(eS.Fragment,null,eS.createElement(viewer_tr,{metadata:m,id:`iiif-${g}-metadata`})):eS.createElement(eS.Fragment,null),fr=({rendering:m})=>(null==m?void 0:m.length)===0?eS.createElement(eS.Fragment,null):eS.createElement(eS.Fragment,null,eS.createElement("span",{className:"manifest-property-title"},"Alternate formats"),eS.createElement(or,{rendering:m})),hr=({requiredStatement:m,parent:g="manifest"})=>m?eS.createElement(eS.Fragment,null,eS.createElement(ir,{requiredStatement:m,id:`iiif-${g}-required-statement`})):eS.createElement(eS.Fragment,null),gr=({rights:m})=>m?eS.createElement(eS.Fragment,null,eS.createElement("span",{className:"manifest-property-title"},"Rights"),eS.createElement("a",{href:m,target:"_blank"},m)):eS.createElement(eS.Fragment,null),viewer_vr=({seeAlso:m})=>(null==m?void 0:m.length)===0?eS.createElement(eS.Fragment,null):eS.createElement(eS.Fragment,null,eS.createElement("span",{className:"manifest-property-title"},"See Also"),eS.createElement(cr,{seeAlso:m})),yr=({summary:m,parent:g="manifest"})=>m?eS.createElement(eS.Fragment,null,eS.createElement(viewer_dr,{summary:m,as:"p",id:`iiif-${g}-summary`})):eS.createElement(eS.Fragment,null),xr=({label:m,thumbnail:g})=>(null==g?void 0:g.length)===0?eS.createElement(eS.Fragment,null):eS.createElement(eS.Fragment,null,eS.createElement(viewer_mt,{altAsLabel:m||{none:["resource"]},thumbnail:g,style:{backgroundColor:"#6663",objectFit:"cover"}})),br=()=>{let m=viewer_I(),{activeManifest:g,vault:_}=m,[T,A]=(0,eS.useState)(),[k,C]=(0,eS.useState)([]),[S,w]=(0,eS.useState)([]),[N,O]=(0,eS.useState)([]),[R,L]=(0,eS.useState)([]);return(0,eS.useEffect)(()=>{var m,T,k,S;let N=_.get(g);A(N),(null==(m=N.homepage)?void 0:m.length)>0&&C(_.get(N.homepage)),(null==(T=N.seeAlso)?void 0:T.length)>0&&w(_.get(N.seeAlso)),(null==(k=N.rendering)?void 0:k.length)>0&&O(_.get(N.rendering)),(null==(S=N.thumbnail)?void 0:S.length)>0&&L(_.get(N.thumbnail))},[g,_]),T?eS.createElement(sz,null,eS.createElement(sU,null,eS.createElement(xr,{thumbnail:R,label:T.label}),eS.createElement(yr,{summary:T.summary}),eS.createElement(viewer_pr,{metadata:T.metadata}),eS.createElement(hr,{requiredStatement:T.requiredStatement}),eS.createElement(gr,{rights:T.rights}),eS.createElement(viewer_mr,{homepage:k}),eS.createElement(viewer_vr,{seeAlso:S}),eS.createElement(fr,{rendering:N}),eS.createElement(ur,{id:T.id,htmlLabel:"IIIF Manifest"}))):eS.createElement(eS.Fragment,null)},Er=({activeCanvas:m,annotationResources:g})=>{let _=viewer_F(),T=viewer_I(),{isAutoScrolling:A,configOptions:{informationPanel:k},isUserScrolling:C}=T,[S,w]=(0,eS.useState)(),N=null==k?void 0:k.renderAbout,O=null==k?void 0:k.renderAnnotation;return(0,eS.useEffect)(()=>{N?w("manifest-about"):g&&(null==g?void 0:g.length)>0&&!N&&w(g[0].id)},[m,N,g]),eS.createElement(sv,{"data-testid":"information-panel",defaultValue:S,onValueChange:m=>{w(m)},orientation:"horizontal",value:S,className:"clover-viewer-information-panel"},eS.createElement(sb,{"aria-label":"select chapter","data-testid":"information-panel-list"},N&&eS.createElement(sx,{value:"manifest-about"},"About"),O&&g&&g.map((m,g)=>eS.createElement(sx,{key:g,value:m.id},eS.createElement(viewer_P,{label:m.label})))),eS.createElement(sI,{handleScroll:function(){if(!A){clearTimeout(C);let m=setTimeout(()=>{_({type:"updateUserScrolling",isUserScrolling:void 0})},1500);_({type:"updateUserScrolling",isUserScrolling:m})}}},N&&eS.createElement(sC,{value:"manifest-about"},eS.createElement(br,null)),O&&g&&g.map(m=>eS.createElement(sC,{key:m.id,value:m.id},eS.createElement(Vn,{annotationPage:m})))))},s1=sc("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),s2=sc("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),s3=sc("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),s4=sc("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),s5=sc("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${s1}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),Ir=(m,g)=>{(0,eS.useEffect)(()=>{function r(_){_.key===m&&g()}return window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)},[])},$r=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Arrow Back"),eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),Ar=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Arrow Forward"),eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),viewer_Tr=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Close"),eS.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),Mr=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eS.createElement("title",null,"Search"),eS.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Rr=({handleCanvasToggle:m,handleFilter:g,activeIndex:_,canvasLength:T})=>{let[A,k]=(0,eS.useState)(!1),[C,S]=(0,eS.useState)(!1),[w,N]=(0,eS.useState)(!1);return(0,eS.useEffect)(()=>{N(0===_),_===T-1?S(!0):S(!1)},[_,T]),Ir("Escape",()=>{k(!1),g("")}),eS.createElement(s5,{isToggle:A},eS.createElement(s1,null,A&&eS.createElement(s2,{autoFocus:!0,onChange:m=>g(m.target.value),placeholder:"Search"}),!A&&eS.createElement(s4,null,eS.createElement(s3,{onClick:()=>m(-1),disabled:w,type:"button"},eS.createElement($r,null)),eS.createElement("span",null,_+1," of ",T),eS.createElement(s3,{onClick:()=>m(1),disabled:C,type:"button"},eS.createElement(Ar,null))),eS.createElement(s3,{onClick:()=>{k(m=>!m),g("")},type:"button"},A?eS.createElement(viewer_Tr,null):eS.createElement(Mr,null))))},s6=sc(oT.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),s8=sc("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_A=m=>eS.createElement(s8,{...m,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},m.children);viewer_A.Title=({children:m})=>eS.createElement("title",null,m),viewer_A.Add=()=>eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_A.Audio=()=>eS.createElement(eS.Fragment,null,eS.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),eS.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),eS.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_A.Close=()=>eS.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_A.Image=()=>eS.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_A.Video=()=>eS.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let s9=sd({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),s7=sd({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),le=sc(o8.Eh,{fill:"$secondaryAlt"}),lt=sc(o8.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),ln=sc(o8.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:s7},'&[data-side="bottom"]':{animationName:s9},'&[data-align="end"]':{[`& ${le}`]:{margin:"0 0.7rem"}}}),lr=sc(o8.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),li=sc(o8.fC,{boxSizing:"content-box"}),viewer_j=({children:m})=>eS.createElement(li,null,m);viewer_j.Trigger=m=>eS.createElement(lr,{...m},m.children),viewer_j.Content=m=>eS.createElement(ln,{...m},eS.createElement(le,null),eS.createElement(lt,null,eS.createElement(viewer_A,{isSmall:!0},eS.createElement(viewer_A.Close,null))),m.children);let la=sc("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${s8}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),lo=sc("span",{display:"flex"}),ls=sc("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),ll=sc("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),lc=sc(oT.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${lo}`]:{position:"absolute",right:"0",bottom:"0",[`& ${la}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${lo}`]:{[`& ${la}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Yr=({type:m})=>{switch(m){case"Sound":return eS.createElement(viewer_A.Audio,null);case"Image":default:return eS.createElement(viewer_A.Image,null);case"Video":return eS.createElement(viewer_A.Video,null)}},Jr=({canvas:m,canvasIndex:g,isActive:_,thumbnail:T,type:A,handleChange:k})=>eS.createElement(lc,{"aria-checked":_,"data-testid":"media-thumbnail","data-canvas":g,onClick:()=>k(m.id),value:m.id},eS.createElement("figure",null,eS.createElement("div",null,(null==T?void 0:T.id)&&eS.createElement("img",{src:T.id,alt:null!=m&&m.label?viewer_U(m.label):""}),eS.createElement(lo,null,eS.createElement(la,{isIcon:!0,"data-testid":"thumbnail-tag"},eS.createElement(ls,null),eS.createElement(viewer_A,{"aria-label":A},eS.createElement(Yr,{type:A})),["Video","Sound"].includes(A)&&eS.createElement(ll,null,viewer_We(m.duration))))),(null==m?void 0:m.label)&&eS.createElement("figcaption",{"data-testid":"fig-caption"},eS.createElement(viewer_P,{label:m.label})))),Kr=m=>m.body?m.body.type:"Image",Qr=({items:m})=>{let g=viewer_F(),_=viewer_I(),{activeCanvas:T,vault:A}=_,[k,C]=(0,eS.useState)(""),[S,w]=(0,eS.useState)([]),[N,O]=(0,eS.useState)(0),R=eS.useRef(null),p=m=>{T!==m&&g({type:"updateActiveCanvas",canvasId:m})};return(0,eS.useEffect)(()=>{if(!S.length){let g=["Image","Sound","Video"],_=m.map(m=>viewer_Ze(A,m,"painting",g)).filter(m=>m.annotations.length>0);w(_)}},[m,S.length,A]),(0,eS.useEffect)(()=>{S.forEach((m,g)=>{null!=m&&m.canvas&&m.canvas.id===T&&O(g)})},[T,S]),(0,eS.useEffect)(()=>{let m=document.querySelector(`[data-canvas="${N}"]`);if(m instanceof HTMLElement&&R.current){let g=m.offsetLeft-R.current.offsetWidth/2+m.offsetWidth/2;R.current.scrollTo({left:g,behavior:"smooth"})}},[N]),eS.createElement(eS.Fragment,null,eS.createElement(Rr,{handleFilter:m=>C(m),handleCanvasToggle:m=>{let g=S[N+m];null!=g&&g.canvas&&p(g.canvas.id)},activeIndex:N,canvasLength:S.length}),eS.createElement(s6,{"aria-label":"select item","data-testid":"media",ref:R},S.filter(m=>{var g;if(null!=(g=m.canvas)&&g.label){let g=viewer_U(m.canvas.label);if(Array.isArray(g))return g[0].toLowerCase().includes(k.toLowerCase())}}).map((m,g)=>{var _,k;return eS.createElement(Jr,{canvas:m.canvas,canvasIndex:g,handleChange:p,isActive:T===(null==(_=null==m?void 0:m.canvas)?void 0:_.id),key:null==(k=null==m?void 0:m.canvas)?void 0:k.id,thumbnail:Jt(A,m,200,200),type:Kr(m.annotations[0])})})))},lu=sc("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),ld=sc("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),lm=sc(ld,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),lh=sc("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${lm}`]:{backgroundColor:"$accent"},[`${lu}`]:{backgroundColor:"#6662"}}}),lp=sc("div",{width:"100%",height:"100%"}),lf=sc("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),lg=sc(o9.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),l_=sc(o9.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),lE=sc(o9.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),lT=sc(o9.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),lA=sc(o9.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_re=({direction:m,title:g})=>eS.createElement(lf,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",null,g),"up"===m&&eS.createElement(()=>eS.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===m&&eS.createElement(()=>eS.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_xt=({children:m,label:g,maxHeight:_,onValueChange:T,value:A})=>eS.createElement(lA,{onValueChange:T,value:A},eS.createElement(lg,{"data-testid":"select-button"},eS.createElement(o9.ki,{"data-testid":"select-button-value"}),eS.createElement(o9.GV,null,eS.createElement(viewer_re,{direction:"down",title:"select"}))),eS.createElement(o9.ue,null,eS.createElement(l_,{css:{maxHeight:`${_} !important`},"data-testid":"select-content"},eS.createElement(o9.Pn,null,eS.createElement(viewer_re,{direction:"up",title:"scroll up for more"})),eS.createElement(o9.Q_,null,eS.createElement(o9.DI,null,g&&eS.createElement(lT,null,eS.createElement(viewer_P,{"data-testid":"select-label",label:g})),m)),eS.createElement(o9.Jk,null,eS.createElement(viewer_re,{direction:"down",title:"scroll down for more"}))))),bt=m=>eS.createElement(lE,{...m},m.thumbnail&&eS.createElement(viewer_mt,{thumbnail:m.thumbnail}),eS.createElement(o9.S_,null,eS.createElement(viewer_P,{label:m.label})),eS.createElement(o9.o6,null)),ly=sc("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),lk=sc("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),lv=sc("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${ly}`]:{display:"block"}},false:{[`${ly}`]:{display:"none"}}}}}),viewer_B=({className:m,id:g,label:_,children:T})=>{let A=_.toLowerCase().replace(/\s/g,"-");return eS.createElement(ld,{id:g,className:m,"data-testid":"openseadragon-button","data-button":A},eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${g}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",{id:`${g}-svg-title`},_),T))},lb=sc("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),mo=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),uo=()=>eS.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),po=()=>eS.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),fo=()=>eS.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_Re=()=>eS.createElement(eS.Fragment,null,eS.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eS.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ho=({_cloverViewerHasPlaceholder:m,config:g})=>eS.createElement(lb,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:m},g.showZoomControl&&eS.createElement(eS.Fragment,null,eS.createElement(viewer_B,{id:g.zoomInButton,label:"zoom in"},eS.createElement(mo,null)),eS.createElement(viewer_B,{id:g.zoomOutButton,label:"zoom out"},eS.createElement(uo,null))),g.showFullPageControl&&eS.createElement(viewer_B,{id:g.fullPageButton,label:"full page"},eS.createElement(po,null)),g.showRotationControl&&eS.createElement(eS.Fragment,null,eS.createElement(viewer_B,{id:g.rotateRightButton,label:"rotate right"},eS.createElement(viewer_Re,null)),eS.createElement(viewer_B,{id:g.rotateLeftButton,label:"rotate left"},eS.createElement(viewer_Re,null))),g.showHomeControl&&eS.createElement(viewer_B,{id:g.homeButton,label:"reset"},eS.createElement(fo,null))),go=({ariaLabel:m,config:g,uri:_,_cloverViewerHasPlaceholder:T,imageType:A,openSeadragonCallback:k})=>{let[C,S]=(0,eS.useState)(),[w,N]=(0,eS.useState)();return(0,eS.useEffect)(()=>(w||N(ex(g)),()=>null==w?void 0:w.destroy()),[]),(0,eS.useEffect)(()=>{w&&k&&k(w)},[w,k]),(0,eS.useEffect)(()=>{_!==C&&S(_)},[C,_]),(0,eS.useEffect)(()=>{if(C&&w)switch(A){case"simpleImage":w.addSimpleImage({url:C});break;case"tiledImage":wn(C).then(m=>{try{if(!m)throw Error(`No tile source found for ${C}`);w.addTiledImage({tileSource:m})}catch(m){console.error(m)}});break;default:w.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${A}"`)}},[A,C,w]),eS.createElement(lv,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":g.id,hasNavigator:g.showNavigator},eS.createElement(ho,{_cloverViewerHasPlaceholder:T,config:g}),g.showNavigator&&eS.createElement(ly,{id:g.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eS.createElement(lk,{id:g.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...m&&{"aria-label":m}}))},yo=({_cloverViewerHasPlaceholder:m=!1,body:g,instanceId:_,isTiledImage:T=!1,label:A,src:k="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let w=_||esm_browser_v4(),N="string"==typeof A?A:viewer_R(A),O={id:`openseadragon-${w}`,navigatorId:`openseadragon-navigator-${w}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${w}`,homeButton:`reset-${w}`,rotateLeftButton:`rotateLeft-${w}`,rotateRightButton:`rotateRight-${w}`,zoomInButton:`zoomIn-${w}`,zoomOutButton:`zoomOut-${w}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:R,uri:L}=g?Ln(g):Fn(k,T);return L?eS.createElement(eC.SV,{FallbackComponent:viewer_Xe},eS.createElement(go,{_cloverViewerHasPlaceholder:m,ariaLabel:N,config:O,imageType:R,key:w,uri:L,openSeadragonCallback:C})):null},xo=({isMedia:m,label:g,placeholderCanvas:_,setIsInteractive:T})=>{let{vault:A}=viewer_I(),k=viewer_q(A,_),C=k?k[0]:void 0,S=g?viewer_U(g):["placeholder image"];return eS.createElement(lu,{onClick:()=>T(!0),isMedia:m,className:"clover-viewer-placeholder"},eS.createElement("img",{src:(null==C?void 0:C.id)||"",alt:S.join(),height:null==C?void 0:C.height,width:null==C?void 0:C.width}))},lx=sc("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),lC=eS.forwardRef((m,g)=>{let _=eS.useRef(null),T=(0,eS.useCallback)(()=>{var m,T;if(null!=(m=g.current)&&m.currentTime&&(null==(T=g.current)?void 0:T.currentTime)>0)return;let A=g.current;if(!A)return;let k=new AudioContext,C=k.createMediaElementSource(A),S=k.createAnalyser(),w=_.current;if(!w)return;w.width=A.offsetWidth,w.height=A.offsetHeight;let N=w.getContext("2d");C.connect(S),S.connect(k.destination),S.fftSize=256;let O=S.frequencyBinCount,R=new Uint8Array(O);setInterval(function(){!function(m,g,_,T,A,k){let C=A/_*2.6,S,w=0;m.getByteFrequencyData(T),g.fillStyle="#000000",g.fillRect(0,0,A,k);for(let m=0;m<_;m++)S=2*T[m],g.fillStyle="rgba(78, 42, 132, 1)",g.fillRect(w,k-S,C,S),w+=C+6}(S,N,O,R,w.width,w.height)},20)},[g]);return eS.useEffect(()=>{g&&g.current&&(g.current.onplay=T)},[T,g]),eS.createElement(lx,{ref:_,role:"presentation"})}),lI=sc("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),So=({resource:m,ignoreCaptionLabels:g})=>{let _=viewer_U(m.label,"en");return Array.isArray(_)&&_.some(m=>g.includes(m))?null:eS.createElement("track",{key:m.id,src:m.id,label:Array.isArray(_)?_[0]:_,srcLang:"en","data-testid":"player-track"})},lS=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],ko=({allSources:m,annotationResources:g,painting:_})=>{let[T,A]=eS.useState(0),[k,C]=eS.useState(),S=eS.useRef(null),w=(null==_?void 0:_.type)==="Sound",N=viewer_I(),{activeCanvas:O,configOptions:R,vault:L}=N;return(0,eS.useEffect)(()=>{if(!_.id||!S.current)return;if(null!=S&&S.current){let m=S.current;m.src=_.id,m.load()}if("m3u8"!==_.id.split(".").pop()&&_.format&&!lS.includes(_.format))return;let m=new nl.ZP({xhrSetup:function(m,g){m.withCredentials=!!R.withCredentials}});return m.attachMedia(S.current),m.on(nl.ZP.Events.MEDIA_ATTACHED,function(){m.loadSource(_.id)}),m.on(nl.ZP.Events.ERROR,function(g,_){if(_.fatal)switch(_.type){case nl.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${g} network error encountered, try to recover`),m.startLoad();break;case nl.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${g} media error encountered, try to recover`),m.recoverMediaError();break;default:m.destroy()}}),()=>{if(m&&S.current){let g=S.current;m.detachMedia(),m.destroy(),g.currentTime=0}}},[R.withCredentials,_.id]),(0,eS.useEffect)(()=>{var m,g,_,A;let k=L.get(O),S=null!=(m=k.accompanyingCanvas)&&m.id?viewer_q(L,null==(g=k.accompanyingCanvas)?void 0:g.id):null,w=null!=(_=k.placeholderCanvas)&&_.id?viewer_q(L,null==(A=k.placeholderCanvas)?void 0:A.id):null;S&&w?C(0===T?w[0].id:S[0].id):(S&&C(S[0].id),w&&C(w[0].id))},[O,T,L]),(0,eS.useEffect)(()=>{if(null!=S&&S.current){let m=S.current;return null==m||m.addEventListener("timeupdate",()=>A(m.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),eS.createElement(lI,{css:{backgroundColor:R.canvasBackgroundColor,maxHeight:R.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},eS.createElement("video",{id:"clover-iiif-video",key:_.id,ref:S,controls:!0,height:_.height,width:_.width,crossOrigin:"anonymous",poster:k,style:{maxHeight:R.canvasHeight,position:"relative",zIndex:"1"}},m.map(m=>eS.createElement("source",{src:m.id,type:m.format,key:m.id})),(null==g?void 0:g.length)>0&&g.map(m=>{let g=[];return m.items.forEach(m=>{L.get(m.id).body.forEach(m=>{let _=L.get(m.id);g.push(_)})}),g.map(m=>eS.createElement(So,{resource:m,ignoreCaptionLabels:R.ignoreCaptionLabels||[],key:m.id}))}),"Sorry, your browser doesn't support embedded videos."),w&&eS.createElement(lC,{ref:S}))},Io=()=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",{id:"close-svg-title"},"close"),eS.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),$o=({isMedia:m})=>eS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eS.createElement("title",{id:"open-svg-title"},"open"),m?eS.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):eS.createElement(eS.Fragment,null,eS.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),eS.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),Ao=({handleToggle:m,isInteractive:g,isMedia:_})=>eS.createElement(lm,{onClick:m,isInteractive:g,isMedia:_,"data-testid":"placeholder-toggle"},g?eS.createElement(Io,null):eS.createElement($o,{isMedia:_})),To=({activeCanvas:m,annotationResources:g,isMedia:_,painting:T})=>{var A,k,C,S,w,N;let[O,R]=eS.useState(0),[L,P]=eS.useState(!1),{configOptions:F,customDisplays:z,openSeadragonViewer:$,vault:q,viewerId:Q}=viewer_I(),K=viewer_F(),Z=q.get(m),et=null==(A=null==Z?void 0:Z.placeholderCanvas)?void 0:A.id,en=!!et,er=(null==T?void 0:T.length)>1,ei=et&&!L&&!_,ea=`${Q}-${Dt(m+O)}`,eo=z.find(g=>{var _;let A=!1,{canvasId:k,paintingFormat:C}=g.target;if(Array.isArray(k)&&k.length>0&&(A=k.includes(m)),Array.isArray(C)&&C.length>0){let m=(null==(_=T[O])?void 0:_.format)||"";A=!!(m&&C.includes(m))}return A}),es=[];null==(C=null==(k=g[0])?void 0:k.items)||C.forEach(m=>{let g=q.get(m.id);es.push(g)}),(0,eS.useEffect)(()=>{var m;es&&$&&null!=(m=F.annotationOverlays)&&m.renderOverlays&&function(m,g,_,T){if(!m)return;let A=1/g.width;T.forEach(g=>{if(!g.target)return;let T=viewer_at(g.target),{point:k,rect:C,svg:S}=T;if(C){let{x:g,y:T,w:k,h:S}=C;(function(m,g,_,T,A,k){let C=new ex.Rect(g,_,T,A),S=document.createElement("div");if(k.annotationOverlays){let{backgroundColor:m,opacity:g,borderType:_,borderColor:T,borderWidth:A}=k.annotationOverlays;S.style.backgroundColor=m,S.style.opacity=g,S.style.border=`${_} ${A} ${T}`,S.className="annotation-overlay"}m.addOverlay(S,C)})(m,g*A,T*A,k*A,S*A,_)}if(k){let{x:g,y:T}=k,C=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${g}" cy="${T}" r="20" />
        </svg>
      `;viewer_Ae(m,C,_,A)}S&&viewer_Ae(m,S,_,A)})}($,Z,F,es)},[null==Z?void 0:Z.id,es,$,null==(S=F.annotationOverlays)?void 0:S.renderOverlays]);let el=null==(w=null==eo?void 0:eo.display)?void 0:w.component;return eS.createElement(lh,{className:"clover-viewer-painting"},eS.createElement(lp,{style:{backgroundColor:F.canvasBackgroundColor,height:"auto"===F.canvasHeight?"100%":F.canvasHeight}},et&&!_&&eS.createElement(Ao,{handleToggle:()=>P(!L),isInteractive:L,isMedia:_}),ei&&!_&&eS.createElement(xo,{isMedia:_,label:null==Z?void 0:Z.label,placeholderCanvas:et,setIsInteractive:P}),!ei&&!eo&&(_?eS.createElement(ko,{allSources:T,painting:T[O],annotationResources:g}):T&&eS.createElement(yo,{_cloverViewerHasPlaceholder:en,body:T[O],instanceId:ea,key:ea,openSeadragonCallback:m=>{m&&(null==$?void 0:$.id)!==`openseadragon-${ea}`&&K({type:"updateOpenSeadragonViewer",openSeadragonViewer:m})},openSeadragonConfig:F.openSeadragon})),!ei&&el&&eS.createElement(el,{id:m,annotationBody:T[O],...null==eo?void 0:eo.display.componentProps})),er&&eS.createElement(viewer_xt,{value:null==(N=T[O])?void 0:N.id,onValueChange:m=>{let g=T.findIndex(g=>g.id===m);R(g)},maxHeight:"200px"},null==T?void 0:T.map(m=>eS.createElement(bt,{value:null==m?void 0:m.id,key:null==m?void 0:m.id,label:null==m?void 0:m.label}))))},Mo=({activeCanvas:m,annotationResources:g,isAudioVideo:_,items:T,painting:A})=>{let{isInformationOpen:k,configOptions:C}=viewer_I(),{informationPanel:S}=C,w=(null==S?void 0:S.renderAbout)&&k,N=(null==S?void 0:S.renderAnnotation)&&g.length>0&&!S.open;return console.log(w,N),eS.createElement(s_,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},eS.createElement(sE,null,eS.createElement(To,{activeCanvas:m,annotationResources:g,isMedia:_,painting:A}),w&&eS.createElement(sT,null,eS.createElement("span",null,k?"View Items":"More Information")),T.length>1&&eS.createElement(sg,{className:"clover-viewer-media-wrapper"},eS.createElement(Qr,{items:T,activeItem:0}))),(w||N)&&eS.createElement(sy,null,eS.createElement(sA,null,eS.createElement(Er,{activeCanvas:m,annotationResources:g}))))},lw=sc(viewer_j.Trigger,{width:"30px",padding:"5px"}),lN=sc(viewer_j.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),lO=sc("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),lR=sc("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${lA}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),lD=sc("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),Oo=()=>{var m;let g=viewer_F(),_=viewer_I(),{activeManifest:T,collection:A,configOptions:k,vault:C}=_,S=null==k?void 0:k.canvasHeight;return eS.createElement("div",{style:{margin:"0.75rem"}},eS.createElement(viewer_xt,{label:A.label,maxHeight:S,value:T,onValueChange:m=>{g({type:"updateActiveManifest",manifestId:m}),g({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(m=null==A?void 0:A.items)?void 0:m.map(m=>eS.createElement(bt,{value:m.id,key:m.id,thumbnail:null!=m&&m.thumbnail?C.get(null==m?void 0:m.thumbnail):void 0,label:m.label}))))},Vo=(m,g=2500)=>{let[_,T]=(0,eS.useState)(),A=(0,eS.useCallback)(()=>{navigator.clipboard.writeText(m).then(()=>T("copied"),()=>T("failed"))},[m]);return(0,eS.useEffect)(()=>{if(!_)return;let m=setTimeout(()=>T(void 0),g);return()=>clearTimeout(m)},[_]),[_,A]},lL=sc("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",fontSize:"0.6111rem",textTransform:"uppercase",lineHeight:"1em"}),Po=({status:m})=>m?eS.createElement(lL,{"data-copy-status":m},m):null,viewer_ze=({textPrompt:m,textToCopy:g})=>{let[_,T]=Vo(g);return eS.createElement("button",{onClick:T},m," ",eS.createElement(Po,{status:_}))},_o=()=>{let m="#ed1d33",g="#2873ab";return eS.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},eS.createElement("title",null,"IIIF Manifest Options"),eS.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},eS.createElement("g",{transform:"scale(0.1)"},eS.createElement("path",{style:{fill:g},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),eS.createElement("path",{style:{fill:g},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),eS.createElement("path",{style:{fill:m},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),eS.createElement("path",{style:{fill:m},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),eS.createElement("path",{style:{fill:g},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),eS.createElement("path",{style:{fill:g},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),eS.createElement("path",{style:{fill:m},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},lP=sc(o7.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),lM=sc(o7.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),lF=sc("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),lB=sc("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Uo=()=>{var m;let{configOptions:g}=viewer_I(),_=viewer_F(),[T,A]=(0,eS.useState)(null==(m=null==g?void 0:g.informationPanel)?void 0:m.open);return(0,eS.useEffect)(()=>{_({type:"updateInformationOpen",isInformationOpen:T})},[T,_]),eS.createElement(lB,null,eS.createElement(lF,{htmlFor:"information-toggle",css:T?{opacity:"1"}:{}},"More Information"),eS.createElement(lP,{checked:T,onCheckedChange:()=>A(!T),id:"information-toggle","aria-label":"information panel toggle",name:"toggled?"},eS.createElement(lM,null)))},viewer_wt=m=>{let n=()=>!!window.matchMedia&&window.matchMedia(m).matches,[g,_]=(0,eS.useState)(n);return(0,eS.useEffect)(()=>{let o=()=>_(n);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),g},jo=({manifestId:m,manifestLabel:g})=>{let _=viewer_I(),{collection:T,configOptions:A}=_,{showTitle:k,showIIIFBadge:C,informationPanel:S}=A,w=C||(null==S?void 0:S.renderToggle),N=viewer_wt(sl.sm);return eS.createElement(lR,{className:"clover-viewer-header"},null!=T&&T.items?eS.createElement(Oo,null):eS.createElement(lO,{className:k?"":"visually-hidden"},k&&eS.createElement(viewer_P,{label:g,className:"label"})),w&&eS.createElement(lD,null,C&&eS.createElement(viewer_j,null,eS.createElement(lw,null,eS.createElement(_o,null)),eS.createElement(lN,null,(null==T?void 0:T.items)&&eS.createElement("button",{onClick:m=>{m.preventDefault(),window.open(T.id,"_blank")}},"View Collection"),eS.createElement("button",{onClick:g=>{g.preventDefault(),window.open(m,"_blank")}},"View Manifest")," ",(null==T?void 0:T.items)&&eS.createElement(viewer_ze,{textPrompt:"Copy Collection URL",textToCopy:T.id}),eS.createElement(viewer_ze,{textPrompt:"Copy Manifest URL",textToCopy:m}))),(null==S?void 0:S.renderToggle)&&!N&&eS.createElement(Uo,null)))},qo=(m=!1)=>{let[g,_]=(0,eS.useState)(m);return(0,eS.useLayoutEffect)(()=>{if(!g)return;let m=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=m}},[g]),(0,eS.useEffect)(()=>{g!==m&&_(m)},[m]),[g,_]},Zo=({manifest:m,theme:g})=>{var _;let T=viewer_I(),A=viewer_F(),{activeCanvas:k,isInformationOpen:C,vault:S,configOptions:w}=T,N=(null==w?void 0:w.canvasHeight)&&["100%","auto"].includes(null==w?void 0:w.canvasHeight),[O,R]=(0,eS.useState)(!1),[L,P]=(0,eS.useState)(!1),[F,z]=(0,eS.useState)([]),[$,q]=(0,eS.useState)([]),[Q,K]=qo(!1),Z=viewer_wt(sl.sm),et=(0,eS.useCallback)(m=>{A({type:"updateInformationOpen",isInformationOpen:m})},[A]);return(0,eS.useEffect)(()=>{var m;null!=(m=null==w?void 0:w.informationPanel)&&m.open&&et(!Z)},[Z,null==(_=null==w?void 0:w.informationPanel)?void 0:_.open,et]),(0,eS.useEffect)(()=>{if(!Z){K(!1);return}K(C)},[C,Z,K]),(0,eS.useEffect)(()=>{let m=viewer_q(S,k);m&&(P(["Sound","Video"].indexOf(m[0].type)>-1),z(m));let g=Yt(S,k);g.length>0&&A({type:"updateInformationOpen",isInformationOpen:!0}),q(g),R(0!==g.length)},[k,S,A]),eS.createElement(eC.SV,{FallbackComponent:viewer_Xe},eS.createElement(sk,{className:`${g} clover-viewer`,css:{background:null==w?void 0:w.background},"data-body-locked":Q,"data-absolute-position":N,"data-information-panel":O,"data-information-panel-open":C},eS.createElement(o_.fC,{open:C,onOpenChange:et},eS.createElement(jo,{manifestLabel:m.label,manifestId:m.id}),eS.createElement(Mo,{activeCanvas:k,painting:F,annotationResources:$,items:m.items,isAudioVideo:L}))))},lH={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_Fe(m,g=null){return{ok:!1,status:m.status,statusText:m.statusText,headers:m.getAllResponseHeaders(),data:g||m.statusText,json:()=>JSON.parse(g||m.statusText)}}let ma=({canvasIdCallback:m=()=>{},customDisplays:g=[],customTheme:_,iiifContent:T,id:A,manifestId:k,options:C})=>{var S,w,N;let O=T;A&&(O=A),k&&(O=k);let R=viewer_Ue(null==(w=null==(S=null==C?void 0:C.informationPanel)?void 0:S.vtt)?void 0:w.autoScroll);return eS.createElement(Xt,{initialState:{...sa,customDisplays:g,isAutoScrollEnabled:R.enabled,isInformationOpen:!!(null!=(N=null==C?void 0:C.informationPanel)&&N.open),vault:new Vault({customFetcher:m=>(function(m,g=lH){let _=g.headers||lH.headers;return new Promise((T,A)=>{let k=new XMLHttpRequest;k.open("get",m),k.withCredentials=g.withCredentials,_&&Object.keys(_).forEach(m=>k.setRequestHeader(m,_[m])),k.onload=()=>{T({ok:k.status>=200&&k.status<300,status:k.status,statusText:k.statusText,headers:k.getAllResponseHeaders(),data:k.responseText,json:()=>JSON.parse(k.responseText)})},k.onerror=()=>{A(viewer_Fe(k,"Failed to make request."))},k.ontimeout=()=>{A(viewer_Fe(k,"Request took longer than expected."))},k.send()})})(m,{withCredentials:null==C?void 0:C.withCredentials,headers:null==C?void 0:C.requestHeaders}).then(m=>JSON.parse(m.data))})}},eS.createElement(Jo,{iiifContent:O,canvasIdCallback:m,customTheme:_,options:C}))},Jo=({canvasIdCallback:m,customTheme:g,iiifContent:_,options:T})=>{let A=viewer_F(),k=viewer_I(),{activeCanvas:C,activeManifest:S,isLoaded:w,vault:N}=k,[O,R]=(0,eS.useState)(),[L,P]=(0,eS.useState)(),F={};return g&&(F=(0,eI.jG)("custom",g)),(0,eS.useEffect)(()=>{m&&m(C)},[C,m]),(0,eS.useEffect)(()=>{S&&N.loadManifest(S).then(m=>{P(m),A({type:"updateActiveCanvas",canvasId:Cn(_,m)})}).catch(m=>{console.error(`Manifest failed to load: ${m}`)}).finally(()=>{A({type:"updateIsLoaded",isLoaded:!0})})},[_,S,A,N]),(0,eS.useEffect)(()=>{A({type:"updateConfigOptions",configOptions:T});let m=Sn(_);N.load(m).then(m=>{R(m)}).catch(m=>{console.error(`The IIIF resource ${_} failed to load: ${m}`)})},[A,_,T,N]),(0,eS.useEffect)(()=>{if((null==O?void 0:O.type)==="Collection"){A({type:"updateCollection",collection:O});let m=kn(_,O);m&&A({type:"updateActiveManifest",manifestId:m})}else(null==O?void 0:O.type)==="Manifest"&&A({type:"updateActiveManifest",manifestId:O.id})},[A,_,O]),w?L&&L.items?0===L.items.length?(console.log(`The IIIF manifest ${_} does not contain canvases.`),eS.createElement(eS.Fragment,null)):eS.createElement(Zo,{manifest:L,theme:F,key:L.id}):(console.log(`The IIIF manifest ${_} failed to load.`),eS.createElement(eS.Fragment,null)):eS.createElement(eS.Fragment,null,"Loading")};var lU=ma}}]);