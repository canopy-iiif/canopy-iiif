(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9341],{94470:function(A){"use strict";var B=Object.prototype.hasOwnProperty,H=Object.prototype.toString,$=Object.defineProperty,W=Object.getOwnPropertyDescriptor,isArray=function(A){return"function"==typeof Array.isArray?Array.isArray(A):"[object Array]"===H.call(A)},isPlainObject=function(A){if(!A||"[object Object]"!==H.call(A))return!1;var $,W=B.call(A,"constructor"),K=A.constructor&&A.constructor.prototype&&B.call(A.constructor.prototype,"isPrototypeOf");if(A.constructor&&!W&&!K)return!1;for($ in A);return void 0===$||B.call(A,$)},setProperty=function(A,B){$&&"__proto__"===B.name?$(A,B.name,{enumerable:!0,configurable:!0,value:B.newValue,writable:!0}):A[B.name]=B.newValue},getProperty=function(A,H){if("__proto__"===H){if(!B.call(A,H))return;if(W)return W(A,H).value}return A[H]};A.exports=function extend(){var A,B,H,$,W,K,et=arguments[0],en=1,er=arguments.length,ei=!1;for("boolean"==typeof et&&(ei=et,et=arguments[1]||{},en=2),(null==et||"object"!=typeof et&&"function"!=typeof et)&&(et={});en<er;++en)if(A=arguments[en],null!=A)for(B in A)H=getProperty(et,B),et!==($=getProperty(A,B))&&(ei&&$&&(isPlainObject($)||(W=isArray($)))?(W?(W=!1,K=H&&isArray(H)?H:[]):K=H&&isPlainObject(H)?H:{},setProperty(et,{name:B,newValue:extend(ei,K,$)})):void 0!==$&&setProperty(et,{name:B,newValue:$}));return et}},44921:function(A,B,H){"use strict";var $;function u(A){return void 0===A||A}function v(A){let B=Array(A);for(let H=0;H<A;H++)B[H]=x();return B}function x(){return Object.create(null)}function aa(A,B){return B.length-A.length}function C(A){return"string"==typeof A}function D(A){return"object"==typeof A}function E(A){return"function"==typeof A}function F(A,B){var H=W;if(A&&(B&&(A=G(A,B)),this.H&&(A=G(A,this.H)),this.J&&1<A.length&&(A=G(A,this.J)),H||""===H)){if(B=A.split(H),this.filter){A=this.filter,H=B.length;let $=[];for(let W=0,K=0;W<H;W++){let H=B[W];H&&!A[H]&&($[K++]=H)}A=$}else A=B}return A}let W=/[\p{Z}\p{S}\p{P}\p{C}]+/u,K=/[\u0300-\u036f]/g;function I(A,B){let H=Object.keys(A),$=H.length,W=[],K="",et=0;for(let en=0,er,ei;en<$;en++)(ei=A[er=H[en]])?(W[et++]=J(B?"(?!\\b)"+er+"(\\b|_)":er),W[et++]=ei):K+=(K?"|":"")+er;return K&&(W[et++]=J(B?"(?!\\b)("+K+")(\\b|_)":"("+K+")"),W[et]=""),W}function G(A,B){for(let H=0,$=B.length;H<$&&(A=A.replace(B[H],B[H+1]));H+=2);return A}function J(A){return RegExp(A,"g")}function da(A){let B="",H="";for(let $=0,W=A.length,K;$<W;$++)(K=A[$])!==H&&(B+=H=K);return B}function ea(A){return F.call(this,(""+A).toLowerCase(),!1)}let et={},en={};function ia(A){L(A,"add"),L(A,"append"),L(A,"search"),L(A,"update"),L(A,"remove")}function L(A,B){A[B+"Async"]=function(){let A;let H=this,$=arguments;var W=$[$.length-1];return E(W)&&(A=W,delete $[$.length-1]),W=new Promise(function(A){setTimeout(function(){H.async=!0;let W=H[B].apply(H,$);H.async=!1,A(W)})}),A?(W.then(A),this):W}}function ja(A,B,H,$){let W=A.length,K=[],et,en,er=0;$&&($=[]);for(let ei=W-1;0<=ei;ei--){let eo=A[ei],el=eo.length,es=x(),ec=!et;for(let A=0;A<el;A++){let el=eo[A],eu=el.length;if(eu)for(let A=0,eo,ed;A<eu;A++)if(ed=el[A],et){if(et[ed]){if(!ei){if(H)H--;else if(K[er++]=ed,er===B)return K}(ei||$)&&(es[ed]=1),ec=!0}if($&&(eo=(en[ed]||0)+1,en[ed]=eo,eo<W)){let A=$[eo-2]||($[eo-2]=[]);A[A.length]=ed}}else es[ed]=1}if($)et||(en=es);else if(!ec)return[];et=es}if($)for(let A=$.length-1,W,en;0<=A;A--){en=(W=$[A]).length;for(let A=0,$;A<en;A++)if(!et[$=W[A]]){if(H)H--;else if(K[er++]=$,er===B)return K;et[$]=1}}return K}function M(A){this.l=!0!==A&&A,this.cache=x(),this.h=[]}function la(A,B,H){D(A)&&(A=A.query);let $=this.cache.get(A);return $||($=this.search(A,B,H),this.cache.set(A,$)),$}M.prototype.set=function(A,B){if(!this.cache[A]){var H=this.h.length;for(H===this.l?delete this.cache[this.h[H-1]]:H++,--H;0<H;H--)this.h[H]=this.h[H-1];this.h[0]=A}this.cache[A]=B},M.prototype.get=function(A){let B=this.cache[A];if(this.l&&B&&(A=this.h.indexOf(A))){let B=this.h[A-1];this.h[A-1]=this.h[A],this.h[A]=B}return B};let er={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function oa(A,B,H,$,W,K,et,en){setTimeout(function(){let er=A(H?H+"."+$:$,JSON.stringify(et));er&&er.then?er.then(function(){B.export(A,B,H,W,K+1,en)}):B.export(A,B,H,W,K+1,en)})}function N(A,B){if(!(this instanceof N))return new N(A);if(A){C(A)?A=er[A]:(H=A.preset)&&(A=Object.assign({},H[H],A)),H=A.charset;var H,$=A.lang;C(H)&&(-1===H.indexOf(":")&&(H+=":default"),H=en[H]),C($)&&($=et[$])}else A={};let W,K,ei=A.context||{};if(this.encode=A.encode||H&&H.encode||ea,this.register=B||x(),this.D=W=A.resolution||9,this.G=B=H&&H.G||A.tokenize||"strict",this.depth="strict"===B&&ei.depth,this.l=u(ei.bidirectional),this.s=K=u(A.optimize),this.m=u(A.fastupdate),this.B=A.minlength||1,this.C=A.boost,this.map=K?v(W):x(),this.A=W=ei.resolution||1,this.h=K?v(W):x(),this.F=H&&H.F||A.rtl,this.H=(B=A.matcher||$&&$.H)&&I(B,!1),this.J=(B=A.stemmer||$&&$.J)&&I(B,!0),H=B=A.filter||$&&$.filter){H=B,$=x();for(let A=0,B=H.length;A<B;A++)$[H[A]]=1;H=$}this.filter=H,this.cache=(B=A.cache)&&new M(B)}function O(A,B,H,$,W){return H&&1<A?B+($||0)<=A?H+(W||0):(A-1)/(B+($||0))*(H+(W||0))+1|0:0}function P(A,B,H,$,W,K,et){let en=et?A.h:A.map;(!B[H]||et&&!B[H][et])&&(A.s&&(en=en[$]),et?((B=B[H]||(B[H]=x()))[et]=1,en=en[et]||(en[et]=x())):B[H]=1,en=en[H]||(en[H]=[]),A.s||(en=en[$]||(en[$]=[])),K&&en.includes(W)||(en[en.length]=W,A.m&&((A=A.register[W]||(A.register[W]=[]))[A.length]=en)))}function pa(A,B,H,$,W,K,et,en){let er=[],ei=en?A.h:A.map;if(A.s||(ei=ra(ei,et,en,A.l)),ei){let H=0,eo=Math.min(ei.length,en?A.A:A.D);for(let B=0,el=0,es,ec;B<eo&&(!(es=ei[B])||(A.s&&(es=ra(es,et,en,A.l)),W&&es&&K&&((ec=es.length)<=W?(W-=ec,es=null):(es=es.slice(W),W=0)),!es||(er[H++]=es,!K||!((el+=es.length)>=$))));B++);if(H)return K?qa(er,$,0):void(B[B.length]=er)}return!H&&er}function qa(A,B,H){return A=1===A.length?A[0]:[].concat.apply([],A),H||A.length>B?A.slice(H,H+B):A}function ra(A,B,H,$){return A=H?(A=A[($=$&&B>H)?B:H])&&A[$?H:B]:A[B]}function Q(A,B,H,$,W){let K=0;if(A.constructor===Array){if(W)-1!==(B=A.indexOf(B))?1<A.length&&(A.splice(B,1),K++):K++;else{W=Math.min(A.length,H);for(let et=0,en;et<W;et++)(en=A[et])&&(K=Q(en,B,H,$,W),$||K||delete A[et])}}else for(let et in A)(K=Q(A[et],B,H,$,W))||delete A[et];return K}function sa(A){A=A.data;var B=self._index;let H=A.args;var $=A.task;"init"===$?($=A.options||{},A=A.factory,B=$.encode,$.cache=!1,B&&0===B.indexOf("function")&&($.encode=Function("return "+B)()),A?(Function("return "+A)()(self),self._index=new self.FlexSearch.Index($),delete self.FlexSearch):self._index=new N($)):(A=A.id,B=B[$].apply(B,H),postMessage("search"===$?{id:A,msg:B}:{id:A}))}($=N.prototype).append=function(A,B){return this.add(A,B,!0)},$.add=function(A,B,H,$){if(B&&(A||0===A)){if(!$&&!H&&this.register[A])return this.update(A,B);if($=(B=this.encode(B)).length){let ei=x(),eo=x(),el=this.depth,es=this.D;for(let ec=0;ec<$;ec++){let eu=B[this.F?$-1-ec:ec];var W=eu.length;if(eu&&W>=this.B&&(el||!eo[eu])){var K=O(es,$,ec),et="";switch(this.G){case"full":if(2<W){for(K=0;K<W;K++)for(var en=W;en>K;en--)if(en-K>=this.B){var er=O(es,$,ec,W,K);P(this,eo,et=eu.substring(K,en),er,A,H)}break}case"reverse":if(1<W){for(en=W-1;0<en;en--)(et=eu[en]+et).length>=this.B&&P(this,eo,et,O(es,$,ec,W,en),A,H);et=""}case"forward":if(1<W){for(en=0;en<W;en++)(et+=eu[en]).length>=this.B&&P(this,eo,et,K,A,H);break}default:if(this.C&&(K=Math.min(K/this.C(B,eu,ec)|0,es-1)),P(this,eo,eu,K,A,H),el&&1<$&&ec<$-1){for(W=x(),et=this.A,K=eu,en=Math.min(el+1,$-ec),W[K]=1,er=1;er<en;er++)if((eu=B[this.F?$-1-ec-er:ec+er])&&eu.length>=this.B&&!W[eu]){W[eu]=1;let B=this.l&&eu>K;P(this,ei,B?K:eu,O(et+($/2>et?0:1),$,ec,en-1,er-1),A,H,B?eu:K)}}}}}this.m||(this.register[A]=1)}}return this},$.search=function(A,B,H){let $,W,K;H||(!B&&D(A)?A=(H=A).query:D(B)&&(H=B));let et=[],en,er,ei=0;if(H){A=H.query||A,B=H.limit,ei=H.offset||0;var eo=H.context;er=H.suggest}if(A&&1<(en=(A=this.encode(""+A)).length)){H=x();var el=[];for(let B=0,$=0,W;B<en;B++)if((W=A[B])&&W.length>=this.B&&!H[W]){if(!this.s&&!er&&!this.map[W])return et;el[$++]=W,H[W]=1}en=(A=el).length}if(!en)return et;for(B||(B=100),eo=this.depth&&1<en&&!1!==eo,H=0,eo?($=A[0],H=1):1<en&&A.sort(aa);H<en;H++){if(K=A[H],eo?(W=pa(this,et,er,B,ei,2===en,K,$),er&&!1===W&&et.length||($=K)):W=pa(this,et,er,B,ei,1===en,K),W)return W;if(er&&H===en-1){if(!(el=et.length)){if(eo){eo=0,H=-1;continue}return et}if(1===el)return qa(et[0],B,ei)}}return ja(et,B,ei,er)},$.contain=function(A){return!!this.register[A]},$.update=function(A,B){return this.remove(A).add(A,B)},$.remove=function(A,B){let H=this.register[A];if(H){if(this.m)for(let B=0,$;B<H.length;B++)($=H[B]).splice($.indexOf(A),1);else Q(this.map,A,this.D,this.s),this.depth&&Q(this.h,A,this.A,this.s);if(B||delete this.register[A],this.cache){B=this.cache;for(let H=0,$;H<B.h.length;H++)$=B.h[H],B.cache[$].includes(A)&&(B.h.splice(H--,1),delete B.cache[$])}}return this},$.searchCache=la,$.export=function(A,B,H,$,W,K){let et,en,er=!0;switch(void 0===K&&(er=new Promise(A=>{K=A})),W||(W=0)){case 0:if(et="reg",this.m)for(let A in en=x(),this.register)en[A]=1;else en=this.register;break;case 1:et="cfg",en={doc:0,opt:this.s?1:0};break;case 2:et="map",en=this.map;break;case 3:et="ctx",en=this.h;break;default:void 0===H&&K&&K();return}return oa(A,B||this,H,et,$,W,en,K),er},$.import=function(A,B){if(B)switch(C(B)&&(B=JSON.parse(B)),A){case"cfg":this.s=!!B.opt;break;case"reg":this.m=!1,this.register=B;break;case"map":this.map=B;break;case"ctx":this.h=B}},ia(N.prototype);let ei=0;function S(A){var B;if(!(this instanceof S))return new S(A);A?E(B=A.encode)&&(A.encode=B.toString()):A={},(B=(self||window)._factory)&&(B=B.toString());let $="undefined"==typeof window&&self.exports,W=this;this.o=function(A,B,$){let W;try{W=B?new(H(15789)).Worker("//node/node.js"):A?new Worker(URL.createObjectURL(new Blob(["onmessage="+sa.toString()],{type:"text/javascript"}))):new Worker(C($)?$:"worker/worker.js",{type:"module"})}catch(A){}return W}(B,$,A.worker),this.h=x(),this.o&&($?this.o.on("message",function(A){W.h[A.id](A.msg),delete W.h[A.id]}):this.o.onmessage=function(A){A=A.data,W.h[A.id](A.msg),delete W.h[A.id]},this.o.postMessage({task:"init",factory:B,options:A}))}function T(A){S.prototype[A]=S.prototype[A+"Async"]=function(){let B;let H=this,$=[].slice.call(arguments);var W=$[$.length-1];return E(W)&&(B=W,$.splice($.length-1,1)),W=new Promise(function(B){setTimeout(function(){H.h[++ei]=B,H.o.postMessage({task:A,id:ei,args:$})})}),B?(W.then(B),this):W}}function U(A){if(!(this instanceof U))return new U(A);var B,H=A.document||A.doc||A;this.K=[],this.h=[],this.A=[],this.register=x(),this.key=(B=H.key||H.id)&&V(B,this.A)||"id",this.m=u(A.fastupdate),this.C=(B=H.store)&&!0!==B&&[],this.store=B&&x(),this.I=(B=H.tag)&&V(B,this.A),this.l=B&&x(),this.cache=(B=A.cache)&&new M(B),A.cache=!1,this.o=A.worker,this.async=!1,B=x();let $=H.index||H.field||H;C($)&&($=[$]);for(let H=0,W,K;H<$.length;H++)C(W=$[H])||(K=W,W=W.field),K=D(K)?Object.assign({},A,K):A,this.o&&(B[W]=new S(K),B[W].o||(this.o=!1)),this.o||(B[W]=new N(K,this.register)),this.K[H]=V(W,this.A),this.h[H]=W;if(this.C)for(C(A=H.store)&&(A=[A]),H=0;H<A.length;H++)this.C[H]=V(A[H],this.A);this.index=B}function V(A,B){let H=A.split(":"),$=0;for(let W=0;W<H.length;W++)0<=(A=H[W]).indexOf("[]")&&(A=A.substring(0,A.length-2))&&(B[$]=!0),A&&(H[$++]=A);return $<H.length&&(H.length=$),1<$?H:H[0]}function X(A,B){if(C(B))A=A[B];else for(let H=0;A&&H<B.length;H++)A=A[B[H]];return A}function va(A,B,H,$){let W=this.l[A],K=W&&W.length-H;if(K&&0<K)return(K>B||H)&&(W=W.slice(H,H+B)),$&&(W=wa.call(this,W)),{tag:A,result:W}}function wa(A){let B=Array(A.length);for(let H=0,$;H<A.length;H++)$=A[H],B[H]={id:$,doc:this.store[$]};return B}T("add"),T("append"),T("search"),T("update"),T("remove"),($=U.prototype).add=function(A,B,H){if(D(A)&&(A=X(B=A,this.key)),B&&(A||0===A)){if(!H&&this.register[A])return this.update(A,B);for(let $=0,W,K;$<this.h.length;$++)K=this.h[$],C(W=this.K[$])&&(W=[W]),function Z(A,B,H,$,W,K,et,en){if(A=A[et]){if($===B.length-1){if(A.constructor===Array){if(H[$]){for(B=0;B<A.length;B++)W.add(K,A[B],!0,!0);return}A=A.join(" ")}W.add(K,A,en,!0)}else if(A.constructor===Array)for(et=0;et<A.length;et++)Z(A,B,H,$,W,K,et,en);else et=B[++$],Z(A,B,H,$,W,K,et,en)}}(B,W,this.A,0,this.index[K],A,W[0],H);if(this.I){let $=X(B,this.I),W=x();C($)&&($=[$]);for(let B=0,K,et;B<$.length;B++)if(!W[K=$[B]]&&(W[K]=1,et=this.l[K]||(this.l[K]=[]),!H||!et.includes(A))&&(et[et.length]=A,this.m)){let B=this.register[A]||(this.register[A]=[]);B[B.length]=et}}if(this.store&&(!H||!this.store[A])){let H;if(this.C){H=x();for(let A=0,$;A<this.C.length;A++)C($=this.C[A])?H[$]=B[$]:function Y(A,B,H,$,W){if(A=A[W],$===H.length-1)B[W]=A;else if(A){if(A.constructor===Array)for(B=B[W]=Array(A.length),W=0;W<A.length;W++)Y(A,B,H,$,W);else B=B[W]||(B[W]=x()),W=H[++$],Y(A,B,H,$,W)}}(B,H,$,0,$[0])}this.store[A]=H||B}}return this},$.append=function(A,B){return this.add(A,B,!0)},$.update=function(A,B){return this.remove(A).add(A,B)},$.remove=function(A){if(D(A)&&(A=X(A,this.key)),this.register[A]){for(var B=0;B<this.h.length&&(this.index[this.h[B]].remove(A,!this.o),!this.m);B++);if(this.I&&!this.m)for(let H in this.l){B=this.l[H];let $=B.indexOf(A);-1!==$&&(1<B.length?B.splice($,1):delete this.l[H])}this.store&&delete this.store[A],delete this.register[A]}return this},$.search=function(A,B,H,$){H||(!B&&D(A)?(H=A,A=""):D(B)&&(H=B,B=0));let W=[],K=[],et,en,er,ei,eo,el,es=0;if(H){if(H.constructor===Array)er=H,H=null;else{if(A=H.query||A,er=(et=H.pluck)||H.index||H.field,ei=H.tag,en=this.store&&H.enrich,eo="and"===H.bool,B=H.limit||B||100,el=H.offset||0,ei&&(C(ei)&&(ei=[ei]),!A)){for(let A=0,H;A<ei.length;A++)(H=va.call(this,ei[A],B,el,en))&&(W[W.length]=H,es++);return es?W:[]}C(er)&&(er=[er])}}er||(er=this.h),eo=eo&&(1<er.length||ei&&1<ei.length);let ec=!$&&(this.o||this.async)&&[];for(let et=0,eu,ed,eh;et<er.length;et++){let ep;if(C(ed=er[et])||(ed=(ep=ed).field,A=ep.query||A,B=ep.limit||B,en=ep.enrich||en),ec)ec[et]=this.index[ed].searchAsync(A,B,ep||H);else{if(eh=(eu=$?$[et]:this.index[ed].search(A,B,ep||H))&&eu.length,ei&&eh){let A=[],H=0;eo&&(A[0]=[eu]);for(let B=0,$,W;B<ei.length;B++)$=ei[B],(eh=(W=this.l[$])&&W.length)&&(H++,A[A.length]=eo?[W]:W);H&&(eh=(eu=eo?ja(A,B||100,el||0):function(A,B){let H=x(),$=x(),W=[];for(let B=0;B<A.length;B++)H[A[B]]=1;for(let A=0,K;A<B.length;A++){K=B[A];for(let A=0,B;A<K.length;A++)H[B=K[A]]&&!$[B]&&($[B]=1,W[W.length]=B)}return W}(eu,A)).length)}if(eh)K[es]=ed,W[es++]=eu;else if(eo)return[]}}if(ec){let $=this;return new Promise(function(W){Promise.all(ec).then(function(K){W($.search(A,B,H,K))})})}if(!es)return[];if(et&&(!en||!this.store))return W[0];for(let A=0,B;A<K.length;A++){if((B=W[A]).length&&en&&(B=wa.call(this,B)),et)return B;W[A]={field:K[A],result:B}}return W},$.contain=function(A){return!!this.register[A]},$.get=function(A){return this.store[A]},$.set=function(A,B){return this.store[A]=B,this},$.searchCache=la,$.export=function(A,B,H,$,W,K){let et;if(void 0===K&&(et=new Promise(A=>{K=A})),W||(W=0),$||($=0),$<this.h.length){let H=this.h[$],et=this.index[H];B=this,setTimeout(function(){et.export(A,B,W?H:"",$,W++,K)||($++,W=1,B.export(A,B,H,$,W,K))})}else{let B,et;switch(W){case 1:B="tag",et=this.l,H=null;break;case 2:B="store",et=this.store,H=null;break;default:K();return}oa(A,this,H,B,$,W,et,K)}return et},$.import=function(A,B){if(B)switch(C(B)&&(B=JSON.parse(B)),A){case"tag":this.l=B;break;case"reg":this.m=!1,this.register=B;for(let A=0,H;A<this.h.length;A++)(H=this.index[this.h[A]]).register=B,H.m=!1;break;case"store":this.store=B;break;default:A=A.split(".");let H=A[0];A=A[1],H&&A&&this.index[H].import(A,B)}},ia(U.prototype);let eo=[J("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",J("[\xe8\xe9\xea\xeb]"),"e",J("[\xec\xed\xee\xef]"),"i",J("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",J("[\xf9\xfa\xfb\xfcű]"),"u",J("[\xfdŷ\xff]"),"y",J("\xf1"),"n",J("[\xe7c]"),"k",J("\xdf"),"s",J(" & ")," and "];function xa(A){var B=A=""+A;return B.normalize&&(B=B.normalize("NFD").replace(K,"")),F.call(this,B.toLowerCase(),!A.normalize&&eo)}let el=/[^a-z0-9]+/,es={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Aa(A){A=xa.call(this,A).join(" ");let B=[];if(A){let H=A.split(el),$=H.length;for(let W=0,K,et=0;W<$;W++)if((A=H[W])&&(!this.filter||!this.filter[A])){let H=es[K=A[0]]||K,$=H;for(let B=1;B<A.length;B++){K=A[B];let W=es[K]||K;W&&W!==$&&(H+=W,$=W)}B[et++]=H}}return B}let ec=[J("ae"),"a",J("oe"),"o",J("sh"),"s",J("th"),"t",J("ph"),"f",J("pf"),"f",J("(?![aeo])h(?![aeo])"),"",J("(?!^[aeo])h(?!^[aeo])"),""];function Ea(A,B){return A&&(2<(A=Aa.call(this,A).join(" ")).length&&(A=G(A,ec)),B||(1<A.length&&(A=da(A)),A&&(A=A.split(" ")))),A||[]}let eu=J("(?!\\b)[aeo]");en["latin:default"]={encode:ea,F:!1,G:""},en["latin:simple"]={encode:xa,F:!1,G:""},en["latin:balance"]={encode:Aa,F:!1,G:"strict"},en["latin:advanced"]={encode:Ea,F:!1,G:""},en["latin:extra"]={encode:function(A){return A&&(1<(A=Ea.call(this,A,!0)).length&&(A=A.replace(eu,"")),1<A.length&&(A=da(A)),A&&(A=A.split(" "))),A||[]},F:!1,G:""},B.Z={Index:N,Document:U,Worker:S,registerCharset:function(A,B){en[A]=B},registerLanguage:function(A,B){et[A]=B}}},59821:function(A,B,H){"use strict";let $=H(84579).parse,W=H(87799).compile,K=H(27094).segment,et=H(41105);A.exports={parse:$,compile:W,segment:K,hls:et}},87799:function(A){"use strict";function CompilerError(A,B){this.message=A,this.error=B}function convertTimestamp(A){let B=pad(Math.floor(A/60/60),2),H=pad(Math.floor(A/60)%60,2),$=pad(Math.floor(A%60),2),W=pad(Math.floor(1e3*(A%1).toFixed(4)),3);return`${B}:${H}:${$}.${W}`}function pad(A,B){let H=`${A}`;for(;H.length<B;)H=`0${H}`;return H}CompilerError.prototype=Object.create(Error.prototype),A.exports={CompilerError,compile:function(A){if(!A)throw new CompilerError("Input must be non-null");if("object"!=typeof A)throw new CompilerError("Input must be an object");if(Array.isArray(A))throw new CompilerError("Input cannot be array");if(!A.valid)throw new CompilerError("Input must be valid");let B="WEBVTT\n";if(A.meta){if("object"!=typeof A.meta||Array.isArray(A.meta))throw new CompilerError("Metadata must be an object");Object.entries(A.meta).forEach(A=>{if("string"!=typeof A[1])throw new CompilerError(`Metadata value for "${A[0]}" must be string`);B+=`${A[0]}: ${A[1]}
`})}let H=null;return A.cues.forEach((A,$)=>{if(H&&H>A.start)throw new CompilerError(`Cue number ${$} is not in chronological order`);H=A.start,B+="\n"+function(A){if("object"!=typeof A)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof A.identifier&&"number"!=typeof A.identifier&&null!==A.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(A)}`);if(isNaN(A.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(A)}`);if(isNaN(A.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(A)}`);if(A.start>=A.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(A)}`);if("string"!=typeof A.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(A)}`);if("string"!=typeof A.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(A)}`);let B="";A.identifier.length>0&&(B+=`${A.identifier}
`);let H=convertTimestamp(A.start),$=convertTimestamp(A.end);return B+(`${H} --> ${$}`+(A.styles?` ${A.styles}`:""))+`
${A.text}`}(A)+"\n"}),B}}},41105:function(A,B,H){"use strict";let $=H(27094).segment;function pad(A,B){let H="0".repeat(Math.max(0,B-A.toString().length));return`${H}${A}`}function printableTimestamp(A){let B=(A%1).toFixed(3);A=Math.round(A-B);let H=Math.floor(A/3600),$=Math.floor((A-3600*H)/60),W=A-3600*H-60*$,K=`${pad(H,2)}:`;return`${K}${pad($,2)}:${pad(W,2)}.${pad(1e3*B,3)}`}A.exports={hlsSegment:function(A,B,H){void 0===H&&(H="900000");let W=$(A,B),K=[];return W.forEach((A,B)=>{let $=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${H},LOCAL:00:00:00.000

${function(A){let B=[];return A.forEach(A=>{B.push(function(A){let B=[];A.identifier&&B.push(A.identifier);let H=printableTimestamp(A.start),$=printableTimestamp(A.end),W=A.styles?`${A.styles}`:"";return B.push(`${H} --> ${$} ${W}`),B.push(A.text),B.join("\n")}(A))}),B.join("\n\n")}(A.cues)}
`,W=`${B}.vtt`;K.push({filename:W,content:$})}),K},hlsSegmentPlaylist:function(A,B){let H;let W=$(A,B),K=function(A){let B=[];return A.forEach((A,H)=>{B.push(`#EXTINF:${A.duration.toFixed(5)},
${H}.vtt`)}),B.join("\n")}(W),et=Math.round((H=0,W.forEach(A=>{A.duration>H&&(H=A.duration)}),H)),en=`#EXTM3U
#EXT-X-TARGETDURATION:${et}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${K}
#EXT-X-ENDLIST
`;return en}}},84579:function(A){"use strict";function ParserError(A,B){this.message=A,this.error=B}ParserError.prototype=Object.create(Error.prototype);let B=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(A){let H=A.match(B);return 3600*parseFloat(H[1]||0)+(60*parseFloat(H[2])+parseFloat(H[3]))}A.exports={ParserError,parse:function(A,H){H||(H={});let{meta:$=!1,strict:W=!0}=H;if("string"!=typeof A)throw new ParserError("Input must be a string");A=(A=(A=A.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let K=A.split("\n\n"),et=K.shift();if(!et.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let en=et.split("\n"),er=en[0].replace("WEBVTT","");if(er.length>0&&" "!==er[0]&&"	"!==er[0])throw new ParserError("Header comment must start with space or tab");if(0===K.length&&1===en.length)return{valid:!0,strict:W,cues:[],errors:[]};if(!$&&en.length>1&&""!==en[1])throw new ParserError("Missing blank line after signature");let{cues:ei,errors:eo}=function(A,H){let $=[],W=A.map((A,W)=>{try{return function(A,H,$){var W,K;let et="",en=0,er=.01,ei="",eo="",el=A.split("\n").filter(Boolean);if(el.length>0&&el[0].trim().startsWith("NOTE"))return null;if(1===el.length&&!el[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${H})`);if(el.length>1&&!(el[0].includes("-->")||el[1].includes("-->"))){let A=`Cue identifier needs to be followed by timestamp (cue #${H})`;throw new ParserError(A)}el.length>1&&el[1].includes("-->")&&(et=el.shift());let es="string"==typeof el[0]&&el[0].split(" --> ");if(2!==es.length||(W=es[0],!B.test(W))||(K=es[1],!B.test(K)))throw new ParserError(`Invalid cue timestamp (cue #${H})`);if(en=parseTimestamp(es[0]),er=parseTimestamp(es[1]),$){if(en>er)throw new ParserError(`Start timestamp greater than end (cue #${H})`);if(er<=en)throw new ParserError(`End must be greater than start (cue #${H})`)}if(!$&&er<en)throw new ParserError(`End must be greater or equal to start when not strict (cue #${H})`);return eo=es[1].replace(B,"").trim(),el.shift(),!!(ei=el.join("\n"))&&{identifier:et,start:en,end:er,text:ei,styles:eo}}(A,W,H)}catch(A){return $.push(A),null}}).filter(Boolean);return{cues:W,errors:$}}(K,W);if(W&&eo.length>0)throw eo[0];let el=$?function(A){let B={};return A.slice(1).forEach(A=>{let H=A.indexOf(":"),$=A.slice(0,H).trim(),W=A.slice(H+1).trim();B[$]=W}),Object.keys(B).length>0?B:null}(en):null,es={valid:0===eo.length,strict:W,cues:ei,errors:eo};return $&&(es.meta=el),es}}},27094:function(A,B,H){"use strict";let $=H(84579).parse;A.exports={segment:function(A,B){B=B||10;let H=$(A),W=[],K=[],et=null,en=0,er=0;return H.cues.forEach((A,$)=>{let ei=0===$,eo=$===H.cues.length-1,el=A.start,es=A.end,ec=eo?1/0:H.cues[$+1].start,eu=ei?es:es-el,ed=ei?0:el-H.cues[$-1].end;en=en+eu+ed,W.length,et&&(K.push(et),en+=et.end-er,et=null),K.push(A);let eh=ec-es<B&&ed<B&&en>B;if(function(A,B,H,$){return($<=B||$+(B-$%B)+A<H)&&H-A>=B}(er,B,ec,ed)){var ep,em,ef,eg;let A;let H=(ep=B,em=en,ef=er,A=ep,em>ep&&(A=(eg=em-ep)+(ep-eg%ep)),A=eo?parseFloat((es-ef).toFixed(2)):Math.round(A));W.push({duration:H,cues:K}),er+=H,en=0,K=[]}else eh=!1;eh&&(et=A)}),W}}},72679:function(A,B,H){(()=>{var B={296:(A,B,H)=>{var $=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,et=/^0o[0-7]+$/i,en=parseInt,er="object"==typeof H.g&&H.g&&H.g.Object===Object&&H.g,ei="object"==typeof self&&self&&self.Object===Object&&self,eo=er||ei||Function("return this")(),el=Object.prototype.toString,es=Math.max,ec=Math.min,b=function(){return eo.Date.now()};function d(A){var B=typeof A;return!!A&&("object"==B||"function"==B)}function h(A){if("number"==typeof A)return A;if("symbol"==typeof(B=A)||B&&"object"==typeof B&&"[object Symbol]"==el.call(B))return NaN;if(d(A)){var B,H="function"==typeof A.valueOf?A.valueOf():A;A=d(H)?H+"":H}if("string"!=typeof A)return 0===A?A:+A;A=A.replace($,"");var er=K.test(A);return er||et.test(A)?en(A.slice(2),er?2:8):W.test(A)?NaN:+A}A.exports=function(A,B,H){var $,W,K,et,en,er,ei=0,eo=!1,el=!1,eu=!0;if("function"!=typeof A)throw TypeError("Expected a function");function m(B){var H=$,K=W;return $=W=void 0,ei=B,et=A.apply(K,H)}function O(A){var H=A-er;return void 0===er||H>=B||H<0||el&&A-ei>=K}function w(){var A,H=b();if(O(H))return g(H);en=setTimeout(w,(A=B-(H-er),el?ec(A,K-(H-ei)):A))}function g(A){return en=void 0,eu&&$?m(A):($=W=void 0,et)}function P(){var A,H=b(),K=O(H);if($=arguments,W=this,er=H,K){if(void 0===en)return ei=A=er,en=setTimeout(w,B),eo?m(A):et;if(el)return en=setTimeout(w,B),m(er)}return void 0===en&&(en=setTimeout(w,B)),et}return B=h(B)||0,d(H)&&(eo=!!H.leading,K=(el="maxWait"in H)?es(h(H.maxWait)||0,B):K,eu="trailing"in H?!!H.trailing:eu),P.cancel=function(){void 0!==en&&clearTimeout(en),ei=0,$=er=W=en=void 0},P.flush=function(){return void 0===en?et:g(b())},P}},96:(A,B,H)=>{var $="Expected a function",W=NaN,K=/^\s+|\s+$/g,et=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,er=/^0o[0-7]+$/i,ei=parseInt,eo="object"==typeof H.g&&H.g&&H.g.Object===Object&&H.g,el="object"==typeof self&&self&&self.Object===Object&&self,es=eo||el||Function("return this")(),ec=Object.prototype.toString,eu=Math.max,ed=Math.min,v=function(){return es.Date.now()};function m(A){var B=typeof A;return!!A&&("object"==B||"function"==B)}function O(A){if("number"==typeof A)return A;if("symbol"==typeof(B=A)||B&&"object"==typeof B&&"[object Symbol]"==ec.call(B))return W;if(m(A)){var B,H="function"==typeof A.valueOf?A.valueOf():A;A=m(H)?H+"":H}if("string"!=typeof A)return 0===A?A:+A;A=A.replace(K,"");var $=en.test(A);return $||er.test(A)?ei(A.slice(2),$?2:8):et.test(A)?W:+A}A.exports=function(A,B,H){var W=!0,K=!0;if("function"!=typeof A)throw TypeError($);return m(H)&&(W="leading"in H?!!H.leading:W,K="trailing"in H?!!H.trailing:K),function(A,B,H){var W,K,et,en,er,ei,eo=0,el=!1,es=!1,ec=!0;if("function"!=typeof A)throw TypeError($);function b(B){var H=W,$=K;return W=K=void 0,eo=B,en=A.apply($,H)}function w(A){var H=A-ei;return void 0===ei||H>=B||H<0||es&&A-eo>=et}function g(){var A,H=v();if(w(H))return P(H);er=setTimeout(g,(A=B-(H-ei),es?ed(A,et-(H-eo)):A))}function P(A){return er=void 0,ec&&W?b(A):(W=K=void 0,en)}function j(){var A,H=v(),$=w(H);if(W=arguments,K=this,ei=H,$){if(void 0===er)return eo=A=ei,er=setTimeout(g,B),el?b(A):en;if(es)return er=setTimeout(g,B),b(ei)}return void 0===er&&(er=setTimeout(g,B)),en}return B=O(B)||0,m(H)&&(el=!!H.leading,et=(es="maxWait"in H)?eu(O(H.maxWait)||0,B):et,ec="trailing"in H?!!H.trailing:ec),j.cancel=function(){void 0!==er&&clearTimeout(er),eo=0,W=ei=K=er=void 0},j.flush=function(){return void 0===er?en:P(v())},j}(A,B,{leading:W,maxWait:B,trailing:K})}},703:(A,B,H)=>{"use strict";var $=H(414);function n(){}function i(){}i.resetWarningCache=n,A.exports=function(){function e(A,B,H,W,K,et){if(et!==$){var en=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw en.name="Invariant Violation",en}}function t(){return e}e.isRequired=e;var A={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return A.PropTypes=A,A}},697:(A,B,H)=>{A.exports=H(703)()},414:A=>{"use strict";A.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},$={};function r(A){var H=$[A];if(void 0!==H)return H.exports;var W=$[A]={exports:{}};return B[A](W,W.exports,r),W.exports}r.n=A=>{var B=A&&A.__esModule?()=>A.default:()=>A;return r.d(B,{a:B}),B},r.d=(A,B)=>{for(var H in B)r.o(B,H)&&!r.o(A,H)&&Object.defineProperty(A,H,{enumerable:!0,get:B[H]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(A){if("object"==typeof window)return window}}(),r.o=(A,B)=>Object.prototype.hasOwnProperty.call(A,B),r.r=A=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var W={};(()=>{"use strict";r.r(W),r.d(W,{LazyLoadComponent:()=>ed,LazyLoadImage:()=>em,trackWindowScroll:()=>D});let A=H(67294);var B=r.n(A),$=r(697);function i(){return"undefined"!=typeof window&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(A){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function u(A,B){var H=Object.keys(A);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(A);B&&($=$.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),H.push.apply(H,$)}return H}function a(A){var B=function(A,B){if("object"!==c(A)||null===A)return A;var H=A[Symbol.toPrimitive];if(void 0!==H){var $=H.call(A,"string");if("object"!==c($))return $;throw TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(A);return"symbol"===c(B)?B:String(B)}function f(A,B){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,B){return A.__proto__=B,A})(A,B)}function p(A){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var y=function(A){A.forEach(function(A){A.isIntersecting&&A.target.onVisible()})},K={},et=function(A){!function(A,B){if("function"!=typeof B&&null!==B)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),B&&f(A,B)}(h,A);var H,$,W=($=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}(),function(){var A,B=p(h);if($){var H=p(this).constructor;A=Reflect.construct(B,arguments,H)}else A=B.apply(this,arguments);return function(A,B){if(B&&("object"===c(B)||"function"==typeof B))return B;if(void 0!==B)throw TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A)}(this,A)});function h(A){var B;if(function(A,B){if(!(A instanceof B))throw TypeError("Cannot call a class as a function")}(this,h),(B=W.call(this,A)).supportsObserver=!A.scrollPosition&&A.useIntersectionObserver&&i(),B.supportsObserver){var H=A.threshold;B.observer=(K[H]=K[H]||new IntersectionObserver(y,{rootMargin:H+"px"}),K[H])}return B}return H=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollPosition,B=this.placeholder.getBoundingClientRect(),H=this.placeholder.style,$=parseInt(H.getPropertyValue("margin-left"),10)||0,W=parseInt(H.getPropertyValue("margin-top"),10)||0;return{bottom:A.y+B.bottom+W,left:A.x+B.left+$,right:A.x+B.right+$,top:A.y+B.top+W}}},{key:"isPlaceholderInViewport",value:function(){if("undefined"==typeof window||!this.placeholder)return!1;var A=this.props,B=A.scrollPosition,H=A.threshold,$=this.getPlaceholderBoundingBox(B),W=B.y+window.innerHeight,K=B.x,et=B.x+window.innerWidth;return!!(B.y-H<=$.bottom&&W+H>=$.top&&K-H<=$.right&&et+H>=$.left)}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var A=this,H=this.props,$=H.className,W=H.height,K=H.placeholder,et=H.style,en=H.width;if(K&&"function"!=typeof K.type)return B().cloneElement(K,{ref:function(B){return A.placeholder=B}});var er=function(A){for(var B=1;B<arguments.length;B++){var H=null!=arguments[B]?arguments[B]:{};B%2?u(Object(H),!0).forEach(function(B){var $,W;$=B,W=H[B],($=a($))in A?Object.defineProperty(A,$,{value:W,enumerable:!0,configurable:!0,writable:!0}):A[$]=W}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(H)):u(Object(H)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(H,B))})}return A}({display:"inline-block"},et);return void 0!==en&&(er.width=en),void 0!==W&&(er.height=W),B().createElement("span",{className:$,ref:function(B){return A.placeholder=B},style:er},K)}}],function(A,B){for(var H=0;H<B.length;H++){var $=B[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(A,a($.key),$)}}(h.prototype,H),Object.defineProperty(h,"prototype",{writable:!1}),h}(B().Component);et.propTypes={onVisible:$.PropTypes.func.isRequired,className:$.PropTypes.string,height:$.PropTypes.oneOfType([$.PropTypes.number,$.PropTypes.string]),placeholder:$.PropTypes.element,threshold:$.PropTypes.number,useIntersectionObserver:$.PropTypes.bool,scrollPosition:$.PropTypes.shape({x:$.PropTypes.number.isRequired,y:$.PropTypes.number.isRequired}),width:$.PropTypes.oneOfType([$.PropTypes.number,$.PropTypes.string])},et.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};var en=r(296),er=r.n(en),ei=r(96),eo=r.n(ei),g=function(A){var B=getComputedStyle(A,null);return B.getPropertyValue("overflow")+B.getPropertyValue("overflow-y")+B.getPropertyValue("overflow-x")};let P=function(A){if(!(A instanceof HTMLElement))return window;for(var B=A;B&&B instanceof HTMLElement;){if(/(scroll|auto)/.test(g(B)))return B;B=B.parentNode}return window};function j(A){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}var el=["delayMethod","delayTime"];function S(){return(S=Object.assign?Object.assign.bind():function(A){for(var B=1;B<arguments.length;B++){var H=arguments[B];for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(A[$]=H[$])}return A}).apply(this,arguments)}function L(A,B){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,B){return A.__proto__=B,A})(A,B)}function _(A,B){if(B&&("object"===j(B)||"function"==typeof B))return B;if(void 0!==B)throw TypeError("Derived constructors may only return object or undefined");return I(A)}function I(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function x(A){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var R=function(){return"undefined"==typeof window?0:window.scrollX||window.pageXOffset},k=function(){return"undefined"==typeof window?0:window.scrollY||window.pageYOffset};let D=function(A){var H=function(H){!function(A,B){if("function"!=typeof B&&null!==B)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),B&&L(A,B)}(l,H);var $,W,K=(W=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}(),function(){var A,B=x(l);if(W){var H=x(this).constructor;A=Reflect.construct(B,arguments,H)}else A=B.apply(this,arguments);return _(this,A)});function l(A){if(function(A,B){if(!(A instanceof B))throw TypeError("Cannot call a class as a function")}(this,l),(H=K.call(this,A)).useIntersectionObserver=A.useIntersectionObserver&&i(),H.useIntersectionObserver)return _(H);var H,$=H.onChangeScroll.bind(I(H));return"debounce"===A.delayMethod?H.delayedScroll=er()($,A.delayTime):"throttle"===A.delayMethod&&(H.delayedScroll=eo()($,A.delayTime)),H.state={scrollPosition:{x:R(),y:k()}},H.baseComponentRef=B().createRef(),H}return $=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){"undefined"==typeof window||this.useIntersectionObserver||P(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement=P(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:R(),y:k()}})}},{key:"render",value:function(){var H=this.props,$=(H.delayMethod,H.delayTime,function(A,B){if(null==A)return{};var H,$,W=function(A,B){if(null==A)return{};var H,$,W={},K=Object.keys(A);for($=0;$<K.length;$++)H=K[$],B.indexOf(H)>=0||(W[H]=A[H]);return W}(A,B);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(A);for($=0;$<K.length;$++)H=K[$],B.indexOf(H)>=0||Object.prototype.propertyIsEnumerable.call(A,H)&&(W[H]=A[H])}return W}(H,el)),W=this.useIntersectionObserver?null:this.state.scrollPosition;return B().createElement(A,S({forwardRef:this.baseComponentRef,scrollPosition:W},$))}}],function(A,B){for(var H,$=0;$<B.length;$++){var W=B[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(A,(H=function(A,B){if("object"!==j(A)||null===A)return A;var H=A[Symbol.toPrimitive];if(void 0!==H){var $=H.call(A,"string");if("object"!==j($))return $;throw TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(W.key),"symbol"===j(H)?H:String(H)),W)}}(l.prototype,$),Object.defineProperty(l,"prototype",{writable:!1}),l}(B().Component);return H.propTypes={delayMethod:$.PropTypes.oneOf(["debounce","throttle"]),delayTime:$.PropTypes.number,useIntersectionObserver:$.PropTypes.bool},H.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},H};function C(A){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function M(A,B){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,B){return A.__proto__=B,A})(A,B)}function N(A){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var es=function(A){!function(A,B){if("function"!=typeof B&&null!==B)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),B&&M(A,B)}(u,A);var H,$,W=($=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}(),function(){var A,B=N(u);if($){var H=N(this).constructor;A=Reflect.construct(B,arguments,H)}else A=B.apply(this,arguments);return function(A,B){if(B&&("object"===C(B)||"function"==typeof B))return B;if(void 0!==B)throw TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A)}(this,A)});function u(A){return function(A,B){if(!(A instanceof B))throw TypeError("Cannot call a class as a function")}(this,u),W.call(this,A)}return H=[{key:"render",value:function(){return B().createElement(et,this.props)}}],function(A,B){for(var H,$=0;$<B.length;$++){var W=B[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(A,(H=function(A,B){if("object"!==C(A)||null===A)return A;var H=A[Symbol.toPrimitive];if(void 0!==H){var $=H.call(A,"string");if("object"!==C($))return $;throw TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(W.key),"symbol"===C(H)?H:String(H)),W)}}(u.prototype,H),Object.defineProperty(u,"prototype",{writable:!1}),u}(B().Component);let ec=D(es);function z(A){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function U(A,B){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,B){return A.__proto__=B,A})(A,B)}function F(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function q(A){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var eu=function(A){!function(A,B){if("function"!=typeof B&&null!==B)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),B&&U(A,B)}(s,A);var H,$,W=($=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}(),function(){var A,B=q(s);if($){var H=q(this).constructor;A=Reflect.construct(B,arguments,H)}else A=B.apply(this,arguments);return function(A,B){if(B&&("object"===z(B)||"function"==typeof B))return B;if(void 0!==B)throw TypeError("Derived constructors may only return object or undefined");return F(A)}(this,A)});function s(A){(function(A,B){if(!(A instanceof B))throw TypeError("Cannot call a class as a function")})(this,s),B=W.call(this,A);var B,H=A.afterLoad,$=A.beforeLoad,K=A.scrollPosition,et=A.visibleByDefault;return B.state={visible:et},et&&($(),H()),B.onVisible=B.onVisible.bind(F(B)),B.isScrollTracked=!!(K&&Number.isFinite(K.x)&&K.x>=0&&Number.isFinite(K.y)&&K.y>=0),B}return H=[{key:"componentDidUpdate",value:function(A,B){B.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var A=this.props,H=A.className,$=A.delayMethod,W=A.delayTime,K=A.height,en=A.placeholder,er=A.scrollPosition,ei=A.style,eo=A.threshold,el=A.useIntersectionObserver,es=A.width;return this.isScrollTracked||el&&i()?B().createElement(et,{className:H,height:K,onVisible:this.onVisible,placeholder:en,scrollPosition:er,style:ei,threshold:eo,useIntersectionObserver:el,width:es}):B().createElement(ec,{className:H,delayMethod:$,delayTime:W,height:K,onVisible:this.onVisible,placeholder:en,style:ei,threshold:eo,width:es})}}],function(A,B){for(var H,$=0;$<B.length;$++){var W=B[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(A,(H=function(A,B){if("object"!==z(A)||null===A)return A;var H=A[Symbol.toPrimitive];if(void 0!==H){var $=H.call(A,"string");if("object"!==z($))return $;throw TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(W.key),"symbol"===z(H)?H:String(H)),W)}}(s.prototype,H),Object.defineProperty(s,"prototype",{writable:!1}),s}(B().Component);eu.propTypes={afterLoad:$.PropTypes.func,beforeLoad:$.PropTypes.func,useIntersectionObserver:$.PropTypes.bool,visibleByDefault:$.PropTypes.bool},eu.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};let ed=eu;function X(A){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}var eh=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function G(A,B){var H=Object.keys(A);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(A);B&&($=$.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),H.push.apply(H,$)}return H}function J(A){for(var B=1;B<arguments.length;B++){var H=null!=arguments[B]?arguments[B]:{};B%2?G(Object(H),!0).forEach(function(B){var $,W;$=B,W=H[B],($=ee($))in A?Object.defineProperty(A,$,{value:W,enumerable:!0,configurable:!0,writable:!0}):A[$]=W}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(H)):G(Object(H)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(H,B))})}return A}function Q(){return(Q=Object.assign?Object.assign.bind():function(A){for(var B=1;B<arguments.length;B++){var H=arguments[B];for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(A[$]=H[$])}return A}).apply(this,arguments)}function ee(A){var B=function(A,B){if("object"!==X(A)||null===A)return A;var H=A[Symbol.toPrimitive];if(void 0!==H){var $=H.call(A,"string");if("object"!==X($))return $;throw TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(A);return"symbol"===X(B)?B:String(B)}function te(A,B){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,B){return A.__proto__=B,A})(A,B)}function re(A){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var ep=function(A){!function(A,B){if("function"!=typeof B&&null!==B)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),B&&te(A,B)}(u,A);var H,$,W=($=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}(),function(){var A,B=re(u);if($){var H=re(this).constructor;A=Reflect.construct(B,arguments,H)}else A=B.apply(this,arguments);return function(A,B){if(B&&("object"===X(B)||"function"==typeof B))return B;if(void 0!==B)throw TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A)}(this,A)});function u(A){var B;return function(A,B){if(!(A instanceof B))throw TypeError("Cannot call a class as a function")}(this,u),(B=W.call(this,A)).state={loaded:!1},B}return H=[{key:"onImageLoad",value:function(){var A=this;return this.state.loaded?null:function(B){A.props.onLoad(B),A.props.afterLoad(),A.setState({loaded:!0})}}},{key:"getImg",value:function(){var A=this.props,H=(A.afterLoad,A.beforeLoad,A.delayMethod,A.delayTime,A.effect,A.placeholder,A.placeholderSrc,A.scrollPosition,A.threshold,A.useIntersectionObserver,A.visibleByDefault,A.wrapperClassName,A.wrapperProps,function(A,B){if(null==A)return{};var H,$,W=function(A,B){if(null==A)return{};var H,$,W={},K=Object.keys(A);for($=0;$<K.length;$++)H=K[$],B.indexOf(H)>=0||(W[H]=A[H]);return W}(A,B);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(A);for($=0;$<K.length;$++)H=K[$],B.indexOf(H)>=0||Object.prototype.propertyIsEnumerable.call(A,H)&&(W[H]=A[H])}return W}(A,eh));return B().createElement("img",Q({},H,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var A=this.props,H=A.beforeLoad,$=A.className,W=A.delayMethod,K=A.delayTime,et=A.height,en=A.placeholder,er=A.scrollPosition,ei=A.style,eo=A.threshold,el=A.useIntersectionObserver,es=A.visibleByDefault,ec=A.width;return B().createElement(ed,{beforeLoad:H,className:$,delayMethod:W,delayTime:K,height:et,placeholder:en,scrollPosition:er,style:ei,threshold:eo,useIntersectionObserver:el,visibleByDefault:es,width:ec},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(A){var H=this.props,$=H.effect,W=H.height,K=H.placeholderSrc,et=H.width,en=H.wrapperClassName,er=H.wrapperProps,ei=this.state.loaded,eo=ei?" lazy-load-image-loaded":"",el=ei||!K?{}:{backgroundImage:"url(".concat(K,")"),backgroundSize:"100% 100%"};return B().createElement("span",Q({className:en+" lazy-load-image-background "+$+eo,style:J(J({},el),{},{color:"transparent",display:"inline-block",height:W,width:et})},er),A)}},{key:"render",value:function(){var A=this.props,B=A.effect,H=A.placeholderSrc,$=A.visibleByDefault,W=A.wrapperClassName,K=A.wrapperProps,et=this.getLazyLoadImage();return(B||H)&&!$||W||K?this.getWrappedLazyLoadImage(et):et}}],function(A,B){for(var H=0;H<B.length;H++){var $=B[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(A,ee($.key),$)}}(u.prototype,H),Object.defineProperty(u,"prototype",{writable:!1}),u}(B().Component);ep.propTypes={onLoad:$.PropTypes.func,afterLoad:$.PropTypes.func,beforeLoad:$.PropTypes.func,delayMethod:$.PropTypes.string,delayTime:$.PropTypes.number,effect:$.PropTypes.string,placeholderSrc:$.PropTypes.string,threshold:$.PropTypes.number,useIntersectionObserver:$.PropTypes.bool,visibleByDefault:$.PropTypes.bool,wrapperClassName:$.PropTypes.string,wrapperProps:$.PropTypes.object},ep.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};let em=ep})(),A.exports=W})()},99341:function(A,B,H){"use strict";let $,W,K,et;H.r(B),H.d(B,{Helpers:function(){return h8},Image:function(){return Tr},Primitives:function(){return nX.default},Scroll:function(){return Ni},Slider:function(){return cA.default},Viewer:function(){return fl},default:function(){return h9}});var en,er,ei,eo,el,es,ec,eu,ed,eh,ep,em,ef,eg,e_,eE,ey,ev,eT,eb,ek,eA,eS,eC,ex,ew,eI,eO,eR,eN,eD,eL,eP,eM,eF,eB,eU,eH,ez,eG,ej,eV,e$,eQ,eq,eY,eW={};H.r(eW),H.d(eW,{boolean:function(){return n9},booleanish:function(){return n7},commaOrSpaceSeparated:function(){return rl},commaSeparated:function(){return ro},number:function(){return rn},overloadedBoolean:function(){return rt},spaceSeparated:function(){return rr}});var eX={};H.r(eX),H.d(eX,{boolean:function(){return rA},booleanish:function(){return rS},commaOrSpaceSeparated:function(){return rO},commaSeparated:function(){return rI},number:function(){return rx},overloadedBoolean:function(){return rC},spaceSeparated:function(){return rw}});var eK={};H.r(eK),H.d(eK,{boolean:function(){return rq},booleanish:function(){return rY},commaOrSpaceSeparated:function(){return rJ},commaSeparated:function(){return rZ},number:function(){return rX},overloadedBoolean:function(){return rW},spaceSeparated:function(){return rK}});var eZ={};H.r(eZ),H.d(eZ,{boolean:function(){return i3},booleanish:function(){return i4},commaOrSpaceSeparated:function(){return i7},commaSeparated:function(){return i9},number:function(){return i6},overloadedBoolean:function(){return i5},spaceSeparated:function(){return i8}});var eJ={};H.r(eJ),H.d(eJ,{attentionMarkers:function(){return lc},contentInitial:function(){return le},disable:function(){return lu},document:function(){return o7},flow:function(){return ln},flowInitial:function(){return lt},insideSpan:function(){return ll},string:function(){return li},text:function(){return lo}});var e0=H(69203),e1=H(4511),e2=H(86744),e3=H(67294),e4=H.t(e3,2),e5="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e6="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e8="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e9="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e7="http://iiif.io/api/image/1/level2.json",tt="http://iiif.io/api/image/1/profiles/level2.json",tn="http://iiif.io/api/image/2/level2.json",tr="http://iiif.io/api/image/2/profiles/level2.json",ti="level2",ta="http://iiif.io/api/image/2/level2",tl=[ta,e5,e6,e8,e9,e7,tt,tn,tr,ti],ts=([...tl],["http://iiif.io/api/image/2/level0","http://iiif.io/api/image/2/level1",ta,"http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/compliance.html#level1",e5,"http://library.stanford.edu/iiif/image-api/conformance.html#level0","http://library.stanford.edu/iiif/image-api/conformance.html#level1",e6,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e8,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e9,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json",e7,tt,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json",tn,tr,"level0","level1",ti]);function chunk_NJNTZ6QT_r(A){for(let B in A)(typeof A[B]>"u"||null===A[B])&&delete A[B];return A}function chunk_NJNTZ6QT_i(A){return Array.isArray(A)?A:A?[A]:[]}var tc=Object.defineProperty,chunk_D22QKJZO_e=(A,B,H)=>B in A?tc(A,B,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[B]=H,chunk_D22QKJZO_f=(A,B,H)=>(chunk_D22QKJZO_e(A,"symbol"!=typeof B?B+"":B,H),H),tu=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"],td=class t{constructor(A,B={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...A},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...B}}static all(A){return new t({collection:[A],manifest:[A],canvas:[A],annotationList:[A],sequence:[A],annotation:[A],contentResource:[A],choice:[A],range:[A],service:[A],layer:[A]})}traverseCollection(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(A))),this.traversals.collection)}traverseCollectionItems(A){if(this.options.mergeMemberProperties){let B=[...(A.manifests||[]).map(A=>"string"==typeof A?{"@id":A,"@type":"sc:Manifest"}:A),...(A.collections||[]).map(A=>"string"==typeof A?{"@id":A,"@type":"sc:Collection"}:A),...A.members||[]];delete A.collections,delete A.manifests,A.members=B}return A.manifests&&(A.manifests=A.manifests.map(A=>this.traverseManifest("string"==typeof A?{"@id":A,"@type":"sc:Manifest"}:A))),A.collections&&(A.collections=A.collections.map(A=>this.traverseCollection("string"==typeof A?{"@id":A,"@type":"sc:Collection"}:A))),A.members&&(A.members=A.members.map(A=>"string"==typeof A?A:this.traverseUnknown(A))),A}traverseManifest(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(A))),this.traversals.manifest)}traverseManifestItems(A){return A.sequences&&(A.sequences=A.sequences.map(A=>this.traverseSequence(A))),A.structures&&(A.structures=A.structures.map(A=>this.traverseRange(A))),A}traverseSequence(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(A))),this.traversals.sequence)}traverseSequenceItems(A){return A.canvases&&(A.canvases=A.canvases.map(A=>this.traverseCanvas(A))),A}traverseCanvas(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(A))),this.traversals.canvas)}traverseCanvasItems(A){return A.images&&(A.images=A.images.map(A=>this.traverseAnnotation(A))),A.otherContent&&(A.otherContent=A.otherContent.map(A=>this.traverseAnnotationList(A))),A}traverseRange(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(A))),this.traversals.range)}traverseRangeItems(A){if(this.options.mergeMemberProperties){let B=[...(A.ranges||[]).map(A=>"string"==typeof A?{"@id":A,"@type":"sc:Range"}:A),...(A.canvases||[]).map(A=>"string"==typeof A?{"@id":A,"@type":"sc:Canvas"}:A),...A.members||[]];delete A.ranges,delete A.canvases,A.members=B.length?B.map(A=>this.traverseUnknown(A)):void 0}return A}traverseAnnotationList(A){let B="string"==typeof A?{"@id":A,"@type":"sc:AnnotationList"}:A;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(B)),this.traversals.annotationList)}traverseAnnotationListItems(A){return A.resources&&(A.resources=A.resources.map(A=>this.traverseAnnotation(A))),A}traverseAnnotation(A){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(A))),this.traversals.annotation)}traverseAnnotationItems(A){return A.resource&&(Array.isArray(A.resource)?A.resource=A.resource.map(A=>this.traverseContentResource(A)):A.resource=this.traverseContentResource(A.resource)),A.on,A}traverseLayer(A){return this.traverseType(this.traverseLinking(this.traverseLayerItems(A)),this.traversals.layer)}traverseLayerItems(A){return A.otherContent&&(A.otherContent=A.otherContent.map(A=>this.traverseAnnotationList(A))),A}traverseChoice(A){return this.traverseType(this.traverseChoiceItems(A),this.traversals.choice)}traverseChoiceItems(A){return A.default&&"rdf:nil"!==A.default&&(A.default=this.traverseContentResource(A.default)),A.item&&"rdf:nil"!==A.item&&(A.item=A.item.map(A=>this.traverseContentResource(A))),A}traverseService(A){return this.traverseType(this.traverseLinking(A),this.traversals.service)}traverseContentResource(A){return"oa:Choice"===A["@type"]?this.traverseChoice(A):this.traverseType(this.traverseDescriptive(this.traverseLinking(A)),this.traversals.contentResource)}traverseUnknown(A){if(!A["@type"]||"string"==typeof A)return A;switch(function(A){if(typeof A>"u"||null===A)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(A))throw Error("Array is not a valid entity");if("object"!=typeof A)throw Error(`${typeof A} is not a valid entity`);if("string"==typeof A["@type"]){let B=tu.indexOf(A["@type"]);if(-1!==B)return tu[B]}if(A.profile)return"Service";if(A.format||A["@type"])return"ContentResource";throw Error("Resource type is not known")}(A)){case"sc:Collection":return this.traverseCollection(A);case"sc:Manifest":return this.traverseManifest(A);case"sc:Canvas":return this.traverseCanvas(A);case"sc:Sequence":return this.traverseSequence(A);case"sc:Range":return this.traverseRange(A);case"oa:Annotation":return this.traverseAnnotation(A);case"sc:AnnotationList":return this.traverseAnnotationList(A);case"sc:Layer":return this.traverseLayer(A);case"Service":return this.traverseService(A);case"oa:Choice":return this.traverseChoice(A);case"ContentResource":return this.traverseContentResource(A)}return A.profile?this.traverseService(A):A}traverseImageResource(A){let B=Array.isArray(A),H=Array.isArray(A)?A:[A],$=[];for(let A of H)"string"==typeof A?$.push(this.traverseContentResource({"@id":A,"@type":"dctypes:Image"})):$.push(this.traverseContentResource(A));return B||this.options.convertPropsToArray?$:$[0]}traverseDescriptive(A){return A.thumbnail&&(A.thumbnail=this.traverseImageResource(A.thumbnail)),A.logo&&(A.logo=this.traverseImageResource(A.logo)),A}traverseOneOrMoreServices(A){let B=Array.isArray(A),H=Array.isArray(A)?A:[A],$=[];for(let A of H)$.push(this.traverseService(A));return B||this.options.convertPropsToArray?$:$[0]}traverseLinking(A){return A.related&&(A.related=this.traverseOneOrManyType(A.related,this.traversals.contentResource)),A.rendering&&(A.rendering=this.traverseOneOrManyType(A.rendering,this.traversals.contentResource)),A.service&&(A.service=this.traverseOneOrMoreServices(A.service)),A.seeAlso&&(A.seeAlso=this.traverseOneOrManyType(A.seeAlso,this.traversals.contentResource)),A.within&&("string"==typeof A.within||(A.within=this.traverseOneOrManyType(A.within,this.traversals.contentResource))),A.startCanvas&&("string"==typeof A.startCanvas?A.startCanvas=this.traverseType({"@id":A.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):A.startCanvas&&this.traverseType(A.startCanvas,this.traversals.canvas)),A.contentLayer&&("string"==typeof A.contentLayer?A.contentLayer=this.traverseLayer({"@id":A.contentLayer,"@type":"sc:Layer"}):A.contentLayer=this.traverseLayer(A.contentLayer)),A}traverseOneOrManyType(A,B){if(!Array.isArray(A)){if(!this.options.convertPropsToArray)return this.traverseType(A,B);A=[A]}return A.map(A=>this.traverseType(A,B))}traverseType(A,B){return B.reduce((A,B)=>{let H=B(A);return typeof H>"u"&&!this.options.allowUndefinedReturn?A:H},A)}},th=["http://iiif.io/api/image/2/level1","http://iiif.io/api/image/2/level2","http://library.stanford.edu/iiif/image-api/compliance.html#level1","http://library.stanford.edu/iiif/image-api/compliance.html#level2","http://library.stanford.edu/iiif/image-api/conformance.html#level1","http://library.stanford.edu/iiif/image-api/conformance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1","http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2","http://iiif.io/api/image/1/level1.json","http://iiif.io/api/image/1/profiles/level1.json","http://iiif.io/api/image/1/level2.json","http://iiif.io/api/image/1/profiles/level2.json","http://iiif.io/api/image/2/level1.json","http://iiif.io/api/image/2/profiles/level1.json","http://iiif.io/api/image/2/level2.json","http://iiif.io/api/image/2/profiles/level2.json","level1","level2"],tp={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function chunk_BMMVY4QT_h(A,B="none"){if(!A)return{none:[""]};let H=function(A){if("string"==typeof A)return[A];if(!A)return[];let B=Array.isArray(A)?A:[A],H=[];for(let A of B){if("string"==typeof A){H.push(A);continue}H.push({"@language":A["@language"]||A.language,"@value":A["@value"]||A.value})}return H}(A),$={};for(let A of H){if("string"==typeof A){$[B]=$[B]?$[B]:[],$[B].push(A||"");continue}if(!A["@language"]){$[B]=$[B]?$[B]:[],$[B].push(A["@value"]||"");continue}let H=A["@language"];$[H]=$[H]?$[H]:[],$[H].push(A["@value"]||"")}return 0===Object.keys($).length?{none:[""]}:$}function chunk_BMMVY4QT_(A){for(let B of["sc","oa","dcterms","dctypes","iiif"])if(A.startsWith(`${B}:`))return A.slice(B.length+1);return A}var tm=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function chunk_BMMVY4QT_g(A){let B=A["@id"]||A.id,H=A["@type"]||A.type,$=A.profile||void 0,W=A["@context"]||void 0;if($){let A=function(A){switch(A){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}($);if(A)return A}if(W){let A=function(A){for(let B of Array.isArray(A)?A:[A])switch(B){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(W);if(A)return A}if(H){if(Array.isArray(H)){if(-1!==H.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==H.indexOf("cnt:ContentAsText"))return"TextualBody";H=H[0]}for(let A of["sc","oa","dcterms","dctypes","iiif"])if(H.startsWith(`${A}:`)){H=H.slice(A.length+1);break}switch(H){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(H&&-1!==tm.indexOf(H))return H;if(A.format){if(A.format.startsWith("image/"))return"Image";if(A.format.startsWith("text/")||"application/pdf"===A.format)return"Text";if(A.format.startsWith("application/"))return"Dataset"}return B&&(B.endsWith(".jpg")||B.endsWith(".png")||B.endsWith(".jpeg"))?"Image":H||"unknown"}var tf=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,tg=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"],t_=0;function chunk_BMMVY4QT_x(A,B){let H=encodeURI(A.id||A["@id"]||"").trim();return H&&B?`${H}/${B}`:H||(t_++,`http://example.org/${A["@type"]}${B?`/${B}`:""}/${t_}`)}function chunk_BMMVY4QT_p(A){let B,H=[...A.behavior||[]];return A.viewingHint&&H.push(A.viewingHint),Array.isArray(A.motivation)?B=A.motivation.map(chunk_BMMVY4QT_):A.motivation&&(B=chunk_BMMVY4QT_(A.motivation)),{"@context":A["@context"]?function(A){if(A){let B=Array.isArray(A)?A:[A],H=[];for(let A of B)"http://iiif.io/api/presentation/2/context.json"===A&&H.push("http://iiif.io/api/presentation/3/context.json"),-1===tg.indexOf(A)&&H.push(A);if(B.length)return 1===H.length?H[0]:H}}(A["@context"]):void 0,id:(A["@id"]||chunk_BMMVY4QT_x(A)).trim(),type:chunk_BMMVY4QT_g(A),behavior:H.length?H:void 0,height:A.height?A.height:void 0,width:A.width?A.width:void 0,motivation:B,viewingDirection:A.viewingDirection,profile:A.profile,format:A.format?A.format:void 0,duration:void 0,timeMode:void 0}}function chunk_BMMVY4QT_f(A){var B,H;let[$,W]=function(A,B="Rights/License",H="none"){let $=null,W=[];for(let K of Array.isArray(A)?A:[A]){let A=K?function(A){let B=A.match(tf);return B?B[0]:A}(K):void 0;if(A&&(-1!==A.indexOf("creativecommons.org")||-1!==A.indexOf("rightsstatements.org"))){$=A.startsWith("https://")?`http://${A.slice(8)}`:A;continue}A&&W.push({label:{[H]:[B]},value:{[H]:[A]}})}return[$,W]}(A.license),K=[...A.metadata&&(B=A.metadata)?B.map(A=>({label:chunk_BMMVY4QT_h(A.label),value:chunk_BMMVY4QT_h(A.value)})):[],...W];return{rights:$,metadata:K.length?K:void 0,label:A.label?chunk_BMMVY4QT_h(A.label):void 0,requiredStatement:A.attribution?{label:chunk_BMMVY4QT_h(tp.attributionLabel),value:chunk_BMMVY4QT_h(A.attribution)}:void 0,navDate:A.navDate,summary:A.description?chunk_BMMVY4QT_h(A.description):void 0,thumbnail:(H=A.thumbnail)&&(Array.isArray(H)?H:[H]).map(A=>"string"==typeof A?{id:A,type:"Image"}:("unknown"===A.type&&(A.type="Image"),A))}}function chunk_BMMVY4QT_l(A){let B=A.related?Array.isArray(A.related)?A.related:[A.related]:[],H=A.contentLayer;return{provider:A.logo||B.length?[{id:tp.providerId,type:"Agent",homepage:B.length?[B[0]]:void 0,logo:A.logo?Array.isArray(A.logo)?A.logo:[A.logo]:void 0,label:chunk_BMMVY4QT_h(tp.providerName)}]:void 0,partOf:function(A){if(!A.within)return;let B=Array.isArray(A.within)?A.within:[A.within],H=[];for(let $ of B)"string"==typeof $?$&&"sc:Manifest"===A["@type"]&&H.push({id:$,type:"Collection"}):$["@id"]&&H.push({id:$["@id"],type:chunk_BMMVY4QT_g($)});return H.length?H:void 0}(A),rendering:A.rendering,seeAlso:A.seeAlso,start:A.startCanvas,service:A.service?chunk_NJNTZ6QT_i(A.service):void 0,supplementary:H?[H]:void 0}}function T(A){return"Choice"===A.type?A:chunk_BMMVY4QT_E(A)}function chunk_BMMVY4QT_E(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),chars:A.chars,format:A.format?A.format:void 0,language:A.language})}var tE=new td({collection:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),items:A.members})}],manifest:[function(A){let B=[],H=[],$;for(let W of A.sequences||[])W.canvases.length&&B.push(...W.canvases),W.behavior&&H.push(...W.behavior),W.startCanvas&&($=W.startCanvas);let W=chunk_BMMVY4QT_p(A);return H.length&&(W.behavior?W.behavior.push(...H):W.behavior=H),chunk_NJNTZ6QT_r({...W,...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),start:$,items:B,structures:function(A){if(!A)return A;let B=new Map;for(let H of A)B.set(H.id,H);let H=[];for(let $ of A)if($.items){let A=$.items.map(A=>"string"==typeof A?(H.push(A),B.get(A)||A):A&&A.id?(H.push(A.id),B.get(A.id)||A):A);$.items=A}return A.filter(A=>-1===H.indexOf(A.id))}(A.structures)})}],canvas:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),annotations:A.otherContent&&A.otherContent.length?A.otherContent:void 0,items:A.images&&A.images.length?[{id:chunk_BMMVY4QT_x(A,"annotation-page"),type:"AnnotationPage",items:A.images}]:void 0})}],annotationList:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),items:A.resources&&A.resources.length?A.resources:void 0})}],sequence:[function(A){return A.canvases&&0!==A.canvases.length?{canvases:A.canvases,behavior:A.viewingHint?[A.viewingHint]:[],startCanvas:A.startCanvas}:{canvases:[],behavior:[]}}],annotation:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),target:function e(A){if(Array.isArray(A)){if(A.length>1)return{type:"List",items:A.map(e)};A=A[0]}if("string"==typeof A)return encodeURI(A).trim();if(!("@type"in A))return encodeURI(A["@id"]).trim();{let B;if("string"==typeof A.full)B=A.full;else if("dctypes:Image"===A.full["@type"])B={id:A.full["@id"],type:"Image"};else if("sc:Canvas"===A.full["@type"])B={id:A.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${A.full["@type"]}`);return{type:"SpecificResource",source:B,selector:function chunk_BMMVY4QT_y(A){if((Array.isArray(A["@type"])&&A["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==A["@type"])&&("chars"in A||"value"in A))return{type:"SvgSelector",value:"chars"in A?A.chars:A.value};if("oa:FragmentSelector"===A["@type"])return{type:"FragmentSelector",value:A.value};if("oa:Choice"===A["@type"])return[chunk_BMMVY4QT_y(A.default),...(Array.isArray(A.item)?A.item:[A.item]).map(chunk_BMMVY4QT_y)];if("iiif:ImageApiSelector"==A["@type"])return{type:"ImageApiSelector",region:"region"in A?A.region:void 0,rotation:"rotation"in A?A.rotation:void 0};throw Error(`Unsupported selector type: ${A["@type"]}`)}(A.selector)}}}(A.on),body:Array.isArray(A.resource)?A.resource.map(T):T(A.resource)})}],contentResource:[chunk_BMMVY4QT_E],choice:[function(A){let B=[];return A.default&&"rdf:nil"!==A.default&&B.push(A.default),A.item&&"rdf:nil"!==A.item&&B.push(...A.item),chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),items:B})}],range:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A),items:A.members})}],service:[function(A){let{"@id":B,"@type":H,"@context":$,profile:W,...K}=A,et={};return B&&(et["@id"]=B),et["@type"]=chunk_BMMVY4QT_g(A),"unknown"===et["@type"]&&($&&$.length&&(et["@context"]=$),et["@type"]="Service"),W&&(et.profile=function chunk_BMMVY4QT_L(A){return Array.isArray(A)?chunk_BMMVY4QT_L(A.find(A=>"string"==typeof A)):-1!==tl.indexOf(A)?"level2":-1!==th.indexOf(A)?"level1":-1!==ts.indexOf(A)?"level0":"string"==typeof A?A:void 0}(W)),chunk_NJNTZ6QT_r({...et,...K})}],layer:[function(A){return chunk_NJNTZ6QT_r({...chunk_BMMVY4QT_p(A),...chunk_BMMVY4QT_f(A),...chunk_BMMVY4QT_l(A)})}]});function chunk_W3DWL6UZ_v(A){return"string"!=typeof A&&(A&&!A.type&&"source"in A?(A.type="SpecificResource",!0):!!A&&"SpecificResource"===A.type)}function chunk_W3DWL6UZ_o(...A){return B=>A.reduce((A,B)=>B(A),B)}var ty=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"],tv=class a{constructor(A,B={}){chunk_D22QKJZO_f(this,"traversals"),chunk_D22QKJZO_f(this,"options"),chunk_D22QKJZO_f(this,"_traverseManifest",chunk_W3DWL6UZ_o(this.traverseManifestItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseManifestStructures.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseCanvas",chunk_W3DWL6UZ_o(this.traverseCanvasItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this),this.traverseInlineAnnotationPages.bind(this))),chunk_D22QKJZO_f(this,"_traverseAnnotationPage",chunk_W3DWL6UZ_o(this.traverseAnnotationPageItems.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this))),chunk_D22QKJZO_f(this,"_traverseRange",chunk_W3DWL6UZ_o(this.traverseRangeRanges.bind(this),this.traverseLinking.bind(this),this.traverseDescriptive.bind(this),this.traverseLinkedCanvases.bind(this))),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],specificResource:[],geoJson:[],...A},this.options={allowUndefinedReturn:!1,...B}}static all(A){return new a({collection:[A],manifest:[A],canvas:[A],annotationCollection:[A],annotationPage:[A],annotation:[A],contentResource:[A],choice:[A],range:[A],service:[A],geoJson:[A],specificResource:[A],agent:[A]})}traverseDescriptive(A){return A.thumbnail&&(A.thumbnail=chunk_NJNTZ6QT_i(A.thumbnail).map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A.provider&&(A.provider=A.provider.map(B=>this.traverseAgent(B,A))),A}traverseLinking(A){return A.seeAlso&&(A.seeAlso=A.seeAlso.map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A.service&&(A.service=chunk_NJNTZ6QT_i(A.service).map(A=>this.traverseService(A))),A.services&&(A.services=chunk_NJNTZ6QT_i(A.services).map(B=>this.traverseService(B,A))),A.logo&&(A.logo=A.logo.map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A.homepage&&(A.homepage=chunk_NJNTZ6QT_i(A.homepage).map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A.partOf&&(A.partOf=A.partOf.map(B=>"string"!=typeof B&&B.type?"Canvas"===B.type?this.traverseType(B,{parent:A},this.traversals.canvas):"AnnotationCollection"===B.type?this.traverseType(B,{parent:A},this.traversals.annotationCollection):"Collection"===B.type?this.traverseType(B,{parent:A},this.traversals.collection):this.traverseType(B,{parent:A},this.traversals.contentResource):this.traverseType(B,{parent:A},this.traversals.contentResource))),A.start&&(chunk_W3DWL6UZ_v(A.start)?A.start=this.traverseSpecificResource(A.start,"Canvas",A):A.start=this.traverseType(A.start,{parent:A},this.traversals.canvas)),A.rendering&&(A.rendering=A.rendering.map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A.supplementary&&(A.supplementary=A.supplementary.map(B=>this.traverseType(B,{parent:A},this.traversals.contentResource))),A}traverseCollectionItems(A){return A.items&&A.items.map(A=>"Collection"===A.type?this.traverseCollection(A):this.traverseManifest(A)),A}traverseCollection(A,B){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traverseLinkedCanvases(this.traverseCollectionItems(A))))),{parent:B},this.traversals.collection)}traverseGeoJson(A,B){return this.traverseType(A,{parent:B},this.traversals.geoJson)}traverseNavPlace(A){return A.navPlace&&(A.navPlace=this.traverseGeoJson(A.navPlace,A)),A}traverseManifestItems(A){return A.items&&(A.items=A.items.map(A=>this.traverseCanvas(A))),A}traverseManifestStructures(A){return A.structures&&(A.structures=A.structures.map(A=>this.traverseRange(A))),A}traverseManifest(A,B){return this.traverseType(this._traverseManifest(A),{parent:B},this.traversals.manifest)}traverseCanvasItems(A){return A.items=(A.items||[]).map(B=>this.traverseAnnotationPage(B,A)),A}traverseInlineAnnotationPages(A){return"string"==typeof A||!A||A.annotations&&(A.annotations=A.annotations.map(B=>this.traverseAnnotationPage(B,A))),A}traverseCanvas(A,B){return this.traverseType(this._traverseCanvas(A),{parent:B},this.traversals.canvas)}traverseAnnotationPageItems(A){return A.items&&(A.items=A.items.map(B=>this.traverseAnnotation(B,A))),A}traverseAnnotationPage(A,B){return this.traverseType(this._traverseAnnotationPage(A),{parent:B},this.traversals.annotationPage)}traverseAnnotationBody(A){return Array.isArray(A.body)?A.body=A.body.map(B=>this.traverseContentResource(B,A)):A.body&&(A.body=this.traverseContentResource(A.body,A)),A}traverseLinkedCanvases(A){return A.placeholderCanvas&&(A.placeholderCanvas=this.traverseCanvas(A.placeholderCanvas)),A.accompanyingCanvas&&(A.accompanyingCanvas=this.traverseCanvas(A.accompanyingCanvas)),A}traverseAnnotation(A,B){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(this.traverseDescriptive(A))),{parent:B},this.traversals.annotation)}traverseContentResourceLinking(A){return"string"==typeof A||!A||A&&A.service&&(A.service=chunk_NJNTZ6QT_i(A.service||[]).map(B=>this.traverseService(B,A))),A}traverseContentResource(A,B){return"Choice"===A.type&&(A.items=A.items.map(B=>this.traverseContentResource(B,A))),chunk_W3DWL6UZ_v(A)?this.traverseSpecificResource(A,"ContentResource"):this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(A)),{parent:B},this.traversals.contentResource)}traverseSpecificResource(A,B,H){let $=A.source;return"string"==typeof A.source&&($={id:A.source,type:B||"unknown"}),this.traverseType({...A,source:"Canvas"===B||"Canvas"===$.type?this.traverseType($,{parent:H},this.traversals.canvas):"ContentResource"===B?this.traverseContentResource($,{parent:H}):this.traverseUnknown($,{parent:H,typeHint:B})},{parent:H},this.traversals.specificResource)}traverseRangeRanges(A){return A.items&&(A.items=A.items.map(B=>"string"==typeof B?this.traverseCanvas({id:B,type:"Canvas"},A):chunk_W3DWL6UZ_v(B)?this.traverseSpecificResource(B,"Canvas",A):"Manifest"===B.type?this.traverseManifest(B,A):this.traverseRange(B,A))),A}traverseRange(A,B){return this.traverseType(this._traverseRange(A),{parent:B},this.traversals.range)}traverseAgent(A,B){return this.traverseType(this.traverseDescriptive(this.traverseLinking(A)),{parent:B},this.traversals.agent)}traverseType(A,B,H){return H.reduce((A,H)=>{let $=H(A,B);return typeof $>"u"&&!this.options.allowUndefinedReturn?A:$},A)}traverseService(A,B){let H=Object.assign({},A);return H&&H.service&&(H.service=chunk_NJNTZ6QT_i(H.service).map(A=>this.traverseService(A))),this.traverseType(H,{parent:B},this.traversals.service)}traverseUnknown(A,{parent:B,typeHint:H}={}){let $=function(A,B){if(typeof A>"u"||null===A)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(A))throw Error("Array is not a valid entity");if("object"!=typeof A){if(B)return B;throw Error(`${typeof A} is not a valid entity`)}if("string"==typeof A.type){let B=ty.indexOf(A.type);if(-1!==B)return ty[B]}if(A.profile)return"Service";throw Error("Resource type is not known")}(A,H);switch($){case"Collection":return this.traverseCollection(A,B);case"Manifest":return this.traverseManifest(A,B);case"Canvas":return this.traverseCanvas(A,B);case"AnnotationPage":return this.traverseAnnotationPage(A,B);case"Annotation":return this.traverseAnnotation(A,B);case"ContentResource":return this.traverseContentResource(A,B);case"Range":return this.traverseRange(A,B);case"Service":return this.traverseService(A,B);case"Agent":return this.traverseAgent(A,B);default:throw Error(`Unknown or unsupported resource type of ${$}`)}}},tT={},tb="iiif-parser:hasPart",tk="iiif-parser:partOf",tA="iiif-parser:isExternal",tS="__$UNSET$__",tC="__$UNWRAP$__",tx=[];function chunk_AXOUQGO3_oe(A,B){if(B&&B["@explicit"]){let H={};for(let $ of Object.keys(B))$===tk||"@explicit"===$||(function(A){if(A===tT||0===Object.keys(A).length)return!0;for(let B in A)return!1;return!0}(B[$])?H[$]=A[$]:H[$]=B[$]);return H}return A}Object.freeze(tx),Object.freeze(tT);var tw={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:tx,label:null,thumbnail:tx,summary:null,requiredStatement:null,metadata:tx,rights:null,provider:tx,items:tx,seeAlso:tx,homepage:tx,rendering:tx,service:tx},tI={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:tx,thumbnail:tx,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tx,rights:null,navDate:null,provider:tx,items:tx,annotations:tx,seeAlso:tx,homepage:tx,partOf:tx,rendering:tx,service:tx,duration:0,height:0,width:0},tO={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:tx,thumbnail:tx,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tx,rights:null,navDate:null,provider:tx,items:tx,annotations:tx,seeAlso:tx,homepage:tx,partOf:tx,rendering:tx,service:tx,services:tx},tR={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:tx,behavior:tx,homepage:tx,items:tx,label:null,metadata:tx,navDate:null,provider:tx,partOf:tx,accompanyingCanvas:null,placeholderCanvas:null,rendering:tx,requiredStatement:null,rights:null,seeAlso:tx,service:tx,services:tx,start:null,structures:tx,summary:null,thumbnail:tx,viewingDirection:"left-to-right"},tN={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:tx,thumbnail:tx,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:tx,rights:null,navDate:null,provider:tx,items:tx,annotations:tx,seeAlso:tx,homepage:tx,partOf:tx,rendering:tx,service:tx,start:null,supplementary:null,viewingDirection:"left-to-right"},tD={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:tx,seeAlso:tx,homepage:tx},tL={id:"https://iiif-parser/empty-service",type:"UnknownService"};function chunk_AXOUQGO3_Z(A,B){if("string"==typeof A)return{id:A,type:B};if(!A.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(A)}, ${B})`);return A}function chunk_AXOUQGO3_W(A,B,H){if("string"==typeof A)return A;if(B.id!==A.id||B.type!==A.type){if("ImageService3"===B.type)return B;if("ImageService3"===A.type)return A;throw Error(`Can only merge entities with identical identifiers and type! ${B.type}(${B.id}) => ${A.type}(${A.id})`)}return function chunk_AXOUQGO3_$(A,B,H){if(!B)return A;if(Array.isArray(A)){if(!Array.isArray(B))throw Error("Cannot merge array with non-array");let H=[...A];for(let $ of B)if($["@id"]&&!$.id&&($.id=$["@id"]),$["@type"]&&!$.type&&($.type=$["@type"]),null!=$){if(Array.isArray($))H.push($);else if("object"==typeof $&&$.id&&$.type){let A=H.findIndex(A=>A.id===$.id&&A.type===$.type);A>=0&&(H[A]=chunk_AXOUQGO3_$(H[A],$))}else -1===A.indexOf($)&&H.push($)}return H}if("object"==typeof A){if(Array.isArray(B)||"object"!=typeof B)throw Error("Cannot merge object with non-object");let $={...A},W=[],K=[],et=Object.keys(A).filter(A=>A!==tb&&"id"!==A&&"type"!==A),en={},er={};for(let[A,H]of Object.entries(B)){if(A===tb||"id"===A||"type"===A)continue;let B=$[A];B===H?K.push(A):B!==tx&&B?(B&&H&&(en[A]=B,er[A]=H),$[A]=chunk_AXOUQGO3_$(B,H),$[A]===en[A]&&(K.push(A),delete en[A])):(W.push(A),$[A]=H)}if(H&&(H.parent&&H.parent.id||H.isTopLevel)){let B=[],ei={};if(H.parent?ei[tk]=H.parent.id:H.isTopLevel&&(ei[tk]=A.id),$[tb]&&$[tb].length){let A=!($[tb]||[]).find(A=>A["@explicit"]),H=W.length>0||K.length!==et.length;if(A&&H)for(let A of $[tb]){let H={...A},$=Object.keys(en);if(H){for(let A of(H["@explicit"]=!0,et))A!==tb&&(H[A]=tT);for(let A of $)H[A]=en[A]}B.push(H)}else B.push(...$[tb]);if(H){let A=Object.keys(er);for(let A of(ei["@explicit"]=!0,W))ei[A]=tT;for(let A of K)ei[A]=tT;for(let B of A)ei[B]=er[B]}}ei.id=$.id,ei.type=$.type,B.push(ei),$[tb]=B}return $}return A||B}({...A},B,H)}function chunk_AXOUQGO3_U(A){return B=>"string"==typeof B?{id:B,type:A}:B.id?B.type?B:{type:A,...B}:{id:`vault://${function(A){let B=JSON.stringify(A),H=5381,$=B.length;for(;$;)H=33*H^B.charCodeAt(--$);let W=(H>>>0).toString(16);return W.length%2?"0"+W:W}(B)}`,type:A,...B}}function chunk_AXOUQGO3_E(A){return B=>({...A,...B})}function chunk_AXOUQGO3_D(A){return Array.isArray(A)?A:[A]}function chunk_AXOUQGO3_fe(A){return A.body&&(A.body=chunk_AXOUQGO3_D(A.body)),A.seeAlso&&(A.seeAlso=chunk_AXOUQGO3_D(A.seeAlso)),A.audience&&(A.audience=chunk_AXOUQGO3_D(A.audience)),A.accessibility&&(A.accessibility=chunk_AXOUQGO3_D(A.accessibility)),A.motivation&&(A.motivation=chunk_AXOUQGO3_D(A.motivation)),A}function chunk_AXOUQGO3_ee(A,{typeHint:B,partOfTypeHint:H}={}){let $;if("string"==typeof A&&(A={id:A,type:B||"unknown"}),chunk_W3DWL6UZ_v(A))return"string"==typeof A.source&&(A.source={id:A.source,type:B||"unknown"}),"Canvas"===A.source.type&&A.source.partOf&&"string"==typeof A.source.partOf&&(A.source.partOf=[{id:A.source.partOf,type:H||"Manifest"}]),A;if(-1!==(A.id||"").indexOf("#")){let[B,H]=(A.id||"").split("#");A.id=B,H&&($={type:"FragmentSelector",value:H})}return{type:"SpecificResource",source:A,selector:$}}function chunk_AXOUQGO3_pe(A){let B=Object.assign({},A);return A&&A.items&&(B.items=A.items.map(A=>"string"==typeof A||"Canvas"===A.type?chunk_AXOUQGO3_ee(A):A)),B}function chunk_AXOUQGO3_ye(A){let B=Object.assign({},A);return B.start?(B.start=chunk_AXOUQGO3_ee(B.start,{typeHint:"Canvas"}),B):A}function chunk_AXOUQGO3_me(A){let B=Object.assign({},A);return B.target?(B.target=function chunk_AXOUQGO3_(A,B={}){if(Array.isArray(A))return chunk_AXOUQGO3_(A[0]);if("string"==typeof A){let[H,$]=A.split("#");return $?{type:"SpecificResource",source:{id:H,type:B.typeHint||"Unknown"},selector:{type:"FragmentSelector",value:$}}:{type:"SpecificResource",source:{id:H,type:B.typeMap&&B.typeMap[H]||B.typeHint||"Unknown"}}}if("Choice"===A.type||"List"===A.type||"Composite"===A.type||"Independents"===A.type)return chunk_AXOUQGO3_(A.items[0]);if(!A.type&&"source"in A&&(A.type="SpecificResource"),"SpecificResource"===A.type)return"Canvas"===A.source.type&&A.source.partOf&&"string"==typeof A.source.partOf&&(A.source.partOf=[{id:A.source.partOf,type:"Manifest"}]),A.selector?{type:"SpecificResource",source:A.source,selector:A.selector}:{type:"SpecificResource",source:A.source};if(A.id){"Canvas"===A.type&&A.partOf&&"string"==typeof A.partOf&&(A.partOf=[{id:A.partOf,type:"Manifest"}]);let[B,H]=A.id.split("#");return H?{type:"SpecificResource",source:{...A,id:B},selector:{type:"FragmentSelector",value:H}}:{type:"SpecificResource",source:{...A,id:B}}}return{type:"SpecificResource",source:A}}(B.target,{typeHint:"Canvas"}),B):A}function chunk_AXOUQGO3_ve(A){return A}function chunk_AXOUQGO3_q(A){return typeof A.items>"u"&&(A[tA]=!0),A}function Fe(A){let B=A&&A["@context"]&&("http://iiif.io/api/presentation/2/context.json"===A["@context"]||-1!==A["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===A["@context"])||"http://iiif.io/api/image/2/context.json"===A["@context"]?tE.traverseUnknown(A):A,H={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},$={},t=(A,$)=>{let W=H[A]?H[A]:{};return(H,K)=>{let et=chunk_AXOUQGO3_Z(H,$||A);return et&&et.id&&A?(W[et.id]=W[et.id]?chunk_AXOUQGO3_W(W[et.id],et,{parent:K.parent,isTopLevel:B.id===et.id}):chunk_AXOUQGO3_W({id:et.id,type:et.type},et,{parent:K.parent,isTopLevel:B.id===et.id}),{id:et.id,type:"ContentResource"===A?A:et.type}):et}},a=(A,B)=>H=>{let{id:W,type:K}=chunk_AXOUQGO3_Z(H,B||A);if(typeof W>"u")throw Error("Found invalid entity without an ID.");return"ContentResource"===A||"Service"===A?$[W]=A:$[W]=K,H},W=new tv({collection:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tO),a("Collection"),t("Collection")],manifest:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_E(tR),chunk_AXOUQGO3_ye,a("Manifest"),t("Manifest")],canvas:[chunk_AXOUQGO3_E(tI),a("Canvas"),t("Canvas")],annotationPage:[chunk_AXOUQGO3_q,chunk_AXOUQGO3_U("AnnotationPage"),chunk_AXOUQGO3_E(tw),a("AnnotationPage"),t("AnnotationPage")],annotation:[chunk_AXOUQGO3_U("Annotation"),chunk_AXOUQGO3_fe,chunk_AXOUQGO3_me,a("Annotation"),t("Annotation")],contentResource:[chunk_AXOUQGO3_U("ContentResource"),a("ContentResource"),t("ContentResource")],range:[chunk_AXOUQGO3_E(tN),chunk_AXOUQGO3_pe,a("Range","Canvas"),t("Range","Canvas")],agent:[chunk_AXOUQGO3_E(tD),a("Agent"),t("Agent")],specificResource:[chunk_AXOUQGO3_ve],service:[A=>{H.Service=H.Service?H.Service:{};let B=A.id||A["@id"],$=function(A){let B=Object.assign({},A);if(B["@id"]&&(B.id=B["@id"]),B["@type"]&&(B.type=B["@type"]),B.service){let A=[];for(let H of(B.service=Array.isArray(B.service)?B.service:[B.service],B.service))A.push({id:H["@id"]||H.id,type:H["@type"]||H.type});B.service=A}return Object.assign({},tL,B)}(A);return $&&$.id&&(H.Service[$.id]?H.Service[B]=chunk_AXOUQGO3_W(H.Service[B],$):H.Service[B]=$),A}]}).traverseUnknown(B);return{entities:H,resource:W,mapping:$}}function $e(A,B,H){if(!B.type||!B.id)throw Error("Unknown entity");if(!H[B.type])throw Error(`Serializer not found for ${B.type}`);return function r($,W,K=0){let et=H[$.type];if(!et)return tS;if(K>20)throw Error("Circular reference: "+$.id+" "+$.type);let[en,er]=function chunk_AXOUQGO3_F(A,B,H){let $=function chunk_AXOUQGO3_L(A,B){let H=B||"unknown";if(!A)return;if("string"==typeof A)return{id:A,type:H};if(chunk_W3DWL6UZ_v(A))return chunk_AXOUQGO3_L(A.source,B);let $=H&&"unknown"!==H?H:A.type||A["@type"],W=A.id||A["@id"];if($&&-1!==$.indexOf(":")&&($=$.split(":").pop()),W&&$)return{id:W,type:$}}(B);if(!$)return[void 0,void 0];let W=A.requests[$.id],K=$.type||A.mapping[$.id];if(!K||W&&W.resourceUri&&(!A.entities[K]||!A.entities[K][W.resourceUri]))return[void 0,void 0];let et=A.entities[K][W?W.resourceUri:$.id];if($.type&&!et)return chunk_AXOUQGO3_F(A,{id:$.id},H);if(et&&et[tb]){let A=et[tb].find(A=>H?A[tk]===H.id:A[tk]===et.id);return[chunk_AXOUQGO3_oe(et,A),et]}return[et,et]}(A,$.type?$:$.id,W)||($.id&&$.type?$:null);if(!en)return tS;let ei=et(en,A,{parent:W,isTopLevel:B.id===$.id,fullResource:er}),eo=ei.next();for(;!eo.done;){let A=eo.value,B=tS;if(A){if(Array.isArray(A)){let H=[];for(let B of A)H.push(r(B,$,K+1));B=H}else B=r(A,$,K+1)}eo=ei.next(B)}return eo.value===tS?tS:function(A){let B={};for(let[H,$]of A){if(H===tC&&$!==tS)return $;$!==tS&&"u">typeof $&&null!==$&&(B[H]=$)}return B}(eo.value)}(B)}function chunk_AXOUQGO3_P(A,{allowSourceString:B=!0,allowString:H=!1,allowedStringType:$}={}){let t=A=>{if(B&&A&&A.source&&"string"!=typeof A.source){let B=Object.keys(A.source);if(A.source.id&&A.source.type&&2===B.length)return{...A,source:A.source.id}}return A};if(A){if(A.source&&A.source.partOf)return t(A);let B=Object.keys(A);if(2===B.length&&A.type&&A.source||3===B.length&&A.type&&A.source&&-1!==B.indexOf("selector")&&!A.selector)return H&&(!$||$===A.source.type)?A.source.id:"ContentResource"===A.source.type?{type:"SpecificResource",source:A.source.id}:A.source;if(A.selector&&!Array.isArray(A.selector)&&"string"!=typeof A.selector&&"FragmentSelector"===A.selector.type){let B=`${A.source.id}#${A.selector.value}`;return H?B:{id:B,type:A.source.type}}}return t(A)}function chunk_AXOUQGO3_O(A){if(!A)return;let B=Object.keys(A);if(0!==B.length){if(1===B.length){let H=B[0];if(!H)return"";let $=(A[H]||[]).join("");return"@none"===H||"none"===H||"en"===H?$:{"@language":H,"@value":$}}return B.map(B=>({"@language":B,"@value":(A[B]||[]).join("")}))}}function chunk_AXOUQGO3_h(A,B=!1){if(A)return A.length>1&&!B?A:A[0]||void 0}function chunk_AXOUQGO3_he(A){if(A){if("string"==typeof A)return{"@id":A};if("@id"in A){let B={...A};return delete B["@type"],B}return{"@context":"http://iiif.io/api/image/2/context.json","@id":A.id,profile:`http://iiif.io/api/image/2/profiles/${A.profile}.json`}}}function chunk_AXOUQGO3_N(A,B){return[["@id",A.id],["@type",B],["format",A.format],["height",A.height],["width",A.width],["viewingDirection","left-to-right"!==A.viewingDirection?A.viewingDirection:void 0],["license",A.license?A.license:void 0]]}function*chunk_AXOUQGO3_b(A){let B=A.provider?yield A.provider[0]:void 0;return[["label",chunk_AXOUQGO3_O(A.label)],["metadata",A.metadata&&A.metadata.length?A.metadata.map(A=>({label:chunk_AXOUQGO3_O(A.label)||"",value:chunk_AXOUQGO3_O(A.value)||""})):void 0],["description",chunk_AXOUQGO3_O(A.summary)],["thumbnail",chunk_AXOUQGO3_h((yield A.thumbnail))],["navDate",A.navDate],["logo",B?chunk_AXOUQGO3_h(B.logo):void 0],["homepage",B?B.homepage:void 0],["attribution",A.requiredStatement?chunk_AXOUQGO3_O(A.requiredStatement.value):void 0]]}function*chunk_AXOUQGO3_k(A){let B=A.start&&A.start.type&&"SpecificResource"===A.start.type?chunk_AXOUQGO3_P(A.start):A.start;return[["seeAlso",chunk_AXOUQGO3_h((yield A.seeAlso))],["service",chunk_AXOUQGO3_h((A.service||[]).map(chunk_AXOUQGO3_he))],["rendering",chunk_AXOUQGO3_h((yield A.rendering))],["startCanvas",B?B.id:void 0]]}var tP={Manifest:function*(A,B,{isTopLevel:H}){return[...H?[["@context","http://iiif.io/api/presentation/2/context.json"]]:[],...chunk_AXOUQGO3_N(A,"sc:Manifest"),...yield*chunk_AXOUQGO3_b(A),...yield*chunk_AXOUQGO3_k(A),["sequences",[{"@id":`${A.id}/sequence0`,"@type":"sc:Sequence",canvases:yield A.items}]],["structures",(yield A.structures)]]},Canvas:function*(A){let B=(yield A.items)[0];return[...chunk_AXOUQGO3_N(A,"sc:Canvas"),...yield*chunk_AXOUQGO3_b(A),...yield*chunk_AXOUQGO3_k(A),["images",B?[B.resources]:void 0],["annotations",A.annotations&&A.annotations.length?chunk_AXOUQGO3_h((yield A.annotations)):void 0]]},AnnotationPage:function*(A){return[...chunk_AXOUQGO3_N(A,"sc:AnnotationList"),...yield*chunk_AXOUQGO3_b(A),["resources",A.items&&A.items.length?chunk_AXOUQGO3_h((yield A.items)):void 0]]},Annotation:function*(A){return[["@id",A.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function chunk_AXOUQGO3_ne(A){return Array.isArray(A)?A.map(A=>chunk_AXOUQGO3_ne(A)):"string"==typeof A?A:A.type&&"Canvas"===A.type?A.id:A}(A.target)],["resource",chunk_AXOUQGO3_h((yield A.body),!0)]]},ContentResource:function*(A){return"Image"===A.type?[...chunk_AXOUQGO3_N(A,"dctypes:Image"),...yield*chunk_AXOUQGO3_b(A),...yield*chunk_AXOUQGO3_k(A)]:[...chunk_AXOUQGO3_N(A,void 0),...yield*chunk_AXOUQGO3_b(A)]},AnnotationCollection:function*(A){return[["@id",A.id],["@type","sc:Layer"],["label",chunk_AXOUQGO3_O(A.label)]]},Collection:function*(A){return[...chunk_AXOUQGO3_N(A,"sc:Collection"),...yield*chunk_AXOUQGO3_b(A),...yield*chunk_AXOUQGO3_k(A),["members",(yield*A.items)]]},Range:function*(A){let B=[],H=[];if(A.items)for(let $ of A.items){let W="SpecificResource"===$.type?$.source:$;if(W){let K=yield W;B.push({"@id":function(A){if(A&&"SpecificResource"===A.type){let B=A.id,H=A.selector?Array.isArray(A.selector)?A.selector[0]:A.selector:void 0;return H&&"FragmentSelector"===H.type&&(B+="#"+H.value),B}return A?.id}($),"@type":W.type,label:K?K.label:void 0,within:A.id}),"Canvas"===W.type&&H.push(W.id)}}return[...chunk_AXOUQGO3_N(A,"sc:Range"),...yield*chunk_AXOUQGO3_b(A),...yield*chunk_AXOUQGO3_k(A),["canvases",H.length===B.length?H:void 0],["members",H.length!==B.length?B:void 0]]}};function chunk_AXOUQGO3_x(A){return[["id",A.id?.startsWith("vault://")?void 0:A.id],["type",A.type],["format",A.format],["profile",A.profile],["height",A.height||void 0],["width",A.width||void 0],["duration",A.duration||void 0],["viewingDirection","left-to-right"!==A.viewingDirection?A.viewingDirection:void 0],["behavior",A.behavior&&A.behavior.length?A.behavior:void 0],["timeMode",A.timeMode],["motivation",Array.isArray(A.motivation)?A.motivation[0]:A.motivation],[tb,tS]]}function chunk_AXOUQGO3_d(A){if(A===tS||!A||0===A.length)return;let B=A.filter(A=>A!==tS);if(0!==B.length)return B}function chunk_AXOUQGO3_re(A){if(A&&A.type&&"ImageService2"===A.type){let{id:B,type:H,profile:$,...W}=A,K="string"==typeof $?$:Array.isArray($)?$.find(A=>"string"==typeof A):"";return{"@id":B,"@type":H,profile:K?K.startsWith("http")?K:`http://iiif.io/api/image/2/${K}.json`:"http://iiif.io/api/image/2/level0.json",...W}}return A}function chunk_AXOUQGO3_ie(A){if(Array.isArray(A)||(A=A?[A]:[]),!(!A||0===A.length))return A.map(chunk_AXOUQGO3_re)}function*chunk_AXOUQGO3_S(A){return[["label",A.label],["metadata",chunk_AXOUQGO3_d(A.metadata)],["summary",A.summary],["requiredStatement",A.requiredStatement],["rights",Array.isArray(A.rights)?A.rights[0]||void 0:A.rights||void 0],["navDate",A.navDate],["language",A.language],["thumbnail",chunk_AXOUQGO3_d((yield A.thumbnail))],["placeholderCanvas",(yield A.placeholderCanvas)],["accompanyingCanvas",(yield A.accompanyingCanvas)],["provider",chunk_AXOUQGO3_d((yield A.provider))]]}function*chunk_AXOUQGO3_R(A,B){let H=[];for(let $ of A.partOf||[])"Manifest"===$.type&&"Manifest"===B.type||H.push((yield $));return[["seeAlso",chunk_AXOUQGO3_d((yield A.seeAlso))],["service",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(A.service))],["services",chunk_AXOUQGO3_d(chunk_AXOUQGO3_ie(A.services))],["rendering",chunk_AXOUQGO3_d((yield A.rendering))],["supplementary",chunk_AXOUQGO3_d((yield A.supplementary))],["homepage",chunk_AXOUQGO3_d((yield A.homepage))],["logo",chunk_AXOUQGO3_d((yield A.logo))],["partOf",chunk_AXOUQGO3_d(H)],["start",A.start?chunk_AXOUQGO3_P(A.start):A.start]]}var tM={Manifest:function*(A,B,{isTopLevel:H}){return H?[["@context",A["@context"]?A["@context"]:"http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A),["items",(yield A.items)],["structures",chunk_AXOUQGO3_d((yield A.structures))],["annotations",chunk_AXOUQGO3_d((yield A.annotations))],["navPlace",A.navPlace]]:[...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A)]},Canvas:function*(A,B,{parent:H}){return H&&"Manifest"!==H.type&&"Canvas"!==H.type?[["id",A.id]]:[...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A,H),["items",(yield A.items)],["annotations",chunk_AXOUQGO3_d((yield A.annotations))],["navPlace",A.navPlace]]},Agent:function*(A){return[["id",A.id],["type","Agent"],["label",A.label],...yield*chunk_AXOUQGO3_R(A)]},AnnotationPage:function*(A){let B=Object.entries(A).map(([A,B])=>[A,Array.isArray(B)?chunk_AXOUQGO3_d(B):B]).filter(([A,B])=>"items"!==A&&"id"!==A&&A!==tb&&A!==tk&&A!==tA),H=yield A.items;return[["id",A.id?.startsWith("vault://")?void 0:A.id],...B,...yield*chunk_AXOUQGO3_R(A),["items",H.length||!1===A[tA]?H:tS]]},Service:function*(A){return[[tC,chunk_AXOUQGO3_re(A)]]},Annotation:function*(A){let B=Object.entries(A).map(([A,B])=>"motivation"===A?[A,Array.isArray(B)?B[0]:B]:"target"===A?[A,chunk_AXOUQGO3_P(B,{allowString:!0,allowSourceString:!0,allowedStringType:"Canvas"})]:[A,Array.isArray(B)?chunk_AXOUQGO3_d(B):B]).filter(([A])=>"body"!==A&&A!==tb&&A!==tA),H;if(Array.isArray(A.body)){let B=[];for(let H of A.body)if(H&&chunk_W3DWL6UZ_v(H)){let A={...H};"Canvas"!==H.source.type?A.source=yield H.source:A.source=H.source,B.push(chunk_AXOUQGO3_P(A,{allowSourceString:!0}))}else B.push((yield H));H=B}else A.body&&chunk_W3DWL6UZ_v(A.body)?(H={...A.body}).source=yield A.body.source:H=yield A.body;return[...B,...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A),["body",1===H.length?H[0]:H]]},ContentResource:function*(A){return function(A,B){let H=Object.keys(B),$=A.map(([A])=>A);for(let W of H)W===tb||W===tA||-1===$.indexOf(W)&&"u">typeof B[W]&&A.push([W,B[W]]);return A}([...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A),["annotations",chunk_AXOUQGO3_d((yield A.annotations))],["items",chunk_AXOUQGO3_d((yield A.items))]],A)},AnnotationCollection:function*(A){return[["id",A.id],["type","AnnotationCollection"],["label",A.label]]},Collection:function*(A,B,{isTopLevel:H}){return H?[["@context","http://iiif.io/api/presentation/3/context.json"],...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A),["items",chunk_AXOUQGO3_d((yield A.items))],["navPlace",A.navPlace]]:[...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A)]},Range:function*(A){let B=[];for(let H of A.items)"Range"===H.type?B.push((yield H)):H&&"SpecificResource"===H.type?B.push(chunk_AXOUQGO3_P(H)):B.push(H);return[...chunk_AXOUQGO3_x(A),...yield*chunk_AXOUQGO3_S(A),...yield*chunk_AXOUQGO3_R(A),["items",B],["annotations",chunk_AXOUQGO3_d((yield A.annotations))],["navPlace",A.navPlace]]}};let tF="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tB={randomUUID:tF};let tU=new Uint8Array(16),tH=[];for(let A=0;A<256;++A)tH.push((A+256).toString(16).slice(1));var esm_browser_v4=function(A,B,H){if(tB.randomUUID&&!B&&!A)return tB.randomUUID();A=A||{};let W=A.random||(A.rng||function(){if(!$&&!($="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(tU)})();if(W[6]=15&W[6]|64,W[8]=63&W[8]|128,B){H=H||0;for(let A=0;A<16;++A)B[H+A]=W[A];return B}return function(A,B=0){return tH[A[B+0]]+tH[A[B+1]]+tH[A[B+2]]+tH[A[B+3]]+"-"+tH[A[B+4]]+tH[A[B+5]]+"-"+tH[A[B+6]]+tH[A[B+7]]+"-"+tH[A[B+8]]+tH[A[B+9]]+"-"+tH[A[B+10]]+tH[A[B+11]]+tH[A[B+12]]+tH[A[B+13]]+tH[A[B+14]]+tH[A[B+15]]}(W)};let tz=window.OpenSeadragon;if(!tz&&!(tz=e0))throw Error("OpenSeadragon is missing.");let tG="http://www.w3.org/2000/svg";tz.Viewer&&(tz.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new image_ve(this)),this._svgOverlayInfo});let image_ve=function(A){let B=this;this._viewer=A,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(tG,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(tG,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){B.resize()}),this._viewer.addHandler("open",function(){B.resize()}),this._viewer.addHandler("rotate",function(){B.resize()}),this._viewer.addHandler("flip",function(){B.resize()}),this._viewer.addHandler("resize",function(){B.resize()}),this.resize()};image_ve.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let A=this._viewer.viewport.pixelFromPoint(new tz.Point(0,0),!0),B=this._viewer.viewport.getZoom(!0),H=this._viewer.viewport.getRotation(),$=this._viewer.viewport.getFlip(),W=this._viewer.viewport._containerInnerSize.x,K=W*B,et=K;$&&(K=-K,A.x=-A.x+W),this._node.setAttribute("transform","translate("+A.x+","+A.y+") scale("+K+","+et+") rotate("+H+")")},onClick:function(A,B){new tz.MouseTracker({element:A,clickHandler:B}).setTracking(!0)}};let Je=A=>fetch(`${A.replace(/\/$/,"")}/info.json`).then(A=>A.json()).then(A=>A).catch(B=>{console.error(`The IIIF tilesource ${A.replace(/\/$/,"")}/info.json failed to load: ${B}`)}),Ge=A=>{let B,H;return Array.isArray(A)&&(B=A[0])&&(H="@id"in B?B["@id"]:B.id),H};var tj=((en=tj||{}).TiledImage="tiledImage",en.SimpleImage="simpleImage",en);let Xe=A=>{let B=Array.isArray(null==A?void 0:A.service)&&(null==A?void 0:A.service.length)>0,H=B?Ge(null==A?void 0:A.service):null==A?void 0:A.id,$=B?tj.TiledImage:tj.SimpleImage;return{uri:H,imageType:$}},image_Ke=(A,B)=>{let H=B?tj.TiledImage:tj.SimpleImage;return{uri:A,imageType:H}},{styled:tV,css:t$,keyframes:tQ,createTheme:tq}=(0,e2.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),tY=tV("div",{display:"flex",flexDirection:"column",alignItems:"center"}),tW=tV("p",{fontWeight:"bold",fontSize:"x-large"}),tX=tV("span",{fontSize:"medium"}),st=({error:A})=>{let{message:B}=A;return e3.createElement(tY,{role:"alert"},e3.createElement(tW,{"data-testid":"headline"},"Something went wrong"),B&&e3.createElement(tX,null,`Error message: ${B}`," "))},tK=tV("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),tZ=tV("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),tJ=tV("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${tK}`]:{display:"block"}},false:{[`${tK}`]:{display:"none"}}}}});var image_y=function(A){return function(){let B={type:A,getType:()=>A,toString:()=>A};return(A,H)=>({...B,...void 0!==A&&{payload:A},...void 0!==H&&{meta:H}})}},t0="@iiif/IMPORT_ENTITIES",t1="@iiif/MODIFY_ENTITY_FIELD",t2="@iiif/REORDER_ENTITY_FIELD",t3="@iiif/ADD_REFERENCE",t4="@iiif/UPDATE_REFERENCE",t5="@iiif/REMOVE_REFERENCE",t6="@iiif/ADD_METADATA",t8="@iiif/REMOVE_METADATA",t9="@iiif/UPDATE_METADATA",t7="@iiif/REORDER_METADATA",ne=image_y(t0)(),nt=image_y(t1)(),nn=image_y(t2)(),nr=image_y(t3)(),na=image_y(t5)(),nl=image_y(t4)(),ns=image_y(t6)(),nc=image_y(t9)(),nu={importEntities:ne,modifyEntityField:nt,reorderEntityField:nn,addReference:nr,removeReference:na,updateReference:nl,addMetadata:ns,removeMetadata:image_y(t8)(),updateMetadata:nc,reorderMetadata:image_y(t7)()},nd="@iiif/ADD_MAPPING",nh="@iiif/ADD_MAPPINGS",np=image_y(nd)(),nm=image_y(nh)(),nf="RESOURCE_ERROR",ng="RESOURCE_LOADING",n_="RESOURCE_READY",nE="@iiif/REQUEST_RESOURCE",ny="@iiif/REQUEST_ERROR",nv="@iiif/REQUEST_MISMATCH",nT="@iiif/REQUEST_COMPLETE",nb=image_y(nE)(),nk=image_y(ny)(),nA=image_y(nv)(),nS=image_y(nT)(),nC="@iiif/BATCH",nx=image_y(nC)(),At=(A,B)=>{let{entities:H,resource:$,mapping:W}=Fe(B);if(void 0===$.id)return[nk({id:A,message:"ID is not defined in resource."})];let K=[ne({entities:H}),nm({mapping:W})];return $.id!==A&&(K.push(np({id:A,type:$.type})),K.push(nA({requestId:A,actualId:$.id}))),K.push(nS({id:A})),K},nw=Number.isNaN||function(A){return"number"==typeof A&&A!=A};function image_re(A,B){if(!Array.isArray(A)||!Array.isArray(B))return A===B;if(A.length!==B.length)return!1;for(let W=0;W<A.length;W++){var H,$;if(!((H=A[W])===($=B[W])||nw(H)&&nw($)))return!1}return!0}function image_U(A,B,H){let $=A.iiif.requests[B],W=A.iiif.mapping[B];if(!W||!A.iiif.entities[W][$.resourceUri])return;let K=A.iiif.entities[W][$.resourceUri];if(K&&K[tb]){let A=K[tb].find(A=>A[tk]===K.id);return chunk_AXOUQGO3_oe(K,A)}return K}function image_ie(A,B,{waitTimeout:H=30}={}){return($,W)=>{let K=A.getStore(),et=K.getState(),en=et.iiif.requests[$];if(en){if(en.loadingState===n_){let A=image_U(et,$);if(A)return A}switch(en.loadingState){case nf:break;case ng:return(async()=>{let A,B=!1;try{let W=await Promise.race([new Promise((H,W)=>{B||(A=K.subscribe(()=>{let A=K.getState();if(A.iiif.requests[$].loadingState===nf){W();return}if(A.iiif.requests[$].loadingState===n_){let B=image_U(A,$);B?H(B):W()}}))}),new Promise((A,$)=>setTimeout(()=>{B=!0,$()},6e4*H))]);if(A&&A(),W)return W}catch{A&&A()}})()}}A.dispatch(nb({id:$}));let c=B=>{if(!B)return;B.id||B["@id"]||(B["@type"]&&(B["@id"]=$),B.id=$);let H=At($,B);return A.dispatch(nx({actions:H})),image_U(K.getState(),$)};try{let H=B($,W);return H&&"function"==typeof H.then?(async()=>{try{return c(await H)}catch(B){throw A.dispatch(nk({id:$,message:B.toString()})),B}})():c(H)}catch(B){throw A.dispatch(nk({id:$,message:B.toString()})),B}}}function ke(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let nI={};var image_ne=A=>{let B;let H=new Set,n=(A,$)=>{let W="function"==typeof A?A(B):A;if(!Object.is(W,B)){let A=B;B=$??("object"!=typeof W||null===W)?W:Object.assign({},B,W),H.forEach(H=>H(B,A))}},i=()=>B,$={setState:n,getState:i,getInitialState:()=>W,subscribe:A=>(H.add(A),()=>H.delete(A)),destroy:()=>{(nI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),H.clear()}},W=B=A(n,i,$);return $},It=A=>A?image_ne(A):image_ne,nO="@iiif/SET_META_VALUE",nR="@iiif/SET_META_VALUE_DYNAMIC",nN="@iiif/UNSET_META_VALUE",nD={setMetaValue:image_y(nO)(),setMetaValueDynamic:image_y(nR)(),unsetMetaValue:image_y(nN)()};let nL={};var kt=(A,B)=>(H,$,W)=>(W.dispatch=B=>(H(H=>A(H,B),!1,B),B),W.dispatchFromDevtools=!0,{dispatch:(...A)=>W.dispatch(...A),...B}),nP=new Map,image_k=A=>{let B=nP.get(A);return B?Object.fromEntries(Object.entries(B.stores).map(([A,B])=>[A,B.getState()])):{}},Ft=(A,B,H)=>{if(void 0===A)return{type:"untracked",connection:B.connect(H)};let $=nP.get(H.name);if($)return{type:"tracked",store:A,...$};let W={connection:B.connect(H),stores:{}};return nP.set(H.name,W),{type:"tracked",store:A,...W}},Lt=(A,B={})=>(H,$,W)=>{let K;let{enabled:et,anonymousActionType:en,store:er,...ei}=B;try{K=(et??(nL?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!K)return(nL?"production":void 0)!=="production"&&et&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),A(H,$,W);let{connection:eo,...el}=Ft(er,K,ei),es=!0;W.setState=(A,B,K)=>{let et=H(A,B);if(!es)return et;let el=void 0===K?{type:en||"anonymous"}:"string"==typeof K?{type:K}:K;return void 0===er?null==eo||eo.send(el,$()):null==eo||eo.send({...el,type:`${er}/${el.type}`},{...image_k(ei.name),[er]:W.getState()}),et};let m=(...A)=>{let B=es;es=!1,H(...A),es=B},ec=A(W.setState,$,W);if("untracked"===el.type?null==eo||eo.init(ec):(el.stores[el.store]=W,null==eo||eo.init(Object.fromEntries(Object.entries(el.stores).map(([A,B])=>[A,A===el.store?ec:B.getState()])))),W.dispatchFromDevtools&&"function"==typeof W.dispatch){let A=!1,B=W.dispatch;W.dispatch=(...H)=>{(nL?"production":void 0)==="production"||"__setState"!==H[0].type||A||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),B(...H)}}return eo.subscribe(A=>{var B;switch(A.type){case"ACTION":if("string"!=typeof A.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return image_V(A.payload,A=>{if("__setState"===A.type){if(void 0===er){m(A.state);return}1!==Object.keys(A.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let B=A.state[er];if(null==B)return;JSON.stringify(W.getState())!==JSON.stringify(B)&&m(B);return}W.dispatchFromDevtools&&"function"==typeof W.dispatch&&W.dispatch(A)});case"DISPATCH":switch(A.payload.type){case"RESET":return m(ec),void 0===er?null==eo?void 0:eo.init(W.getState()):null==eo?void 0:eo.init(image_k(ei.name));case"COMMIT":if(void 0===er){null==eo||eo.init(W.getState());break}return null==eo?void 0:eo.init(image_k(ei.name));case"ROLLBACK":return image_V(A.state,A=>{if(void 0===er){m(A),null==eo||eo.init(W.getState());return}m(A[er]),null==eo||eo.init(image_k(ei.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return image_V(A.state,A=>{if(void 0===er){m(A);return}JSON.stringify(W.getState())!==JSON.stringify(A[er])&&m(A[er])});case"IMPORT_STATE":{let{nextLiftedState:H}=A.payload,$=null==(B=H.computedStates.slice(-1)[0])?void 0:B.state;if(!$)return;m(void 0===er?$:$[er]),null==eo||eo.send(null,H);break}case"PAUSE_RECORDING":return es=!es}return}}),ec},image_V=(A,B)=>{let H;try{H=JSON.parse(A)}catch(A){console.error("[zustand devtools middleware] Could not parse the received json",A)}void 0!==H&&B(H)},zt=A=>(B,H,$)=>{let W=$.subscribe;return $.subscribe=(A,B,H)=>{let K=A;if(B){let W=(null==H?void 0:H.equalityFn)||Object.is,et=A($.getState());K=H=>{let $=A(H);if(!W(et,$)){let A=et;B(et=$,A)}},null!=H&&H.fireImmediately&&B(et,et)}return W(K)},A(B,H,$)};function image_$(A,B,H,$){return!(!A[H]||!A[H][B]||!A[H][B][$]||!Array.isArray(A[H][B][$]))}function image_u(A){return A.payload}function image_B(A,B){return typeof A>"u"?B:A}function Ue(A={}){let B=Object.keys(A);return function(H={},$){let W=!1,K={};for(let et=0;et<B.length;et++){let en=B[et];K[en]=A[en](H[en],$),W=W||K[en]!==H[en]}return W?K:H}}var nM=Ue({mapping:(A={},B)=>{switch(B.type){case nd:return{...A,[B.payload.id]:B.payload.type};case nh:return{...A,...B.payload.mapping};default:return A}},entities:(A=ke(),B)=>{var H;let r=(H,$)=>({...A,[image_u(B).type]:{...A[image_u(B).type],[image_u(B).id]:{...H,...$}}});switch(B.type){case t1:{if(!A[image_u(B).type]||!A[image_u(B).type][image_u(B).id])return A;let H=A[image_u(B).type][image_u(B).id];return"string"==typeof H?A:r(H,{[image_u(B).key]:image_u(B).value})}case t2:{if(!image_$(A,image_u(B).id,image_u(B).type,image_u(B).key))return A;let H=A[image_u(B).type][image_u(B).id];if("string"==typeof H)return A;let $=Array.from(H[image_u(B).key]),[W]=$.splice(image_u(B).startIndex,1);return $.splice(image_u(B).endIndex,0,W),r(H,{[image_u(B).key]:$})}case t0:{let H=Object.keys(image_u(B).entities),$={...A};for(let W of H){let H=image_u(B).entities[W],K={...A[W]||{}},et=!1,en=Object.keys(H||{})||[];if(H&&en){for(let B of en)et=!0,K[B]=A[W][B]?function(A,B){let H={},$=[];for(let[W,K]of Object.entries(A||{})){$.push(W);let A=(B||{})[W];if(!A||0===A.length){H[W]=K;continue}H[W]=A}for(let[A,W]of Object.entries(B||{}))-1===$.indexOf(A)&&(H[A]=W);return H}(A[W][B],H[B]):H[B];et&&($[W]=K)}}return $}case t3:{if(!image_$(A,image_u(B).id,image_u(B).type,image_u(B).key))return A;let H=A[image_u(B).type][image_u(B).id],$=Array.from(H[image_u(B).key]);return $.splice(image_B(image_u(B).index,$.length+1),0,image_u(B).reference),r(H,{[image_u(B).key]:$})}case t4:case t5:{if(!image_$(A,image_u(B).id,image_u(B).type,image_u(B).key))return A;let $=A[image_u(B).type][image_u(B).id],W=Array.from($[image_u(B).key]),K=image_B(image_u(B).index,W.findIndex(A=>A&&A.id===image_u(B).reference.id));return -1===K||(null==(H=W[K])?void 0:H.id)!==image_u(B).reference.id?A:(B.type===t4?W.splice(K,1,image_u(B).reference):W.splice(K,1),r($,{[image_u(B).key]:W}))}case t6:{let H=A[image_u(B).type][image_u(B).id];if(!H)return A;let $=Array.from(H.metadata||[]),W=image_u(B);return $.splice(image_B(B.payload.beforeIndex,$.length+1),0,{label:W.label,value:W.label}),r(H,{metadata:$})}case t7:{let H=A[image_u(B).type][image_u(B).id];if("string"==typeof H||!H)return A;let $=Array.from(H.metadata||[]),[W]=$.splice(image_u(B).startIndex,1);return $.splice(image_u(B).endIndex,0,W),r(H,{metadata:$})}case t9:case t8:{let H=A[image_u(B).type][image_u(B).id],$=Array.from(H.metadata||[]),W=image_u(B).atIndex;return typeof W>"u"||-1===W||!$[W]?A:(B.type===t9?$.splice(W,1,{label:image_u(B).label,value:image_u(B).value}):$.splice(W,1),r(H,{metadata:$}))}default:return A}},requests:(A={},B)=>{switch(B.type){case nE:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...A,[B.payload.id]:{requestUri:B.payload.id,loadingState:ng,uriMismatch:!1,resourceUri:B.payload.id}};case nv:return{...A,[B.payload.requestId]:{...A[B.payload.requestId]||{},uriMismatch:!0,resourceUri:B.payload.actualId},[B.payload.actualId]:{requestUri:B.payload.requestId,loadingState:A[B.payload.requestId].loadingState,uriMismatch:!0,resourceUri:B.payload.actualId}};case ny:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:nf,error:B.payload.message}};case nT:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:n_,error:void 0}}}return A},meta:(A={},B)=>{let{id:H,updateValue:$,value:W,meta:K,key:et}=B&&B.payload||{};switch(B.type){case nO:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:W}}};case nR:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:$(A[H]&&A[H][K]?A[H][K][et]:void 0)}}};case nN:return A[H]&&A[H][K]&&A[H][K][et]?{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:void 0}}}:A;default:return A}}}),nF=Object.defineProperty,Jt=(A,B,H)=>B in A?nF(A,B,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[B]=H,image_R=(A,B,H)=>(Jt(A,"symbol"!=typeof B?B+"":B,H),H);function image_S(A,B,H,$=!0){B[nH]=B[nH]||[],B[nH].push(A);let W=new Map;Object.defineProperty(B,A,{enumerable:$,get(){if(typeof B[nB][A]>"u")return;let $=B[nB][A];if(!$)return $;let K=H.get(B[nB][A],{parent:this.id?{id:this.id,type:this.type}:void 0});return W.has(K)||(W.clear(),W.set(K,image_O(K,H))),W.get(K)},set($){B[nB][A]!==$&&(this[nU]?H.modifyEntityField({id:this.id,type:this.type},A,function ze(A){return Array.isArray(A)?A.map(A=>ze(A)):A&&A.type?{id:A.id,type:A.type}:A}($)):this[nB][A]=$)}})}var nB=Symbol.for("_refs_"),nU=Symbol.for("_reactive_"),nH=Symbol.for("_defined_"),nz=Symbol.for("_parent_");function image_O(A,B,H=!1,$){if(Array.isArray(A))return A.map(A=>image_O(A,B,H));if(!A||!A.type||!A.id)return A;let W=function(A,B=!1,H){let $={id:"",type:"unknown",[nH]:[],[nB]:{},[nz]:null,[nU]:null,is(A){return"string"==typeof A?this.id===A:!!A.id&&A.id===this.id},reactive(){if(!this[nU])return this[nU]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let A=this.unwrap();for(let B of Object.keys(A||{}))this[nH].includes(B)?this[nB][B]=A[B]:this[B]=A[B]}},unreactive(){this[nU]&&(this[nU](),this[nU]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let B=this[nz];return A.get(this.id,{parent:B?{id:B,type:"unknown"}:void 0})},toPresentation3(){return A.toPresentation3(this.unwrap())},toPresentation2(){return A.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(B,H=!0){return A.subscribe(()=>this.id?A.get(this.id):null,B,H)}};return image_S("items",$,A),image_S("annotations",$,A),image_S("structures",$,A),image_S("seeAlso",$,A),image_S("rendering",$,A),image_S("partOf",$,A),image_S("start",$,A,!1),image_S("supplementary",$,A),image_S("homepage",$,A),image_S("thumbnail",$,A),image_S("placeholderCanvas",$,A,!1),image_S("accompanyingCanvas",$,A,!1),image_S("provider",$,A),image_S("body",$,A),image_S("logo",$,A),$}(B,H),K=Object.create(W),et=Object.assign(K,A);return H&&et.reactive(),et}function image_ae(A){switch(A){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return A}var nG=class{constructor(A,B){var H;image_R(this,"options"),image_R(this,"store"),image_R(this,"emitter"),image_R(this,"isBatching",!1),image_R(this,"batchQueue",[]),image_R(this,"remoteFetcher"),image_R(this,"staticFetcher"),image_R(this,"defaultFetcher",A=>fetch(A).then(A=>A.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},A||{}),this.store=B||function(A={}){var B;let{enableDevtools:H=!1,iiifStoreName:$="iiif",defaultState:W={iiif:{entities:ke(),meta:{},mapping:{},requests:{}}},customReducers:K={}}=A,et=(B=Ue({[$]:nM,...K}),(A,H)=>H&&H.type===nC?H.payload.actions.reduce(B,A):H&&"@iiif/BATCH_IMPORT"===H.type?{...A,iiif:{...A.iiif,...H.payload.state}}:B(A,H)),en="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?Lt:(A,B)=>A;return It(zt(en(kt(et,W),{enabled:H})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:H=H||new Map,on:function(A,B){var $=H.get(A);$?$.push(B):H.set(A,[B])},off:function(A,B){var $=H.get(A);$&&(B?$.splice($.indexOf(B)>>>0,1):H.set(A,[]))},emit:function(A,B){var $=H.get(A);$&&$.slice().map(function(A){A(B)}),($=H.get("*"))&&$.slice().map(function(H){H(A,B)})}},this.remoteFetcher=image_ie(this,this.options.customFetcher),this.staticFetcher=image_ie(this,(A,B)=>B)}batch(A){this.isBatching=!0;try{A(this),this.isBatching=!1,this.dispatch(nx({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}async asyncBatch(A){this.isBatching=!0;try{await A(this),this.isBatching=!1,this.dispatch(nx({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}modifyEntityField(A,B,H){this.dispatch(nu.modifyEntityField({id:A.id,type:A.type,key:B,value:H}))}dispatch(A){if(this.isBatching)this.batchQueue.push(A);else{if(A.type===nC){for(let B of A.payload.actions)this.emitter.emit(B.type,{action:B,state:this.store.getState()});this.store.dispatch(A);let B=this.getState();for(let H of A.payload.actions)this.emitter.emit(`after:${H.type}`,{action:H,state:B});return}this.emitter.emit(A.type,{action:A,state:this.store.getState()}),this.store.dispatch(A);let B=this.store.getState();this.emitter.emit(`after:${A.type}`,{action:A,state:B});return}}on(A,B){return this.emitter.on(A,B),()=>{this.emitter.off(A,B)}}serialize(A,B){return $e(this.getState().iiif,A,B)}toPresentation2(A){return this.serialize(A,tP)}toPresentation3(A){return this.serialize(A,tM)}hydrate(A,B,H={}){return this.get(A,B,{...H,skipSelfReturn:!1})}get(A,B,H={}){"string"!=typeof B&&(H=B||{},B=void 0);let{skipSelfReturn:$=!0}=H||{},W=H.parent?"string"==typeof H.parent?H.parent:H.parent.id:void 0;if(Array.isArray(A))return A.map(A=>this.get(A,H));let K=this.getState();if(chunk_W3DWL6UZ_v(A)&&!H.preserveSpecificResources&&(A=A.source),"string"==typeof A){let H=image_ae(B||K.iiif.mapping[A]);if(!H)return $?null:{id:A,type:"unknown"};A={id:A,type:H}}if(A&&A.partOf&&!W&&!H.skipPartOfCheck){let B=Array.isArray(A.partOf)?A.partOf[0]:A.partOf;B&&("string"==typeof B&&(W=B),"string"==typeof B.id&&(W=B.id))}let et=image_ae(B||(null==A?void 0:A.type)),en=null==A?void 0:A.id,er=K.iiif.entities[et];if(!er){let B=K.iiif.requests[en];return B&&B.resourceUri!==en?this.get(B.resourceUri,H):$?null:A}let ei=er[A.id];if(ei&&ei[tb]){let A=ei[tb].find(A=>W?A[tk]===W:A[tk]===ei.id);return chunk_AXOUQGO3_oe(ei,A)}return er[A.id]||($?null:A)}select(A){return A(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(A,B){if(typeof A>"u")return this.get(B,{skipSelfReturn:!1});if("function"==typeof A)try{let H=A(this.get(B,{skipSelfReturn:!1})),i=A=>this.deep(A,H);return i.size=Array.isArray(H)?H.length:1,i}catch{let i=A=>this.deep(A,void 0);return i.size=0,i}let r=B=>this.deep(B,A);return r.size=Array.isArray(A)?A.length:1,r}loadManifest(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}loadCollection(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}load(A,B){let H="string"==typeof A?A:A.id;return B?Promise.resolve(this.staticFetcher(H,B)):Promise.resolve(this.remoteFetcher(H))}loadSync(A,B){let H="string"==typeof A?A:A.id;return this.staticFetcher(H,B)}loadManifestSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}loadCollectionSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}areInputsEqual(A,B){return image_re(A,B)}subscribe(A,B,H){return typeof H>"u"&&(typeof B>"u"||!1===B||!0===B)&&(H=B,B=A,A=A=>A),this.store.subscribe(A,A=>B(A,this),{equalityFn:image_re,fireImmediately:!H})}async ensureLoaded(A){let B="string"==typeof A?A:A.id;this.requestStatus(B)||await this.load(B)}requestStatus(A){return this.select(B=>B.iiif.requests[A])}getResourceMeta(A,B){let H=this.getState().iiif.meta[A];if(H)return B?H[B]:H}getObject(A,B,H={}){let{reactive:$,...W}=H;return image_O(this.get(A,B,W),this,$)}async loadObject(A,B){return image_O(await this.load(A,B),this)}async loadManifestObject(A,B){return image_O(await this.loadManifest(A,B),this)}async loadCollectionObject(A,B){return image_O(await this.loadCollection(A,B),this)}wrapObject(A){return image_O(this.get(A,{skipSelfReturn:!1}),this)}isWrapped(A){return!!A[nH]}setMetaValue([A,B,H],$){this.dispatch("function"==typeof $?nD.setMetaValueDynamic({id:A,meta:B,key:H,updateValue:$}):nD.setMetaValue({id:A,meta:B,key:H,value:$}))}};let nj={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},nV=(er=null==(eA=null==(ek=null==nj?void 0:nj.informationPanel)?void 0:ek.vtt)?void 0:eA.autoScroll,K={...nj.informationPanel.vtt.autoScroll},"object"==typeof er&&(K="enabled"in er?er:{enabled:!0,settings:er}),!1===er&&(K.enabled=!1),function({behavior:A,block:B}){let H=["auto","instant","smooth"],$=["center","end","nearest","start"];if(!H.includes(A))throw TypeError(`'${A}' not in ${H.join(" | ")}`);if(!$.includes(B))throw TypeError(`'${B}' not in ${$.join(" | ")}`)}(K.settings),K),n$={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:nj,customDisplays:[],plugins:[],isAutoScrollEnabled:nV.enabled,isAutoScrolling:!1,isInformationOpen:null==(eS=null==nj?void 0:nj.informationPanel)?void 0:eS.open,isLoaded:!1,isUserScrolling:void 0,vault:new nG,contentSearchVault:new nG,openSeadragonViewer:null,viewerId:esm_browser_v4()},nQ=e3.createContext(n$),nq=e3.createContext(n$);function image_le(){let A=e3.useContext(nQ);if(void 0===A)throw Error("useViewerState must be used within a ViewerProvider");return A}function image_$e(){let A=e3.useContext(nq);if(void 0===A)throw Error("useViewerDispatch must be used within a ViewerProvider");return A}let nY=tV("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),image_C=({className:A,id:B,label:H,children:$})=>{let W=H.toLowerCase().replace(/\s/g,"-");return e3.createElement(nY,{id:B,className:A,"data-testid":"openseadragon-button","data-button":W},e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${B}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",{id:`${B}-svg-title`},H),$))},nW=tV("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),cr=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),lr=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ur=()=>e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),dr=()=>e3.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),image_ue=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e3.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),fr=({_cloverViewerHasPlaceholder:A,config:B})=>{let H=image_le(),{activeCanvas:$,plugins:W,vault:K,openSeadragonViewer:et}=H,en=K.get({id:$,type:"Canvas"});return(0,e3.useEffect)(()=>{if(!et)return;let A=et.viewport.getRotation();et.addHandler("home",()=>{et.viewport.setRotation(A)})},[et]),e3.createElement(nW,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:A},B.showZoomControl&&e3.createElement(e3.Fragment,null,e3.createElement(image_C,{id:B.zoomInButton,label:"zoom in"},e3.createElement(cr,null)),e3.createElement(image_C,{id:B.zoomOutButton,label:"zoom out"},e3.createElement(lr,null))),B.showFullPageControl&&e3.createElement(image_C,{id:B.fullPageButton,label:"full page"},e3.createElement(ur,null)),B.showRotationControl&&e3.createElement(e3.Fragment,null,e3.createElement(image_C,{id:B.rotateRightButton,label:"rotate right"},e3.createElement(image_ue,null)),e3.createElement(image_C,{id:B.rotateLeftButton,label:"rotate left"},e3.createElement(image_ue,null))),B.showHomeControl&&e3.createElement(image_C,{id:B.homeButton,label:"reset"},e3.createElement(dr,null)),W.filter(A=>{var B;return null==(B=A.imageViewer)?void 0:B.controls}).map((A,B)=>{var H,$,W,K;let et=null==($=null==(H=A.imageViewer)?void 0:H.controls)?void 0:$.component;return e3.createElement(et,{key:B,...null==(K=null==(W=null==A?void 0:A.imageViewer)?void 0:W.controls)?void 0:K.componentProps,canvas:en,useViewerDispatch:image_$e,useViewerState:image_le})}))},hr=({ariaLabel:A,config:B,uri:H,_cloverViewerHasPlaceholder:$,imageType:W,openSeadragonCallback:K})=>{let[et,en]=(0,e3.useState)(),[er,ei]=(0,e3.useState)(),eo=image_$e(),el=(0,e3.useRef)(!1);return(0,e3.useEffect)(()=>(el.current||(el.current=!0,er||ei(e0(B))),()=>null==er?void 0:er.destroy()),[]),(0,e3.useEffect)(()=>{er&&K&&K(er)},[er,K]),(0,e3.useEffect)(()=>{er&&H!==et&&(null==er||er.forceRedraw(),en(H))},[er,et,H]),(0,e3.useEffect)(()=>{if(et&&er)switch(W){case"simpleImage":null==er||er.addSimpleImage({url:et});break;case"tiledImage":Je(et).then(A=>{try{if(!A)throw Error(`No tile source found for ${et}`);null==er||er.addTiledImage({tileSource:A,success:()=>{"function"==typeof eo&&eo({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(A){console.error(A)}});break;default:null==er||er.close(),console.warn(`Unable to render ${et} in OpenSeadragon as type: "${W}"`)}},[W,et]),e3.createElement(tJ,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":B.id,hasNavigator:B.showNavigator},e3.createElement(fr,{_cloverViewerHasPlaceholder:$,config:B}),B.showNavigator&&e3.createElement(tK,{id:B.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e3.createElement(tZ,{id:B.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...A&&{"aria-label":A}}))},mr=(A,B="none")=>{if(!A)return null;if("string"==typeof A)return[A];if(!A[B]){let B=Object.getOwnPropertyNames(A);if(B.length>0)return A[B[0]]}return A[B]&&Array.isArray(A[B])?A[B]:null},gr=(A,B="none",H=", ")=>{let $=mr(A,B);return Array.isArray($)?$.join(`${H}`):$},Tr=({_cloverViewerHasPlaceholder:A=!1,body:B,instanceId:H,isTiledImage:$=!1,label:W,src:K="",openSeadragonCallback:et,openSeadragonConfig:en={}})=>{let er=H||esm_browser_v4(),ei="string"==typeof W?W:gr(W),eo={id:`openseadragon-${er}`,navigatorId:`openseadragon-navigator-${er}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${er}`,homeButton:`reset-${er}`,rotateLeftButton:`rotateLeft-${er}`,rotateRightButton:`rotateRight-${er}`,zoomInButton:`zoomIn-${er}`,zoomOutButton:`zoomOut-${er}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...en},{imageType:el,uri:es}=B?Xe(B):image_Ke(K,$);return es?e3.createElement(e1.ErrorBoundary,{FallbackComponent:st},e3.createElement(hr,{_cloverViewerHasPlaceholder:A,ariaLabel:ei,config:eo,imageType:el,key:er,uri:es,openSeadragonCallback:et})):null};var nX=H(11830),nK=H(91036),nZ=H(93041),nJ=H(21675),n0=H(79890),n1=H(44921),n2=H(2168);let n3="object"==typeof self?self:globalThis,deserializer=(A,B)=>{let as=(B,H)=>(A.set(H,B),B),unpair=H=>{if(A.has(H))return A.get(H);let[$,W]=B[H];switch($){case 0:case -1:return as(W,H);case 1:{let A=as([],H);for(let B of W)A.push(unpair(B));return A}case 2:{let A=as({},H);for(let[B,H]of W)A[unpair(B)]=unpair(H);return A}case 3:return as(new Date(W),H);case 4:{let{source:A,flags:B}=W;return as(new RegExp(A,B),H)}case 5:{let A=as(new Map,H);for(let[B,H]of W)A.set(unpair(B),unpair(H));return A}case 6:{let A=as(new Set,H);for(let B of W)A.add(unpair(B));return A}case 7:{let{name:A,message:B}=W;return as(new n3[A](B),H)}case 8:return as(BigInt(W),H);case"BigInt":return as(Object(BigInt(W)),H);case"ArrayBuffer":return as(new Uint8Array(W).buffer,W);case"DataView":{let{buffer:A}=new Uint8Array(W);return as(new DataView(A),W)}}return as(new n3[$](W),H)};return unpair},deserialize=A=>deserializer(new Map,A)(0),{toString:n4}={},{keys:n5}=Object,typeOf=A=>{let B=typeof A;if("object"!==B||!A)return[0,B];let H=n4.call(A).slice(8,-1);switch(H){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""];case"DataView":return[1,H]}return H.includes("Array")?[1,H]:H.includes("Error")?[7,H]:[2,H]},shouldSkip=([A,B])=>0===A&&("function"===B||"symbol"===B),serializer=(A,B,H,$)=>{let as=(A,B)=>{let W=$.push(A)-1;return H.set(B,W),W},pair=$=>{if(H.has($))return H.get($);let[W,K]=typeOf($);switch(W){case 0:{let B=$;switch(K){case"bigint":W=8,B=$.toString();break;case"function":case"symbol":if(A)throw TypeError("unable to serialize "+K);B=null;break;case"undefined":return as([-1],$)}return as([W,B],$)}case 1:{if(K){let A=$;return"DataView"===K?A=new Uint8Array($.buffer):"ArrayBuffer"===K&&(A=new Uint8Array($)),as([K,[...A]],$)}let A=[],B=as([W,A],$);for(let B of $)A.push(pair(B));return B}case 2:{if(K)switch(K){case"BigInt":return as([K,$.toString()],$);case"Boolean":case"Number":case"String":return as([K,$.valueOf()],$)}if(B&&"toJSON"in $)return pair($.toJSON());let H=[],et=as([W,H],$);for(let B of n5($))(A||!shouldSkip(typeOf($[B])))&&H.push([pair(B),pair($[B])]);return et}case 3:return as([W,$.toISOString()],$);case 4:{let{source:A,flags:B}=$;return as([W,{source:A,flags:B}],$)}case 5:{let B=[],H=as([W,B],$);for(let[H,W]of $)(A||!(shouldSkip(typeOf(H))||shouldSkip(typeOf(W))))&&B.push([pair(H),pair(W)]);return H}case 6:{let B=[],H=as([W,B],$);for(let H of $)(A||!shouldSkip(typeOf(H)))&&B.push(pair(H));return H}}let{message:et}=$;return as([W,{name:K,message:et}],$)};return pair},serialize=(A,{json:B,lossy:H}={})=>{let $=[];return serializer(!(B||H),!!B,new Map,$)(A),$};var n6="function"==typeof structuredClone?(A,B)=>B&&("json"in B||"lossy"in B)?deserialize(serialize(A,B)):structuredClone(A):(A,B)=>deserialize(serialize(A,B));let Schema=class Schema{constructor(A,B,H){this.normal=B,this.property=A,H&&(this.space=H)}};function merge(A,B){let H={},$={};for(let B of A)Object.assign(H,B.property),Object.assign($,B.normal);return new Schema(H,$,B)}function normalize(A){return A.toLowerCase()}Schema.prototype.normal={},Schema.prototype.property={},Schema.prototype.space=void 0;let Info=class Info{constructor(A,B){this.attribute=B,this.property=A}};Info.prototype.attribute="",Info.prototype.booleanish=!1,Info.prototype.boolean=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.commaSeparated=!1,Info.prototype.defined=!1,Info.prototype.mustUseProperty=!1,Info.prototype.number=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.property="",Info.prototype.spaceSeparated=!1,Info.prototype.space=void 0;let n8=0,n9=increment(),n7=increment(),rt=increment(),rn=increment(),rr=increment(),ro=increment(),rl=increment();function increment(){return 2**++n8}let rs=Object.keys(eW);let DefinedInfo=class DefinedInfo extends Info{constructor(A,B,H,$){var W,K;let et=-1;if(super(A,B),$&&(this.space=$),"number"==typeof H)for(;++et<rs.length;){let A=rs[et];W=rs[et],(K=(H&eW[A])===eW[A])&&(this[W]=K)}}};function create(A){let B={},H={};for(let[$,W]of Object.entries(A.properties)){let K=new DefinedInfo($,A.transform(A.attributes||{},$),W,A.space);A.mustUseProperty&&A.mustUseProperty.includes($)&&(K.mustUseProperty=!0),B[$]=K,H[normalize($)]=$,H[normalize(K.attribute)]=$}return new Schema(B,H,A.space)}DefinedInfo.prototype.defined=!0;let rc=create({properties:{ariaActiveDescendant:null,ariaAtomic:n7,ariaAutoComplete:null,ariaBusy:n7,ariaChecked:n7,ariaColCount:rn,ariaColIndex:rn,ariaColSpan:rn,ariaControls:rr,ariaCurrent:null,ariaDescribedBy:rr,ariaDetails:null,ariaDisabled:n7,ariaDropEffect:rr,ariaErrorMessage:null,ariaExpanded:n7,ariaFlowTo:rr,ariaGrabbed:n7,ariaHasPopup:null,ariaHidden:n7,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rr,ariaLevel:rn,ariaLive:null,ariaModal:n7,ariaMultiLine:n7,ariaMultiSelectable:n7,ariaOrientation:null,ariaOwns:rr,ariaPlaceholder:null,ariaPosInSet:rn,ariaPressed:n7,ariaReadOnly:n7,ariaRelevant:null,ariaRequired:n7,ariaRoleDescription:rr,ariaRowCount:rn,ariaRowIndex:rn,ariaRowSpan:rn,ariaSelected:n7,ariaSetSize:rn,ariaSort:null,ariaValueMax:rn,ariaValueMin:rn,ariaValueNow:rn,ariaValueText:null,role:null},transform:(A,B)=>"role"===B?B:"aria-"+B.slice(4).toLowerCase()});function caseSensitiveTransform(A,B){return B in A?A[B]:B}function caseInsensitiveTransform(A,B){return caseSensitiveTransform(A,B.toLowerCase())}let ru=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ro,acceptCharset:rr,accessKey:rr,action:null,allow:null,allowFullScreen:n9,allowPaymentRequest:n9,allowUserMedia:n9,alt:null,as:null,async:n9,autoCapitalize:null,autoComplete:rr,autoFocus:n9,autoPlay:n9,blocking:rr,capture:null,charSet:null,checked:n9,cite:null,className:rr,cols:rn,colSpan:null,content:null,contentEditable:n7,controls:n9,controlsList:rr,coords:rn|ro,crossOrigin:null,data:null,dateTime:null,decoding:null,default:n9,defer:n9,dir:null,dirName:null,disabled:n9,download:rt,draggable:n7,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:n9,formTarget:null,headers:rr,height:rn,hidden:n9,high:rn,href:null,hrefLang:null,htmlFor:rr,httpEquiv:rr,id:null,imageSizes:null,imageSrcSet:null,inert:n9,inputMode:null,integrity:null,is:null,isMap:n9,itemId:null,itemProp:rr,itemRef:rr,itemScope:n9,itemType:rr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:n9,low:rn,manifest:null,max:null,maxLength:rn,media:null,method:null,min:null,minLength:rn,multiple:n9,muted:n9,name:null,nonce:null,noModule:n9,noValidate:n9,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:n9,optimum:rn,pattern:null,ping:rr,placeholder:null,playsInline:n9,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:n9,referrerPolicy:null,rel:rr,required:n9,reversed:n9,rows:rn,rowSpan:rn,sandbox:rr,scope:null,scoped:n9,seamless:n9,selected:n9,shadowRootClonable:n9,shadowRootDelegatesFocus:n9,shadowRootMode:null,shape:null,size:rn,sizes:null,slot:null,span:rn,spellCheck:n7,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rn,step:null,style:null,tabIndex:rn,target:null,title:null,translate:null,type:null,typeMustMatch:n9,useMap:null,value:n7,width:rn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rr,axis:null,background:null,bgColor:null,border:rn,borderColor:null,bottomMargin:rn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:n9,declare:n9,event:null,face:null,frame:null,frameBorder:null,hSpace:rn,leftMargin:rn,link:null,longDesc:null,lowSrc:null,marginHeight:rn,marginWidth:rn,noResize:n9,noHref:n9,noShade:n9,noWrap:n9,object:null,profile:null,prompt:null,rev:null,rightMargin:rn,rules:null,scheme:null,scrolling:n7,standby:null,summary:null,text:null,topMargin:rn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:n9,disableRemotePlayback:n9,prefix:null,property:null,results:rn,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),rd=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rl,accentHeight:rn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rn,amplitude:rn,arabicForm:null,ascent:rn,attributeName:null,attributeType:null,azimuth:rn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rn,by:null,calcMode:null,capHeight:rn,className:rr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rn,diffuseConstant:rn,direction:null,display:null,dur:null,divisor:rn,dominantBaseline:null,download:n9,dx:null,dy:null,edgeMode:null,editable:null,elevation:rn,enableBackground:null,end:null,event:null,exponent:rn,externalResourcesRequired:null,fill:null,fillOpacity:rn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ro,g2:ro,glyphName:ro,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rn,horizOriginX:rn,horizOriginY:rn,id:null,ideographic:rn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rn,k:rn,k1:rn,k2:rn,k3:rn,k4:rn,kernelMatrix:rl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rn,overlineThickness:rn,paintOrder:null,panose1:null,path:null,pathLength:rn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rn,pointsAtY:rn,pointsAtZ:rn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rl,rev:rl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rl,requiredFeatures:rl,requiredFonts:rl,requiredFormats:rl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rn,specularExponent:rn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rn,strikethroughThickness:rn,string:null,stroke:null,strokeDashArray:rl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rn,strokeOpacity:rn,strokeWidth:null,style:null,surfaceScale:rn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rl,tabIndex:rn,tableValues:null,target:null,targetX:rn,targetY:rn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rn,underlineThickness:rn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rn,values:null,vAlphabetic:rn,vMathematical:rn,vectorEffect:null,vHanging:rn,vIdeographic:rn,version:null,vertAdvY:rn,vertOriginX:rn,vertOriginY:rn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),rh=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(A,B)=>"xlink:"+B.slice(5).toLowerCase()}),rp=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),rm=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(A,B)=>"xml:"+B.slice(3).toLowerCase()}),rf=merge([rc,ru,rh,rp,rm],"html"),rg=merge([rc,rd,rh,rp,rm],"svg");function parse(A){let B=[],H=String(A||""),$=H.indexOf(","),W=0,K=!1;for(;!K;){-1===$&&($=H.length,K=!0);let A=H.slice(W,$).trim();(A||!K)&&B.push(A),W=$+1,$=H.indexOf(",",W)}return B}function comma_separated_tokens_stringify(A,B){let H=B||{},$=""===A[A.length-1]?[...A,""]:A;return $.join((H.padRight?" ":"")+","+(!1===H.padLeft?"":" ")).trim()}let r_=/[#.]/g,rE=/[A-Z]/g,ry=/-[a-z]/g,rv=/^data[-\w.:]+$/i;function kebab(A){return"-"+A.toLowerCase()}function camelcase(A){return A.charAt(1).toUpperCase()}function space_separated_tokens_parse(A){let B=String(A||"").trim();return B?B.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(A){return A.join(" ").trim()}function createH(A,B,H){let $=H?function(A){let B=new Map;for(let H of A)B.set(H.toLowerCase(),H);return B}(H):void 0;return function(H,W,...K){let et;if(null==H)et={type:"root",children:[]},K.unshift(W);else{et=function(A,B){let H,$;let W=A||"",K={},et=0;for(;et<W.length;){r_.lastIndex=et;let A=r_.exec(W),B=W.slice(et,A?A.index:W.length);B&&(H?"#"===H?K.id=B:Array.isArray(K.className)?K.className.push(B):K.className=[B]:$=B,et+=B.length),A&&(H=A[0],et++)}return{type:"element",tagName:$||B||"div",properties:K,children:[]}}(H,B);let en=et.tagName.toLowerCase(),er=$?$.get(en):void 0;if(et.tagName=er||en,function(A){if(null===A||"object"!=typeof A||Array.isArray(A))return!0;if("string"!=typeof A.type)return!1;let B=Object.keys(A);for(let H of B){let B=A[H];if(B&&"object"==typeof B){if(!Array.isArray(B))return!0;for(let A of B)if("number"!=typeof A&&"string"!=typeof A)return!0}}return!!("children"in A&&Array.isArray(A.children))}(W))K.unshift(W);else for(let[B,H]of Object.entries(W))!function(A,B,H,$){let W;let K=function(A,B){let H=normalize(B),$=B,W=Info;if(H in A.normal)return A.property[A.normal[H]];if(H.length>4&&"data"===H.slice(0,4)&&rv.test(B)){if("-"===B.charAt(4)){let A=B.slice(5).replace(ry,camelcase);$="data"+A.charAt(0).toUpperCase()+A.slice(1)}else{let A=B.slice(4);if(!ry.test(A)){let H=A.replace(rE,kebab);"-"!==H.charAt(0)&&(H="-"+H),B="data"+H}}W=DefinedInfo}return new W($,B)}(A,H);if(null!=$){if("number"==typeof $){if(Number.isNaN($))return;W=$}else W="boolean"==typeof $?$:"string"==typeof $?K.spaceSeparated?space_separated_tokens_parse($):K.commaSeparated?parse($):K.commaOrSpaceSeparated?space_separated_tokens_parse(parse($).join(" ")):parsePrimitive(K,K.property,$):Array.isArray($)?[...$]:"style"===K.property?function(A){let B=[];for(let[H,$]of Object.entries(A))B.push([H,$].join(": "));return B.join("; ")}($):String($);if(Array.isArray(W)){let A=[];for(let B of W)A.push(parsePrimitive(K,K.property,B));W=A}"className"===K.property&&Array.isArray(B.className)&&(W=B.className.concat(W)),B[K.property]=W}}(A,et.properties,B,H)}for(let A of K)!function addChild(A,B){if(null==B);else if("number"==typeof B||"string"==typeof B)A.push({type:"text",value:String(B)});else if(Array.isArray(B))for(let H of B)addChild(A,H);else if("object"==typeof B&&"type"in B)"root"===B.type?addChild(A,B.children):A.push(B);else throw Error("Expected node, nodes, or string, got `"+B+"`")}(et.children,A);return"element"===et.type&&"template"===et.tagName&&(et.content={type:"root",children:et.children},et.children=[]),et}}function parsePrimitive(A,B,H){if("string"==typeof H){if(A.number&&H&&!Number.isNaN(Number(H)))return Number(H);if((A.boolean||A.overloadedBoolean)&&(""===H||normalize(H)===normalize(B)))return!0}return H}let rT=createH(rf,"div"),rb=createH(rg,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);let schema_Schema=class schema_Schema{constructor(A,B,H){this.normal=B,this.property=A,H&&(this.space=H)}};function merge_merge(A,B){let H={},$={};for(let B of A)Object.assign(H,B.property),Object.assign($,B.normal);return new schema_Schema(H,$,B)}function normalize_normalize(A){return A.toLowerCase()}schema_Schema.prototype.normal={},schema_Schema.prototype.property={},schema_Schema.prototype.space=void 0;let info_Info=class info_Info{constructor(A,B){this.attribute=B,this.property=A}};info_Info.prototype.attribute="",info_Info.prototype.booleanish=!1,info_Info.prototype.boolean=!1,info_Info.prototype.commaOrSpaceSeparated=!1,info_Info.prototype.commaSeparated=!1,info_Info.prototype.defined=!1,info_Info.prototype.mustUseProperty=!1,info_Info.prototype.number=!1,info_Info.prototype.overloadedBoolean=!1,info_Info.prototype.property="",info_Info.prototype.spaceSeparated=!1,info_Info.prototype.space=void 0;let rk=0,rA=types_increment(),rS=types_increment(),rC=types_increment(),rx=types_increment(),rw=types_increment(),rI=types_increment(),rO=types_increment();function types_increment(){return 2**++rk}let rR=Object.keys(eX);let defined_info_DefinedInfo=class defined_info_DefinedInfo extends info_Info{constructor(A,B,H,$){var W,K;let et=-1;if(super(A,B),$&&(this.space=$),"number"==typeof H)for(;++et<rR.length;){let A=rR[et];W=rR[et],(K=(H&eX[A])===eX[A])&&(this[W]=K)}}};function create_create(A){let B={},H={};for(let[$,W]of Object.entries(A.properties)){let K=new defined_info_DefinedInfo($,A.transform(A.attributes||{},$),W,A.space);A.mustUseProperty&&A.mustUseProperty.includes($)&&(K.mustUseProperty=!0),B[$]=K,H[normalize_normalize($)]=$,H[normalize_normalize(K.attribute)]=$}return new schema_Schema(B,H,A.space)}defined_info_DefinedInfo.prototype.defined=!0;let rN=create_create({properties:{ariaActiveDescendant:null,ariaAtomic:rS,ariaAutoComplete:null,ariaBusy:rS,ariaChecked:rS,ariaColCount:rx,ariaColIndex:rx,ariaColSpan:rx,ariaControls:rw,ariaCurrent:null,ariaDescribedBy:rw,ariaDetails:null,ariaDisabled:rS,ariaDropEffect:rw,ariaErrorMessage:null,ariaExpanded:rS,ariaFlowTo:rw,ariaGrabbed:rS,ariaHasPopup:null,ariaHidden:rS,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rw,ariaLevel:rx,ariaLive:null,ariaModal:rS,ariaMultiLine:rS,ariaMultiSelectable:rS,ariaOrientation:null,ariaOwns:rw,ariaPlaceholder:null,ariaPosInSet:rx,ariaPressed:rS,ariaReadOnly:rS,ariaRelevant:null,ariaRequired:rS,ariaRoleDescription:rw,ariaRowCount:rx,ariaRowIndex:rx,ariaRowSpan:rx,ariaSelected:rS,ariaSetSize:rx,ariaSort:null,ariaValueMax:rx,ariaValueMin:rx,ariaValueNow:rx,ariaValueText:null,role:null},transform:(A,B)=>"role"===B?B:"aria-"+B.slice(4).toLowerCase()});function case_sensitive_transform_caseSensitiveTransform(A,B){return B in A?A[B]:B}function case_insensitive_transform_caseInsensitiveTransform(A,B){return case_sensitive_transform_caseSensitiveTransform(A,B.toLowerCase())}let rD=create_create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rI,acceptCharset:rw,accessKey:rw,action:null,allow:null,allowFullScreen:rA,allowPaymentRequest:rA,allowUserMedia:rA,alt:null,as:null,async:rA,autoCapitalize:null,autoComplete:rw,autoFocus:rA,autoPlay:rA,blocking:rw,capture:null,charSet:null,checked:rA,cite:null,className:rw,cols:rx,colSpan:null,content:null,contentEditable:rS,controls:rA,controlsList:rw,coords:rx|rI,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rA,defer:rA,dir:null,dirName:null,disabled:rA,download:rC,draggable:rS,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rA,formTarget:null,headers:rw,height:rx,hidden:rA,high:rx,href:null,hrefLang:null,htmlFor:rw,httpEquiv:rw,id:null,imageSizes:null,imageSrcSet:null,inert:rA,inputMode:null,integrity:null,is:null,isMap:rA,itemId:null,itemProp:rw,itemRef:rw,itemScope:rA,itemType:rw,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rA,low:rx,manifest:null,max:null,maxLength:rx,media:null,method:null,min:null,minLength:rx,multiple:rA,muted:rA,name:null,nonce:null,noModule:rA,noValidate:rA,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rA,optimum:rx,pattern:null,ping:rw,placeholder:null,playsInline:rA,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rA,referrerPolicy:null,rel:rw,required:rA,reversed:rA,rows:rx,rowSpan:rx,sandbox:rw,scope:null,scoped:rA,seamless:rA,selected:rA,shadowRootClonable:rA,shadowRootDelegatesFocus:rA,shadowRootMode:null,shape:null,size:rx,sizes:null,slot:null,span:rx,spellCheck:rS,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rx,step:null,style:null,tabIndex:rx,target:null,title:null,translate:null,type:null,typeMustMatch:rA,useMap:null,value:rS,width:rx,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rw,axis:null,background:null,bgColor:null,border:rx,borderColor:null,bottomMargin:rx,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rA,declare:rA,event:null,face:null,frame:null,frameBorder:null,hSpace:rx,leftMargin:rx,link:null,longDesc:null,lowSrc:null,marginHeight:rx,marginWidth:rx,noResize:rA,noHref:rA,noShade:rA,noWrap:rA,object:null,profile:null,prompt:null,rev:null,rightMargin:rx,rules:null,scheme:null,scrolling:rS,standby:null,summary:null,text:null,topMargin:rx,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rx,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rA,disableRemotePlayback:rA,prefix:null,property:null,results:rx,security:null,unselectable:null},space:"html",transform:case_insensitive_transform_caseInsensitiveTransform}),rL=create_create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rO,accentHeight:rx,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rx,amplitude:rx,arabicForm:null,ascent:rx,attributeName:null,attributeType:null,azimuth:rx,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rx,by:null,calcMode:null,capHeight:rx,className:rw,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rx,diffuseConstant:rx,direction:null,display:null,dur:null,divisor:rx,dominantBaseline:null,download:rA,dx:null,dy:null,edgeMode:null,editable:null,elevation:rx,enableBackground:null,end:null,event:null,exponent:rx,externalResourcesRequired:null,fill:null,fillOpacity:rx,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rI,g2:rI,glyphName:rI,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rx,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rx,horizOriginX:rx,horizOriginY:rx,id:null,ideographic:rx,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rx,k:rx,k1:rx,k2:rx,k3:rx,k4:rx,kernelMatrix:rO,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rx,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rx,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rx,overlineThickness:rx,paintOrder:null,panose1:null,path:null,pathLength:rx,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rw,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rx,pointsAtY:rx,pointsAtZ:rx,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rO,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rO,rev:rO,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rO,requiredFeatures:rO,requiredFonts:rO,requiredFormats:rO,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rx,specularExponent:rx,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rx,strikethroughThickness:rx,string:null,stroke:null,strokeDashArray:rO,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rx,strokeOpacity:rx,strokeWidth:null,style:null,surfaceScale:rx,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rO,tabIndex:rx,tableValues:null,target:null,targetX:rx,targetY:rx,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rO,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rx,underlineThickness:rx,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rx,values:null,vAlphabetic:rx,vMathematical:rx,vectorEffect:null,vHanging:rx,vIdeographic:rx,version:null,vertAdvY:rx,vertOriginX:rx,vertOriginY:rx,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rx,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:case_sensitive_transform_caseSensitiveTransform}),rP=create_create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(A,B)=>"xlink:"+B.slice(5).toLowerCase()}),rM=create_create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:case_insensitive_transform_caseInsensitiveTransform}),rF=create_create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(A,B)=>"xml:"+B.slice(3).toLowerCase()}),rB=merge_merge([rN,rD,rP,rM,rF],"html"),rU=merge_merge([rN,rL,rP,rM,rF],"svg"),rH=/[A-Z]/g,rz=/-[a-z]/g,rG=/^data[-\w.:]+$/i;function find_kebab(A){return"-"+A.toLowerCase()}function find_camelcase(A){return A.charAt(1).toUpperCase()}function next(A,B){let H=A.indexOf("\r",B),$=A.indexOf("\n",B);return -1===$?H:-1===H||H+1===$?$:H<$?H:$}let rj={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rV={}.hasOwnProperty,r$=Object.prototype;function one(A,B){let H;switch(B.nodeName){case"#comment":return H={type:"comment",value:B.data},patch(A,B,H),H;case"#document":case"#document-fragment":{let $="mode"in B&&("quirks"===B.mode||"limited-quirks"===B.mode);if(H={type:"root",children:lib_all(A,B.childNodes),data:{quirksMode:$}},A.file&&A.location){let B=String(A.file),$=function(A){let B=String(A),H=[];return{toOffset:function(A){if(A&&"number"==typeof A.line&&"number"==typeof A.column&&!Number.isNaN(A.line)&&!Number.isNaN(A.column)){for(;H.length<A.line;){let A=H[H.length-1],$=next(B,A),W=-1===$?B.length+1:$+1;if(A===W)break;H.push(W)}let $=(A.line>1?H[A.line-2]:0)+A.column-1;if($<H[A.line-1])return $}},toPoint:function(A){if("number"==typeof A&&A>-1&&A<=B.length){let $=0;for(;;){let W=H[$];if(void 0===W){let A=next(B,H[$-1]);W=-1===A?B.length+1:A+1,H[$]=W}if(W>A)return{line:$+1,column:A-($>0?H[$-1]:0)+1,offset:A};$++}}}}}(B),W=$.toPoint(0),K=$.toPoint(B.length);H.position={start:W,end:K}}return H}case"#documentType":return patch(A,B,H={type:"doctype"}),H;case"#text":return H={type:"text",value:B.value},patch(A,B,H),H;default:return function(A,B){let H=A.schema;A.schema=B.namespaceURI===rj.svg?rU:rB;let $=-1,W={};for(;++$<B.attrs.length;){let A=B.attrs[$],H=(A.prefix?A.prefix+":":"")+A.name;rV.call(r$,H)||(W[H]=A.value)}let K="svg"===A.schema.space?rb:rT,et=K(B.tagName,W,lib_all(A,B.childNodes));if(patch(A,B,et),"template"===et.tagName){let H=B.sourceCodeLocation,$=H&&H.startTag&&position(H.startTag),W=H&&H.endTag&&position(H.endTag),K=one(A,B.content);$&&W&&A.file&&(K.position={start:$.end,end:W.start}),et.content=K}return A.schema=H,et}(A,B)}}function lib_all(A,B){let H=-1,$=[];for(;++H<B.length;){let W=one(A,B[H]);$.push(W)}return $}function patch(A,B,H){if("sourceCodeLocation"in B&&B.sourceCodeLocation&&A.file){let $=function(A,B,H){let $=position(H);if("element"===B.type){let W=B.children[B.children.length-1];if($&&!H.endTag&&W&&W.position&&W.position.end&&($.end=Object.assign({},W.position.end)),A.verbose){let $;let W={};if(H.attrs)for($ in H.attrs)rV.call(H.attrs,$)&&(W[function(A,B){let H=normalize_normalize(B),$=B,W=info_Info;if(H in A.normal)return A.property[A.normal[H]];if(H.length>4&&"data"===H.slice(0,4)&&rG.test(B)){if("-"===B.charAt(4)){let A=B.slice(5).replace(rz,find_camelcase);$="data"+A.charAt(0).toUpperCase()+A.slice(1)}else{let A=B.slice(4);if(!rz.test(A)){let H=A.replace(rH,find_kebab);"-"!==H.charAt(0)&&(H="-"+H),B="data"+H}}W=defined_info_DefinedInfo}return new W($,B)}(A.schema,$).property]=position(H.attrs[$]));H.startTag;let K=position(H.startTag),et=H.endTag?position(H.endTag):void 0,en={opening:K};et&&(en.closing=et),en.properties=W,B.data={position:en}}}return $}(A,H,B.sourceCodeLocation);$&&(A.location=!0,H.position=$)}}function position(A){let B=point({line:A.startLine,column:A.startCol,offset:A.startOffset}),H=point({line:A.endLine,column:A.endCol,offset:A.endOffset});return B||H?{start:B,end:H}:void 0}function point(A){return A.line&&A.column?A:void 0}let util_schema_Schema=class util_schema_Schema{constructor(A,B,H){this.property=A,this.normal=B,H&&(this.space=H)}};function util_merge_merge(A,B){let H={},$={},W=-1;for(;++W<A.length;)Object.assign(H,A[W].property),Object.assign($,A[W].normal);return new util_schema_Schema(H,$,B)}function lib_normalize_normalize(A){return A.toLowerCase()}util_schema_Schema.prototype.property={},util_schema_Schema.prototype.normal={},util_schema_Schema.prototype.space=null;let util_info_Info=class util_info_Info{constructor(A,B){this.property=A,this.attribute=B}};util_info_Info.prototype.space=null,util_info_Info.prototype.boolean=!1,util_info_Info.prototype.booleanish=!1,util_info_Info.prototype.overloadedBoolean=!1,util_info_Info.prototype.number=!1,util_info_Info.prototype.commaSeparated=!1,util_info_Info.prototype.spaceSeparated=!1,util_info_Info.prototype.commaOrSpaceSeparated=!1,util_info_Info.prototype.mustUseProperty=!1,util_info_Info.prototype.defined=!1;let rQ=0,rq=util_types_increment(),rY=util_types_increment(),rW=util_types_increment(),rX=util_types_increment(),rK=util_types_increment(),rZ=util_types_increment(),rJ=util_types_increment();function util_types_increment(){return 2**++rQ}let r0=Object.keys(eK);let util_defined_info_DefinedInfo=class util_defined_info_DefinedInfo extends util_info_Info{constructor(A,B,H,$){var W,K;let et=-1;if(super(A,B),$&&(this.space=$),"number"==typeof H)for(;++et<r0.length;){let A=r0[et];W=r0[et],(K=(H&eK[A])===eK[A])&&(this[W]=K)}}};util_defined_info_DefinedInfo.prototype.defined=!0;let r1={}.hasOwnProperty;function util_create_create(A){let B;let H={},$={};for(B in A.properties)if(r1.call(A.properties,B)){let W=A.properties[B],K=new util_defined_info_DefinedInfo(B,A.transform(A.attributes||{},B),W,A.space);A.mustUseProperty&&A.mustUseProperty.includes(B)&&(K.mustUseProperty=!0),H[B]=K,$[lib_normalize_normalize(B)]=B,$[lib_normalize_normalize(K.attribute)]=B}return new util_schema_Schema(H,$,A.space)}let r2=util_create_create({space:"xlink",transform:(A,B)=>"xlink:"+B.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),r3=util_create_create({space:"xml",transform:(A,B)=>"xml:"+B.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function util_case_sensitive_transform_caseSensitiveTransform(A,B){return B in A?A[B]:B}function util_case_insensitive_transform_caseInsensitiveTransform(A,B){return util_case_sensitive_transform_caseSensitiveTransform(A,B.toLowerCase())}let r4=util_create_create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:util_case_insensitive_transform_caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),r5=util_create_create({transform:(A,B)=>"role"===B?B:"aria-"+B.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:rY,ariaAutoComplete:null,ariaBusy:rY,ariaChecked:rY,ariaColCount:rX,ariaColIndex:rX,ariaColSpan:rX,ariaControls:rK,ariaCurrent:null,ariaDescribedBy:rK,ariaDetails:null,ariaDisabled:rY,ariaDropEffect:rK,ariaErrorMessage:null,ariaExpanded:rY,ariaFlowTo:rK,ariaGrabbed:rY,ariaHasPopup:null,ariaHidden:rY,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rK,ariaLevel:rX,ariaLive:null,ariaModal:rY,ariaMultiLine:rY,ariaMultiSelectable:rY,ariaOrientation:null,ariaOwns:rK,ariaPlaceholder:null,ariaPosInSet:rX,ariaPressed:rY,ariaReadOnly:rY,ariaRelevant:null,ariaRequired:rY,ariaRoleDescription:rK,ariaRowCount:rX,ariaRowIndex:rX,ariaRowSpan:rX,ariaSelected:rY,ariaSetSize:rX,ariaSort:null,ariaValueMax:rX,ariaValueMin:rX,ariaValueNow:rX,ariaValueText:null,role:null}}),r6=util_create_create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:util_case_insensitive_transform_caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rZ,acceptCharset:rK,accessKey:rK,action:null,allow:null,allowFullScreen:rq,allowPaymentRequest:rq,allowUserMedia:rq,alt:null,as:null,async:rq,autoCapitalize:null,autoComplete:rK,autoFocus:rq,autoPlay:rq,blocking:rK,capture:rq,charSet:null,checked:rq,cite:null,className:rK,cols:rX,colSpan:null,content:null,contentEditable:rY,controls:rq,controlsList:rK,coords:rX|rZ,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rq,defer:rq,dir:null,dirName:null,disabled:rq,download:rW,draggable:rY,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rq,formTarget:null,headers:rK,height:rX,hidden:rq,high:rX,href:null,hrefLang:null,htmlFor:rK,httpEquiv:rK,id:null,imageSizes:null,imageSrcSet:null,inert:rq,inputMode:null,integrity:null,is:null,isMap:rq,itemId:null,itemProp:rK,itemRef:rK,itemScope:rq,itemType:rK,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rq,low:rX,manifest:null,max:null,maxLength:rX,media:null,method:null,min:null,minLength:rX,multiple:rq,muted:rq,name:null,nonce:null,noModule:rq,noValidate:rq,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rq,optimum:rX,pattern:null,ping:rK,placeholder:null,playsInline:rq,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rq,referrerPolicy:null,rel:rK,required:rq,reversed:rq,rows:rX,rowSpan:rX,sandbox:rK,scope:null,scoped:rq,seamless:rq,selected:rq,shape:null,size:rX,sizes:null,slot:null,span:rX,spellCheck:rY,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rX,step:null,style:null,tabIndex:rX,target:null,title:null,translate:null,type:null,typeMustMatch:rq,useMap:null,value:rY,width:rX,wrap:null,align:null,aLink:null,archive:rK,axis:null,background:null,bgColor:null,border:rX,borderColor:null,bottomMargin:rX,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rq,declare:rq,event:null,face:null,frame:null,frameBorder:null,hSpace:rX,leftMargin:rX,link:null,longDesc:null,lowSrc:null,marginHeight:rX,marginWidth:rX,noResize:rq,noHref:rq,noShade:rq,noWrap:rq,object:null,profile:null,prompt:null,rev:null,rightMargin:rX,rules:null,scheme:null,scrolling:rY,standby:null,summary:null,text:null,topMargin:rX,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rX,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rq,disableRemotePlayback:rq,prefix:null,property:null,results:rX,security:null,unselectable:null}}),r8=util_create_create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:util_case_sensitive_transform_caseSensitiveTransform,properties:{about:rJ,accentHeight:rX,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rX,amplitude:rX,arabicForm:null,ascent:rX,attributeName:null,attributeType:null,azimuth:rX,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rX,by:null,calcMode:null,capHeight:rX,className:rK,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rX,diffuseConstant:rX,direction:null,display:null,dur:null,divisor:rX,dominantBaseline:null,download:rq,dx:null,dy:null,edgeMode:null,editable:null,elevation:rX,enableBackground:null,end:null,event:null,exponent:rX,externalResourcesRequired:null,fill:null,fillOpacity:rX,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rZ,g2:rZ,glyphName:rZ,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rX,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rX,horizOriginX:rX,horizOriginY:rX,id:null,ideographic:rX,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rX,k:rX,k1:rX,k2:rX,k3:rX,k4:rX,kernelMatrix:rJ,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rX,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rX,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rX,overlineThickness:rX,paintOrder:null,panose1:null,path:null,pathLength:rX,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rK,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rX,pointsAtY:rX,pointsAtZ:rX,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rJ,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rJ,rev:rJ,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rJ,requiredFeatures:rJ,requiredFonts:rJ,requiredFormats:rJ,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rX,specularExponent:rX,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rX,strikethroughThickness:rX,string:null,stroke:null,strokeDashArray:rJ,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rX,strokeOpacity:rX,strokeWidth:null,style:null,surfaceScale:rX,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rJ,tabIndex:rX,tableValues:null,target:null,targetX:rX,targetY:rX,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rJ,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rX,underlineThickness:rX,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rX,values:null,vAlphabetic:rX,vMathematical:rX,vectorEffect:null,vHanging:rX,vIdeographic:rX,version:null,vertAdvY:rX,vertOriginX:rX,vertOriginY:rX,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rX,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),r9=util_merge_merge([r3,r2,r4,r5,r6],"html"),r7=util_merge_merge([r3,r2,r4,r5,r8],"svg"),ie=/^data[-\w.:]+$/i,it=/-[a-z]/g,ir=/[A-Z]/g;function lib_find_kebab(A){return"-"+A.toLowerCase()}function lib_find_camelcase(A){return A.charAt(1).toUpperCase()}let il={}.hasOwnProperty;function zwitch(A,B){let H=B||{};function one(B,...H){let $=one.invalid,W=one.handlers;if(B&&il.call(B,A)){let H=String(B[A]);$=il.call(W,H)?W[H]:one.unknown}if($)return $.call(this,B,...H)}return one.handlers=H.handlers||{},one.invalid=H.invalid,one.unknown=H.unknown,one}let is={},ic={}.hasOwnProperty,iu=zwitch("type",{handlers:{root:function(A,B){let H={nodeName:"#document",mode:(A.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return H.childNodes=hast_util_to_parse5_lib_all(A.children,H,B),lib_patch(A,H),H},element:function(A,B){let H;let $=B;"element"===A.type&&"svg"===A.tagName.toLowerCase()&&"html"===B.space&&($=r7);let W=[];if(A.properties){for(H in A.properties)if("children"!==H&&ic.call(A.properties,H)){let B=function(A,B,H){let $=function(A,B){let H=lib_normalize_normalize(B),$=B,W=util_info_Info;if(H in A.normal)return A.property[A.normal[H]];if(H.length>4&&"data"===H.slice(0,4)&&ie.test(B)){if("-"===B.charAt(4)){let A=B.slice(5).replace(it,lib_find_camelcase);$="data"+A.charAt(0).toUpperCase()+A.slice(1)}else{let A=B.slice(4);if(!it.test(A)){let H=A.replace(ir,lib_find_kebab);"-"!==H.charAt(0)&&(H="-"+H),B="data"+H}}W=util_defined_info_DefinedInfo}return new W($,B)}(A,B);if(!1===H||null==H||"number"==typeof H&&Number.isNaN(H)||!H&&$.boolean)return;Array.isArray(H)&&(H=$.commaSeparated?comma_separated_tokens_stringify(H):space_separated_tokens_stringify(H));let W={name:$.attribute,value:!0===H?"":String(H)};if($.space&&"html"!==$.space&&"svg"!==$.space){let A=W.name.indexOf(":");A<0?W.prefix="":(W.name=W.name.slice(A+1),W.prefix=$.attribute.slice(0,A)),W.namespace=rj[$.space]}return W}($,H,A.properties[H]);B&&W.push(B)}}let K=$.space,et={nodeName:A.tagName,tagName:A.tagName,attrs:W,namespaceURI:rj[K],childNodes:[],parentNode:null};return et.childNodes=hast_util_to_parse5_lib_all(A.children,et,$),lib_patch(A,et),"template"===A.tagName&&A.content&&(et.content=function(A,B){let H={nodeName:"#document-fragment",childNodes:[]};return H.childNodes=hast_util_to_parse5_lib_all(A.children,H,B),lib_patch(A,H),H}(A.content,$)),et},text:function(A){let B={nodeName:"#text",value:A.value,parentNode:null};return lib_patch(A,B),B},comment:function(A){let B={nodeName:"#comment",data:A.value,parentNode:null};return lib_patch(A,B),B},doctype:function(A){let B={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(A,B),B}}});function hast_util_to_parse5_lib_all(A,B,H){let $=-1,W=[];if(A)for(;++$<A.length;){let K=iu(A[$],H);K.parentNode=B,W.push(K)}return W}function lib_patch(A,B){let H=A.position;H&&H.start&&H.end&&(H.start.offset,H.end.offset,B.sourceCodeLocation={startLine:H.start.line,startCol:H.start.column,startOffset:H.start.offset,endLine:H.end.line,endCol:H.end.column,endOffset:H.end.offset})}let id=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],ih=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(ei=eC=eC||(eC={}))[ei.EOF=-1]="EOF",ei[ei.NULL=0]="NULL",ei[ei.TABULATION=9]="TABULATION",ei[ei.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",ei[ei.LINE_FEED=10]="LINE_FEED",ei[ei.FORM_FEED=12]="FORM_FEED",ei[ei.SPACE=32]="SPACE",ei[ei.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",ei[ei.QUOTATION_MARK=34]="QUOTATION_MARK",ei[ei.NUMBER_SIGN=35]="NUMBER_SIGN",ei[ei.AMPERSAND=38]="AMPERSAND",ei[ei.APOSTROPHE=39]="APOSTROPHE",ei[ei.HYPHEN_MINUS=45]="HYPHEN_MINUS",ei[ei.SOLIDUS=47]="SOLIDUS",ei[ei.DIGIT_0=48]="DIGIT_0",ei[ei.DIGIT_9=57]="DIGIT_9",ei[ei.SEMICOLON=59]="SEMICOLON",ei[ei.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",ei[ei.EQUALS_SIGN=61]="EQUALS_SIGN",ei[ei.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",ei[ei.QUESTION_MARK=63]="QUESTION_MARK",ei[ei.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",ei[ei.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",ei[ei.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",ei[ei.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",ei[ei.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",ei[ei.GRAVE_ACCENT=96]="GRAVE_ACCENT",ei[ei.LATIN_SMALL_A=97]="LATIN_SMALL_A",ei[ei.LATIN_SMALL_F=102]="LATIN_SMALL_F",ei[ei.LATIN_SMALL_X=120]="LATIN_SMALL_X",ei[ei.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",ei[ei.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let ip={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(A){return A>=55296&&A<=57343}function isControlCodePoint(A){return 32!==A&&10!==A&&13!==A&&9!==A&&12!==A&&A>=1&&A<=31||A>=127&&A<=159}function isUndefinedCodePoint(A){return A>=64976&&A<=65007||ih.has(A)}(eo=ex=ex||(ex={})).controlCharacterInInputStream="control-character-in-input-stream",eo.noncharacterInInputStream="noncharacter-in-input-stream",eo.surrogateInInputStream="surrogate-in-input-stream",eo.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",eo.endTagWithAttributes="end-tag-with-attributes",eo.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",eo.unexpectedSolidusInTag="unexpected-solidus-in-tag",eo.unexpectedNullCharacter="unexpected-null-character",eo.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",eo.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",eo.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",eo.missingEndTagName="missing-end-tag-name",eo.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",eo.unknownNamedCharacterReference="unknown-named-character-reference",eo.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",eo.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",eo.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",eo.eofBeforeTagName="eof-before-tag-name",eo.eofInTag="eof-in-tag",eo.missingAttributeValue="missing-attribute-value",eo.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",eo.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",eo.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",eo.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",eo.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",eo.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",eo.missingDoctypePublicIdentifier="missing-doctype-public-identifier",eo.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",eo.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",eo.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",eo.cdataInHtmlContent="cdata-in-html-content",eo.incorrectlyOpenedComment="incorrectly-opened-comment",eo.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",eo.eofInDoctype="eof-in-doctype",eo.nestedComment="nested-comment",eo.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",eo.eofInComment="eof-in-comment",eo.incorrectlyClosedComment="incorrectly-closed-comment",eo.eofInCdata="eof-in-cdata",eo.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",eo.nullCharacterReference="null-character-reference",eo.surrogateCharacterReference="surrogate-character-reference",eo.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",eo.controlCharacterReference="control-character-reference",eo.noncharacterCharacterReference="noncharacter-character-reference",eo.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",eo.missingDoctypeName="missing-doctype-name",eo.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",eo.duplicateAttribute="duplicate-attribute",eo.nonConformingDoctype="non-conforming-doctype",eo.missingDoctype="missing-doctype",eo.misplacedDoctype="misplaced-doctype",eo.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",eo.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",eo.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",eo.openElementsLeftAfterEof="open-elements-left-after-eof",eo.abandonedHeadElementChild="abandoned-head-element-child",eo.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",eo.nestedNoscriptInHead="nested-noscript-in-head",eo.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(A){this.handler=A,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(A){let{line:B,col:H,offset:$}=this;return{code:A,startLine:B,endLine:B,startCol:H,endCol:H,startOffset:$,endOffset:$}}_err(A){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(A)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(A){if(this.pos!==this.html.length-1){let B=this.html.charCodeAt(this.pos+1);if(B>=56320&&B<=57343)return this.pos++,this._addGap(),(A-55296)*1024+9216+B}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,eC.EOF;return this._err(ex.surrogateInInputStream),A}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(A,B){this.html.length>0?this.html+=A:this.html=A,this.endOfChunkHit=!1,this.lastChunkWritten=B}insertHtmlAtCurrentPos(A){this.html=this.html.substring(0,this.pos+1)+A+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(A,B){if(this.pos+A.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(B)return this.html.startsWith(A,this.pos);for(let B=0;B<A.length;B++){let H=32|this.html.charCodeAt(this.pos+B);if(H!==A.charCodeAt(B))return!1}return!0}peek(A){let B=this.pos+A;if(B>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,eC.EOF;let H=this.html.charCodeAt(B);return H===eC.CARRIAGE_RETURN?eC.LINE_FEED:H}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,eC.EOF;let A=this.html.charCodeAt(this.pos);if(A===eC.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,eC.LINE_FEED;if(A===eC.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(A)&&(A=this._processSurrogate(A));let B=null===this.handler.onParseError||A>31&&A<127||A===eC.LINE_FEED||A===eC.CARRIAGE_RETURN||A>159&&A<64976;return B||this._checkForProblematicCharacters(A),A}_checkForProblematicCharacters(A){isControlCodePoint(A)?this._err(ex.controlCharacterInInputStream):isUndefinedCodePoint(A)&&this._err(ex.noncharacterInInputStream)}retreat(A){for(this.pos-=A;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(A,B){for(let H=A.attrs.length-1;H>=0;H--)if(A.attrs[H].name===B)return A.attrs[H].value;return null}(el=ew=ew||(ew={}))[el.CHARACTER=0]="CHARACTER",el[el.NULL_CHARACTER=1]="NULL_CHARACTER",el[el.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",el[el.START_TAG=3]="START_TAG",el[el.END_TAG=4]="END_TAG",el[el.COMMENT=5]="COMMENT",el[el.DOCTYPE=6]="DOCTYPE",el[el.EOF=7]="EOF",el[el.HIBERNATION=8]="HIBERNATION";var im=new Uint16Array('ᵁ<\xd5ıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\x00\x00\x00\x00\x00\x00ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig耻\xc6䃆P耻&䀦cute耻\xc1䃁reve;䄂Āiyx}rc耻\xc2䃂;䐐r;쀀\ud835\udd04rave耻\xc0䃀pha;䎑acr;䄀d;橓Āgp\x9d\xa1on;䄄f;쀀\ud835\udd38plyFunction;恡ing耻\xc5䃅Ācs\xbe\xc3r;쀀\ud835\udc9cign;扔ilde耻\xc3䃃ml耻\xc4䃄Ѐaceforsu\xe5\xfb\xfeėĜĢħĪĀcr\xea\xf2kslash;或Ŷ\xf6\xf8;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀\ud835\udd05pf;쀀\ud835\udd39eve;䋘c\xf2ēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻\xa9䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻\xc7䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷\xf2ſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀\ud835\udc9epĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀\ud835\udd07Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\x00\x00\x00͔͂\x00Ѕf;쀀\ud835\udd3bƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegra\xecȹoɴ͹\x00\x00ͻ\xbb͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔e\xe5ˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\x00\x00ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\x00ц\x00ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\x00ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀\ud835\udc9frok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻\xd0䃐cute耻\xc9䃉ƀaiyӒӗӜron;䄚rc耻\xca䃊;䐭ot;䄖r;쀀\ud835\udd08rave耻\xc8䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\x00\x00ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀\ud835\udd3csilon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻\xcb䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀\ud835\udd09lledɓ֗\x00\x00֣mallSquare;旼erySmallSquare;斪Ͱֺ\x00ֿ\x00\x00ׄf;쀀\ud835\udd3dAll;戀riertrf;愱c\xf2׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀\ud835\udd0a;拙pf;쀀\ud835\udd3eeater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀\ud835\udca2;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\x00ڲf;愍izontalLine;攀Āctۃۅ\xf2کrok;䄦mpńېۘownHum\xf0įqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻\xcd䃍Āiyܓܘrc耻\xce䃎;䐘ot;䄰r;愑rave耻\xcc䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lie\xf3ϝǴ݉\x00ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀\ud835\udd40a;䎙cr;愐ilde;䄨ǫޚ\x00ޞcy;䐆l耻\xcf䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀\ud835\udd0dpf;쀀\ud835\udd41ǣ߇\x00ߌr;쀀\ud835\udca5rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀\ud835\udd0epf;쀀\ud835\udd42cr;쀀\ud835\udca6րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\x00ࣃbleBracket;柦nǔࣈ\x00࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ight\xe1Μs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀\ud835\udd0fĀ;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊight\xe1οight\xe1ϊf;쀀\ud835\udd43erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂ\xf2ࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀\ud835\udd10nusPlus;戓pf;쀀\ud835\udd44c\xf2੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘\xeb૙eryThi\xee૙tedĀGL૸ଆreaterGreate\xf2ٳessLes\xf3ੈLine;䀊r;쀀\ud835\udd11ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀\ud835\udca9ilde耻\xd1䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻\xd3䃓Āiy෎ීrc耻\xd4䃔;䐞blac;䅐r;쀀\ud835\udd12rave耻\xd2䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀\ud835\udd46enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀\ud835\udcaaash耻\xd8䃘iŬื฼de耻\xd5䃕es;樷ml耻\xd6䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀\ud835\udd13i;䎦;䎠usMinus;䂱Āipຢອncareplan\xe5ڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀\ud835\udcab;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀\ud835\udd14pf;愚cr;쀀\ud835\udcac؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻\xae䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r\xbbཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\x00စbleBracket;柧nǔည\x00နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀\ud835\udd16ortȀDLRUᄪᄴᄾᅉownArrow\xbbОeftArrow\xbb࢚ightArrow\xbb࿝pArrow;憑gma;䎣allCircle;战pf;쀀\ud835\udd4aɲᅭ\x00\x00ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀\ud835\udcaear;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Th\xe1ྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et\xbbሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻\xde䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀\ud835\udd17Āeiቻ኉ǲኀ\x00ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀\ud835\udd4bipleDot;惛Āctዖዛr;쀀\ud835\udcafrok;䅦ૡዷጎጚጦ\x00ጬጱ\x00\x00\x00\x00\x00ጸጽ፷ᎅ\x00᏿ᐄᐊᐐĀcrዻጁute耻\xda䃚rĀ;oጇገ憟cir;楉rǣጓ\x00጖y;䐎ve;䅬Āiyጞጣrc耻\xdb䃛;䐣blac;䅰r;쀀\ud835\udd18rave耻\xd9䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀\ud835\udd4cЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥own\xe1ϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀\ud835\udcb0ilde;䅨ml耻\xdc䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀\ud835\udd19pf;쀀\ud835\udd4dcr;쀀\ud835\udcb1dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀\ud835\udd1apf;쀀\ud835\udd4ecr;쀀\ud835\udcb2Ȁfiosᓋᓐᓒᓘr;쀀\ud835\udd1b;䎞pf;쀀\ud835\udd4fcr;쀀\ud835\udcb3ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻\xdd䃝Āiyᔉᔍrc;䅶;䐫r;쀀\ud835\udd1cpf;쀀\ud835\udd50cr;쀀\ud835\udcb4ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\x00ᕛoWidt\xe8૙a;䎖r;愨pf;愤cr;쀀\ud835\udcb5௡ᖃᖊᖐ\x00ᖰᖶᖿ\x00\x00\x00\x00ᗆᗛᗫᙟ᙭\x00ᚕ᚛ᚲᚹ\x00ᚾcute耻\xe1䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻\xe2䃢te肻\xb4̆;䐰lig耻\xe6䃦Ā;r\xb2ᖺ;쀀\ud835\udd1erave耻\xe0䃠ĀepᗊᗖĀfpᗏᗔsym;愵\xe8ᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\x00\x00ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e\xbbᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢\xbb\xb9arr;捼Āgpᙣᙧon;䄅f;쀀\ud835\udd52΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒ\xf1ᚃing耻\xe5䃥ƀctyᚡᚦᚨr;쀀\ud835\udcb6;䀪mpĀ;e዁ᚯ\xf1ʈilde耻\xe3䃣ml耻\xe4䃤Āciᛂᛈonin\xf4ɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e\xbbᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰s\xe9ᜌno\xf5ēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀\ud835\udd1fg΀costuvwឍឝឳេ៕៛៞ƀaiuបពរ\xf0ݠrc;旯p\xbb፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\x00\x00ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄e\xe5ᑄ\xe5ᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\x00ᠳƲᠯ\x00ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀\ud835\udd53Ā;tᏋᡣom\xbbᏌtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻\xa6䂦Ȁceioᥑᥖᥚᥠr;쀀\ud835\udcb7mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t\xbb᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\x00᧨ᨑᨕᨲ\x00ᨷᩐ\x00\x00᪴\x00\x00᫁\x00\x00ᬡᬮ᭍᭒\x00᯽\x00ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁\xeeړȀaeiu᧰᧻ᨁᨅǰ᧵\x00᧸s;橍on;䄍dil耻\xe7䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻\xb8ƭptyv;榲t脀\xa2;eᨭᨮ䂢r\xe4Ʋr;쀀\ud835\udd20ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark\xbbᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\x00\x00᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟\xbbཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it\xbb᪼ˬ᫇᫔᫺\x00ᬊonĀ;eᫍᫎ䀺Ā;q\xc7\xc6ɭ᫙\x00\x00᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁\xeeᅠeĀmx᫱᫶ent\xbb᫩e\xf3ɍǧ᫾\x00ᬇĀ;dኻᬂot;橭n\xf4Ɇƀfryᬐᬔᬗ;쀀\ud835\udd54o\xe4ɔ脀\xa9;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀\ud835\udcb8Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\x00\x00᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\x00\x00ᯒre\xe3᭳u\xe3᭵ee;拎edge;拏en耻\xa4䂤earrowĀlrᯮ᯳eft\xbbᮀight\xbbᮽe\xe4ᯝĀciᰁᰇonin\xf4Ƿnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍r\xf2΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸\xf2ᄳhĀ;vᱚᱛ怐\xbbऊūᱡᱧarow;椏a\xe3̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻\xb0䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀\ud835\udd21arĀlrᲳᲵ\xbbࣜ\xbbသʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀\xf7;o᳧ᳰntimes;拇n\xf8᳷cy;䑒cɯᴆ\x00\x00ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀\ud835\udd55ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedg\xe5\xfanƀadhᄮᵝᵧownarrow\xf3ᲃarpoonĀlrᵲᵶef\xf4Ჴigh\xf4ᲶŢᵿᶅkaro\xf7གɯᶊ\x00\x00ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀\ud835\udcb9;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃r\xf2Щa\xf2ྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴo\xf4ᲉĀcsḎḔute耻\xe9䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻\xea䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀\ud835\udd22ƀ;rsṐṑṗ檚ave耻\xe8䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et\xbbẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀\ud835\udd56ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on\xbbớ;䏵ȀcsuvỪỳἋἣĀioữḱrc\xbbḮɩỹ\x00\x00ỻ\xedՈantĀglἂἆtr\xbbṝess\xbbṺƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯o\xf4͒ĀahὉὋ;䎷耻\xf0䃰Āmrὓὗl耻\xeb䃫o;悬ƀcipὡὤὧl;䀡s\xf4ծĀeoὬὴctatio\xeeՙnential\xe5չৡᾒ\x00ᾞ\x00ᾡᾧ\x00\x00ῆῌ\x00ΐ\x00ῦῪ \x00 ⁚llingdotse\xf1Ṅy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\x00\x00᾽g;耀ﬀig;耀ﬄ;쀀\ud835\udd23lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\x00ῳf;쀀\ud835\udd57ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\x00⁐β•‥‧‪‬\x00‮耻\xbd䂽;慓耻\xbc䂼;慕;慙;慛Ƴ‴\x00‶;慔;慖ʴ‾⁁\x00\x00⁃耻\xbe䂾;慗;慜5;慘ƶ⁌\x00⁎;慚;慝8;慞l;恄wn;挢cr;쀀\ud835\udcbbࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lan\xf4٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀\ud835\udd24Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox\xbbℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀\ud835\udd58Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\x00↎pro\xf8₞r;楸qĀlqؿ↖les\xf3₈i\xed٫Āen↣↭rtneqq;쀀≩︀\xc5↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽r\xf2ΠȀilmr⇐⇔⇗⇛rs\xf0ᒄf\xbb․il\xf4کĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it\xbb∊lip;怦con;抹r;쀀\ud835\udd25sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀\ud835\udd59bar;怕ƀclt≯≴≸r;쀀\ud835\udcbdas\xe8⇴rok;䄧Ābp⊂⊇ull;恃hen\xbbᱛૡ⊣\x00⊪\x00⊸⋅⋎\x00⋕⋳\x00\x00⋸⌢⍧⍢⍿\x00⎆⎪⎴cute耻\xed䃭ƀ;iyݱ⊰⊵rc耻\xee䃮;䐸Ācx⊼⊿y;䐵cl耻\xa1䂡ĀfrΟ⋉;쀀\ud835\udd26rave耻\xec䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓in\xe5ގar\xf4ܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝do\xf4⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙er\xf3ᕣ\xe3⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀\ud835\udd5aa;䎹uest耻\xbf䂿Āci⎊⎏r;쀀\ud835\udcbenʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\x00⎼cy;䑖l耻\xef䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀\ud835\udd27ath;䈷pf;쀀\ud835\udd5bǣ⏬\x00⏱r;쀀\ud835\udcbfrcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀\ud835\udd28reen;䄸cy;䑅cy;䑜pf;쀀\ud835\udd5ccr;쀀\ud835\udcc0஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼r\xf2৆\xf2Εail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\x00⒪\x00⒱\x00\x00\x00\x00\x00⒵Ⓔ\x00ⓆⓈⓍ\x00⓹ute;䄺mptyv;榴ra\xeeࡌbda;䎻gƀ;dlࢎⓁⓃ;榑\xe5ࢎ;檅uo耻\xab䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝\xeb≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼\xecࢰ\xe2┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□a\xe9⓶arpoonĀdu▯▴own\xbbњp\xbb०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoon\xf3྘quigarro\xf7⇰hreetimes;拋ƀ;qs▋ও◺lan\xf4বʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋ppro\xf8Ⓠot;拖qĀgq♃♅\xf4উgt\xf2⒌\xf4ছi\xedলƀilr♕࣡♚sht;楼;쀀\ud835\udd29Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖r\xf2◁orne\xf2ᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che\xbb⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox\xbb⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽r\xebࣁgƀlmr⛿✍✔eftĀar০✇ight\xe1৲apsto;柼ight\xe1৽parrowĀlr✥✩ef\xf4⓭ight;憬ƀafl✶✹✽r;榅;쀀\ud835\udd5dus;樭imes;樴š❋❏st;戗\xe1ፎƀ;ef❗❘᠀旊nge\xbb❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇r\xf2ࢨorne\xf2ᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀\ud835\udcc1mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹re\xe5◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀\xc5⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻\xaf䂯Āet⡗⡙;時Ā;e⡞⡟朠se\xbb⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻ow\xeeҌef\xf4ए\xf0Ꮡker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle\xbbᘦr;쀀\ud835\udd2ao;愧ƀcdn⢯⢴⣉ro耻\xb5䂵Ȁ;acdᑤ⢽⣀⣄s\xf4ᚧir;櫰ot肻\xb7Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛\xf2−\xf0ઁĀdp⣩⣮els;抧f;쀀\ud835\udd5eĀct⣸⣽r;쀀\ud835\udcc2pos\xbbᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la\xbb˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉ro\xf8඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\x00⧣p肻\xa0ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\x00⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸ui\xf6ୣĀei⩊⩎ar;椨\xed஘istĀ;s஠டr;쀀\ud835\udd2bȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lan\xf4௢i\xed௪Ā;rஶ⪁\xbbஷƀAap⪊⪍⪑r\xf2⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹r\xf2⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro\xf7⫁ightarro\xf7⪐ƀ;qs఻⪺⫪lan\xf4ౕĀ;sౕ⫴\xbbశi\xedౝĀ;rవ⫾iĀ;eచథi\xe4ඐĀpt⬌⬑f;쀀\ud835\udd5f膀\xac;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lle\xec୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳u\xe5ಥĀ;cಘ⭸Ā;eಒ⭽\xf1ಘȀAait⮈⮋⮝⮧r\xf2⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow\xbb⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉u\xe5൅;쀀\ud835\udcc3ortɭ⬅\x00\x00⯖ar\xe1⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭\xe5೸\xe5ഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗ\xf1സȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇ\xecௗlde耻\xf1䃱\xe7ృiangleĀlrⱒⱜeftĀ;eచⱚ\xf1దightĀ;eೋⱥ\xf1೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ⴭ\x00ⴸⵈⵠⵥ⵲ⶄᬇ\x00\x00ⶍⶫ\x00ⷈⷎ\x00ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻\xf3䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻\xf4䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀\ud835\udd2cͯ⵹\x00\x00⵼\x00ⶂn;䋛ave耻\xf2䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨr\xf2᪀Āir⶝ⶠr;榾oss;榻n\xe5๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀\ud835\udd60ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨r\xf2᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f\xbbⷿ耻\xaa䂪耻\xba䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧\xf2⸁ash耻\xf8䃸l;折iŬⸯ⸴de耻\xf5䃵esĀ;aǛ⸺s;樶ml耻\xf6䃶bar;挽ૡ⹞\x00⹽\x00⺀⺝\x00⺢⺹\x00\x00⻋ຜ\x00⼓\x00\x00⼫⾼\x00⿈rȀ;astЃ⹧⹲຅脀\xb6;l⹭⹮䂶le\xecЃɩ⹸\x00\x00⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀\ud835\udd2dƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕ma\xf4੶ne;明ƀ;tv⺿⻀⻈䏀chfork\xbb´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎\xf6⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻\xb1ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀\ud835\udd61nd耻\xa3䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷u\xe5໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾ppro\xf8⽃urlye\xf1໙\xf1໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨i\xedໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺\xf0⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴\xef໻rel;抰Āci⿀⿅r;쀀\ud835\udcc5;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀\ud835\udd2epf;쀀\ud835\udd62rime;恗cr;쀀\ud835\udcc6ƀaeo⿸〉〓tĀei⿾々rnion\xf3ڰnt;樖stĀ;e【】䀿\xf1Ἑ\xf4༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがr\xf2Ⴓ\xf2ϝail;検ar\xf2ᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕i\xe3ᅮmptyv;榳gȀ;del࿑らるろ;榒;榥\xe5࿑uo耻\xbb䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞\xeb≝\xf0✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶al\xf3༞ƀabrョリヮr\xf2៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗\xec࿲\xe2ヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜn\xe5Ⴛar\xf4ྩt;断ƀilrㅩဣㅮsht;楽;쀀\ud835\udd2fĀaoㅷㆆrĀduㅽㅿ\xbbѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭa\xe9トarpoonĀduㆻㆿow\xeeㅾp\xbb႒eftĀah㇊㇐rrow\xf3࿪arpoon\xf3Ցightarrows;應quigarro\xf7ニhreetimes;拌g;䋚ingdotse\xf1ἲƀahm㈍㈐㈓r\xf2࿪a\xf2Ց;怏oustĀ;a㈞㈟掱che\xbb㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾r\xebဃƀafl㉇㉊㉎r;榆;쀀\ud835\udd63us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒ar\xf2㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀\ud835\udcc7Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠re\xe5ㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\x00㍺㎤\x00\x00㏬㏰\x00㐨㑈㑚㒭㒱㓊㓱\x00㘖\x00\x00㘳cute;䅛qu\xef➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\x00㋼;檸on;䅡u\xe5ᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓i\xedሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒\xeb∨Ā;oਸ਼਴t耻\xa7䂧i;䀻war;椩mĀin㍩\xf0nu\xf3\xf1t;朶rĀ;o㍶⁕쀀\ud835\udd30Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\x00\x00㎜i\xe4ᑤara\xec⹯耻\xad䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲ar\xf2ᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetm\xe9㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀\ud835\udd64aĀdr㑍ЂesĀ;u㑔㑕晠it\xbb㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍\xf1ᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝\xf1ᆮƀ;afᅻ㒦ְrť㒫ֱ\xbbᅼar\xf2ᅈȀcemt㒹㒾㓂㓅r;쀀\ud835\udcc8tm\xee\xf1i\xec㐕ar\xe6ᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psilo\xeeỠh\xe9⺯s\xbb⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦ppro\xf8㋺urlye\xf1ᇾ\xf1ᇳƀaes㖂㖈㌛ppro\xf8㌚q\xf1㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻\xb9䂹耻\xb2䂲耻\xb3䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨\xeb∮Ā;oਫ਩war;椪lig耻\xdf䃟௡㙑㙝㙠ዎ㙳㙹\x00㙾㛂\x00\x00\x00\x00\x00㛛㜃\x00㜉㝬\x00\x00\x00㞇ɲ㙖\x00\x00㙛get;挖;䏄r\xeb๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀\ud835\udd31Ȁeiko㚆㚝㚵㚼ǲ㚋\x00㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮ppro\xf8዁im\xbbኬs\xf0ኞĀas㚺㚮\xf0዁rn耻\xfe䃾Ǭ̟㛆⋧es膀\xd7;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀\xe1⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀\ud835\udd65rk;櫚\xe1㍢rime;怴ƀaip㜏㜒㝤d\xe5ቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own\xbbᶻeftĀ;e⠀㜾\xf1म;扜ightĀ;e㊪㝋\xf1ၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀\ud835\udcc9;䑆cy;䑛rok;䅧Āio㞋㞎x\xf4᝷headĀlr㞗㞠eftarro\xf7ࡏightarrow\xbbཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶r\xf2ϭar;楣Ācr㟜㟢ute耻\xfa䃺\xf2ᅐrǣ㟪\x00㟭y;䑞ve;䅭Āiy㟵㟺rc耻\xfb䃻;䑃ƀabh㠃㠆㠋r\xf2Ꭽlac;䅱a\xf2ᏃĀir㠓㠘sht;楾;쀀\ud835\udd32rave耻\xf9䃹š㠧㠱rĀlr㠬㠮\xbbॗ\xbbႃlk;斀Āct㠹㡍ɯ㠿\x00\x00㡊rnĀ;e㡅㡆挜r\xbb㡆op;挏ri;旸Āal㡖㡚cr;䅫肻\xa8͉Āgp㡢㡦on;䅳f;쀀\ud835\udd66̀adhlsuᅋ㡸㡽፲㢑㢠own\xe1ᎳarpoonĀlr㢈㢌ef\xf4㠭igh\xf4㠯iƀ;hl㢙㢚㢜䏅\xbbᏺon\xbb㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\x00\x00㣁rnĀ;e㢼㢽挝r\xbb㢽op;挎ng;䅯ri;旹cr;쀀\ud835\udccaƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨\xbb᠓Āam㣯㣲r\xf2㢨l耻\xfc䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠r\xf2ϷarĀ;v㤦㤧櫨;櫩as\xe8ϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖app\xe1␕othin\xe7ẖƀhir㓫⻈㥙op\xf4⾵Ā;hᎷ㥢\xefㆍĀiu㥩㥭gm\xe1㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟et\xe1㚜iangleĀlr㦪㦯eft\xbbथight\xbbၑy;䐲ash\xbbံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨa\xf2ᑩr;쀀\ud835\udd33tr\xe9㦮suĀbp㧯㧱\xbbജ\xbb൙pf;쀀\ud835\udd67ro\xf0໻tr\xe9㦴Ācu㨆㨋r;쀀\ud835\udccbĀbp㨐㨘nĀEe㦀㨖\xbb㥾nĀEe㦒㨞\xbb㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀\ud835\udd34pf;쀀\ud835\udd68Ā;eᑹ㩦at\xe8ᑹcr;쀀\ud835\udcccૣណ㪇\x00㪋\x00㪐㪛\x00\x00㪝㪨㪫㪯\x00\x00㫃㫎\x00㫘ៜ៟tr\xe9៑r;쀀\ud835\udd35ĀAa㪔㪗r\xf2σr\xf2৶;䎾ĀAa㪡㪤r\xf2θr\xf2৫a\xf0✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀\ud835\udd69im\xe5ឲĀAa㫇㫊r\xf2ώr\xf2ਁĀcq㫒ីr;쀀\ud835\udccdĀpt៖㫜r\xe9។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻\xfd䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻\xa5䂥r;쀀\ud835\udd36cy;䑗pf;쀀\ud835\udd6acr;쀀\ud835\udcceĀcm㬦㬩y;䑎l耻\xff䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡tr\xe6ᕟa;䎶r;쀀\ud835\udd37cy;䐶grarr;懝pf;쀀\ud835\udd6bcr;쀀\ud835\udccfĀjn㮅㮇;怍j;怌'.split("").map(A=>A.charCodeAt(0))),ig=new Uint16Array("Ȁaglq	\x15\x18\x1bɭ\x0f\x00\x00\x12p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(A=>A.charCodeAt(0)));let i_=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),iE=null!==(eI=String.fromCodePoint)&&void 0!==eI?eI:function(A){let B="";return A>65535&&(A-=65536,B+=String.fromCharCode(A>>>10&1023|55296),A=56320|1023&A),B+=String.fromCharCode(A)};function isNumber(A){return A>=eO.ZERO&&A<=eO.NINE}(es=eO||(eO={}))[es.NUM=35]="NUM",es[es.SEMI=59]="SEMI",es[es.EQUALS=61]="EQUALS",es[es.ZERO=48]="ZERO",es[es.NINE=57]="NINE",es[es.LOWER_A=97]="LOWER_A",es[es.LOWER_F=102]="LOWER_F",es[es.LOWER_X=120]="LOWER_X",es[es.LOWER_Z=122]="LOWER_Z",es[es.UPPER_A=65]="UPPER_A",es[es.UPPER_F=70]="UPPER_F",es[es.UPPER_Z=90]="UPPER_Z",(ec=eR||(eR={}))[ec.VALUE_LENGTH=49152]="VALUE_LENGTH",ec[ec.BRANCH_LENGTH=16256]="BRANCH_LENGTH",ec[ec.JUMP_TABLE=127]="JUMP_TABLE",(eu=eN||(eN={}))[eu.EntityStart=0]="EntityStart",eu[eu.NumericStart=1]="NumericStart",eu[eu.NumericDecimal=2]="NumericDecimal",eu[eu.NumericHex=3]="NumericHex",eu[eu.NamedEntity=4]="NamedEntity",(ed=eD||(eD={}))[ed.Legacy=0]="Legacy",ed[ed.Strict=1]="Strict",ed[ed.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(A,B,H){this.decodeTree=A,this.emitCodePoint=B,this.errors=H,this.state=eN.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=eD.Strict}startEntity(A){this.decodeMode=A,this.state=eN.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(A,B){switch(this.state){case eN.EntityStart:if(A.charCodeAt(B)===eO.NUM)return this.state=eN.NumericStart,this.consumed+=1,this.stateNumericStart(A,B+1);return this.state=eN.NamedEntity,this.stateNamedEntity(A,B);case eN.NumericStart:return this.stateNumericStart(A,B);case eN.NumericDecimal:return this.stateNumericDecimal(A,B);case eN.NumericHex:return this.stateNumericHex(A,B);case eN.NamedEntity:return this.stateNamedEntity(A,B)}}stateNumericStart(A,B){return B>=A.length?-1:(32|A.charCodeAt(B))===eO.LOWER_X?(this.state=eN.NumericHex,this.consumed+=1,this.stateNumericHex(A,B+1)):(this.state=eN.NumericDecimal,this.stateNumericDecimal(A,B))}addToNumericResult(A,B,H,$){if(B!==H){let W=H-B;this.result=this.result*Math.pow($,W)+parseInt(A.substr(B,W),$),this.consumed+=W}}stateNumericHex(A,B){let H=B;for(;B<A.length;){var $;let W=A.charCodeAt(B);if(!isNumber(W)&&(!(($=W)>=eO.UPPER_A)||!($<=eO.UPPER_F))&&(!($>=eO.LOWER_A)||!($<=eO.LOWER_F)))return this.addToNumericResult(A,H,B,16),this.emitNumericEntity(W,3);B+=1}return this.addToNumericResult(A,H,B,16),-1}stateNumericDecimal(A,B){let H=B;for(;B<A.length;){let $=A.charCodeAt(B);if(!isNumber($))return this.addToNumericResult(A,H,B,10),this.emitNumericEntity($,2);B+=1}return this.addToNumericResult(A,H,B,10),-1}emitNumericEntity(A,B){var H,$,W;if(this.consumed<=B)return null===(H=this.errors)||void 0===H||H.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(A===eO.SEMI)this.consumed+=1;else if(this.decodeMode===eD.Strict)return 0;return this.emitCodePoint(($=this.result)>=55296&&$<=57343||$>1114111?65533:null!==(W=i_.get($))&&void 0!==W?W:$,this.consumed),this.errors&&(A!==eO.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(A,B){let{decodeTree:H}=this,$=H[this.treeIndex],W=($&eR.VALUE_LENGTH)>>14;for(;B<A.length;B++,this.excess++){let K=A.charCodeAt(B);if(this.treeIndex=determineBranch(H,$,this.treeIndex+Math.max(1,W),K),this.treeIndex<0)return 0===this.result||this.decodeMode===eD.Attribute&&(0===W||function(A){var B;return A===eO.EQUALS||(B=A)>=eO.UPPER_A&&B<=eO.UPPER_Z||B>=eO.LOWER_A&&B<=eO.LOWER_Z||isNumber(B)}(K))?0:this.emitNotTerminatedNamedEntity();if(0!=(W=(($=H[this.treeIndex])&eR.VALUE_LENGTH)>>14)){if(K===eO.SEMI)return this.emitNamedEntityData(this.treeIndex,W,this.consumed+this.excess);this.decodeMode!==eD.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var A;let{result:B,decodeTree:H}=this,$=(H[B]&eR.VALUE_LENGTH)>>14;return this.emitNamedEntityData(B,$,this.consumed),null===(A=this.errors)||void 0===A||A.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(A,B,H){let{decodeTree:$}=this;return this.emitCodePoint(1===B?$[A]&~eR.VALUE_LENGTH:$[A+1],H),3===B&&this.emitCodePoint($[A+2],H),H}end(){var A;switch(this.state){case eN.NamedEntity:return 0!==this.result&&(this.decodeMode!==eD.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case eN.NumericDecimal:return this.emitNumericEntity(0,2);case eN.NumericHex:return this.emitNumericEntity(0,3);case eN.NumericStart:return null===(A=this.errors)||void 0===A||A.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case eN.EntityStart:return 0}}};function getDecoder(A){let B="",H=new EntityDecoder(A,A=>B+=iE(A));return function(A,$){let W=0,K=0;for(;(K=A.indexOf("&",K))>=0;){B+=A.slice(W,K),H.startEntity($);let et=H.write(A,K+1);if(et<0){W=K+H.end();break}W=K+et,K=0===et?W+1:W}let et=B+A.slice(W);return B="",et}}function determineBranch(A,B,H,$){let W=(B&eR.BRANCH_LENGTH)>>7,K=B&eR.JUMP_TABLE;if(0===W)return 0!==K&&$===K?H:-1;if(K){let B=$-K;return B<0||B>=W?-1:A[H+B]-1}let et=H,en=et+W-1;for(;et<=en;){let B=et+en>>>1,H=A[B];if(H<$)et=B+1;else{if(!(H>$))return A[B+W];en=B-1}}return -1}getDecoder(im),getDecoder(ig),(eh=eL=eL||(eL={})).HTML="http://www.w3.org/1999/xhtml",eh.MATHML="http://www.w3.org/1998/Math/MathML",eh.SVG="http://www.w3.org/2000/svg",eh.XLINK="http://www.w3.org/1999/xlink",eh.XML="http://www.w3.org/XML/1998/namespace",eh.XMLNS="http://www.w3.org/2000/xmlns/",(ep=eP=eP||(eP={})).TYPE="type",ep.ACTION="action",ep.ENCODING="encoding",ep.PROMPT="prompt",ep.NAME="name",ep.COLOR="color",ep.FACE="face",ep.SIZE="size",(em=eM=eM||(eM={})).NO_QUIRKS="no-quirks",em.QUIRKS="quirks",em.LIMITED_QUIRKS="limited-quirks",(ef=eF=eF||(eF={})).A="a",ef.ADDRESS="address",ef.ANNOTATION_XML="annotation-xml",ef.APPLET="applet",ef.AREA="area",ef.ARTICLE="article",ef.ASIDE="aside",ef.B="b",ef.BASE="base",ef.BASEFONT="basefont",ef.BGSOUND="bgsound",ef.BIG="big",ef.BLOCKQUOTE="blockquote",ef.BODY="body",ef.BR="br",ef.BUTTON="button",ef.CAPTION="caption",ef.CENTER="center",ef.CODE="code",ef.COL="col",ef.COLGROUP="colgroup",ef.DD="dd",ef.DESC="desc",ef.DETAILS="details",ef.DIALOG="dialog",ef.DIR="dir",ef.DIV="div",ef.DL="dl",ef.DT="dt",ef.EM="em",ef.EMBED="embed",ef.FIELDSET="fieldset",ef.FIGCAPTION="figcaption",ef.FIGURE="figure",ef.FONT="font",ef.FOOTER="footer",ef.FOREIGN_OBJECT="foreignObject",ef.FORM="form",ef.FRAME="frame",ef.FRAMESET="frameset",ef.H1="h1",ef.H2="h2",ef.H3="h3",ef.H4="h4",ef.H5="h5",ef.H6="h6",ef.HEAD="head",ef.HEADER="header",ef.HGROUP="hgroup",ef.HR="hr",ef.HTML="html",ef.I="i",ef.IMG="img",ef.IMAGE="image",ef.INPUT="input",ef.IFRAME="iframe",ef.KEYGEN="keygen",ef.LABEL="label",ef.LI="li",ef.LINK="link",ef.LISTING="listing",ef.MAIN="main",ef.MALIGNMARK="malignmark",ef.MARQUEE="marquee",ef.MATH="math",ef.MENU="menu",ef.META="meta",ef.MGLYPH="mglyph",ef.MI="mi",ef.MO="mo",ef.MN="mn",ef.MS="ms",ef.MTEXT="mtext",ef.NAV="nav",ef.NOBR="nobr",ef.NOFRAMES="noframes",ef.NOEMBED="noembed",ef.NOSCRIPT="noscript",ef.OBJECT="object",ef.OL="ol",ef.OPTGROUP="optgroup",ef.OPTION="option",ef.P="p",ef.PARAM="param",ef.PLAINTEXT="plaintext",ef.PRE="pre",ef.RB="rb",ef.RP="rp",ef.RT="rt",ef.RTC="rtc",ef.RUBY="ruby",ef.S="s",ef.SCRIPT="script",ef.SECTION="section",ef.SELECT="select",ef.SOURCE="source",ef.SMALL="small",ef.SPAN="span",ef.STRIKE="strike",ef.STRONG="strong",ef.STYLE="style",ef.SUB="sub",ef.SUMMARY="summary",ef.SUP="sup",ef.TABLE="table",ef.TBODY="tbody",ef.TEMPLATE="template",ef.TEXTAREA="textarea",ef.TFOOT="tfoot",ef.TD="td",ef.TH="th",ef.THEAD="thead",ef.TITLE="title",ef.TR="tr",ef.TRACK="track",ef.TT="tt",ef.U="u",ef.UL="ul",ef.SVG="svg",ef.VAR="var",ef.WBR="wbr",ef.XMP="xmp",(eg=eB=eB||(eB={}))[eg.UNKNOWN=0]="UNKNOWN",eg[eg.A=1]="A",eg[eg.ADDRESS=2]="ADDRESS",eg[eg.ANNOTATION_XML=3]="ANNOTATION_XML",eg[eg.APPLET=4]="APPLET",eg[eg.AREA=5]="AREA",eg[eg.ARTICLE=6]="ARTICLE",eg[eg.ASIDE=7]="ASIDE",eg[eg.B=8]="B",eg[eg.BASE=9]="BASE",eg[eg.BASEFONT=10]="BASEFONT",eg[eg.BGSOUND=11]="BGSOUND",eg[eg.BIG=12]="BIG",eg[eg.BLOCKQUOTE=13]="BLOCKQUOTE",eg[eg.BODY=14]="BODY",eg[eg.BR=15]="BR",eg[eg.BUTTON=16]="BUTTON",eg[eg.CAPTION=17]="CAPTION",eg[eg.CENTER=18]="CENTER",eg[eg.CODE=19]="CODE",eg[eg.COL=20]="COL",eg[eg.COLGROUP=21]="COLGROUP",eg[eg.DD=22]="DD",eg[eg.DESC=23]="DESC",eg[eg.DETAILS=24]="DETAILS",eg[eg.DIALOG=25]="DIALOG",eg[eg.DIR=26]="DIR",eg[eg.DIV=27]="DIV",eg[eg.DL=28]="DL",eg[eg.DT=29]="DT",eg[eg.EM=30]="EM",eg[eg.EMBED=31]="EMBED",eg[eg.FIELDSET=32]="FIELDSET",eg[eg.FIGCAPTION=33]="FIGCAPTION",eg[eg.FIGURE=34]="FIGURE",eg[eg.FONT=35]="FONT",eg[eg.FOOTER=36]="FOOTER",eg[eg.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",eg[eg.FORM=38]="FORM",eg[eg.FRAME=39]="FRAME",eg[eg.FRAMESET=40]="FRAMESET",eg[eg.H1=41]="H1",eg[eg.H2=42]="H2",eg[eg.H3=43]="H3",eg[eg.H4=44]="H4",eg[eg.H5=45]="H5",eg[eg.H6=46]="H6",eg[eg.HEAD=47]="HEAD",eg[eg.HEADER=48]="HEADER",eg[eg.HGROUP=49]="HGROUP",eg[eg.HR=50]="HR",eg[eg.HTML=51]="HTML",eg[eg.I=52]="I",eg[eg.IMG=53]="IMG",eg[eg.IMAGE=54]="IMAGE",eg[eg.INPUT=55]="INPUT",eg[eg.IFRAME=56]="IFRAME",eg[eg.KEYGEN=57]="KEYGEN",eg[eg.LABEL=58]="LABEL",eg[eg.LI=59]="LI",eg[eg.LINK=60]="LINK",eg[eg.LISTING=61]="LISTING",eg[eg.MAIN=62]="MAIN",eg[eg.MALIGNMARK=63]="MALIGNMARK",eg[eg.MARQUEE=64]="MARQUEE",eg[eg.MATH=65]="MATH",eg[eg.MENU=66]="MENU",eg[eg.META=67]="META",eg[eg.MGLYPH=68]="MGLYPH",eg[eg.MI=69]="MI",eg[eg.MO=70]="MO",eg[eg.MN=71]="MN",eg[eg.MS=72]="MS",eg[eg.MTEXT=73]="MTEXT",eg[eg.NAV=74]="NAV",eg[eg.NOBR=75]="NOBR",eg[eg.NOFRAMES=76]="NOFRAMES",eg[eg.NOEMBED=77]="NOEMBED",eg[eg.NOSCRIPT=78]="NOSCRIPT",eg[eg.OBJECT=79]="OBJECT",eg[eg.OL=80]="OL",eg[eg.OPTGROUP=81]="OPTGROUP",eg[eg.OPTION=82]="OPTION",eg[eg.P=83]="P",eg[eg.PARAM=84]="PARAM",eg[eg.PLAINTEXT=85]="PLAINTEXT",eg[eg.PRE=86]="PRE",eg[eg.RB=87]="RB",eg[eg.RP=88]="RP",eg[eg.RT=89]="RT",eg[eg.RTC=90]="RTC",eg[eg.RUBY=91]="RUBY",eg[eg.S=92]="S",eg[eg.SCRIPT=93]="SCRIPT",eg[eg.SECTION=94]="SECTION",eg[eg.SELECT=95]="SELECT",eg[eg.SOURCE=96]="SOURCE",eg[eg.SMALL=97]="SMALL",eg[eg.SPAN=98]="SPAN",eg[eg.STRIKE=99]="STRIKE",eg[eg.STRONG=100]="STRONG",eg[eg.STYLE=101]="STYLE",eg[eg.SUB=102]="SUB",eg[eg.SUMMARY=103]="SUMMARY",eg[eg.SUP=104]="SUP",eg[eg.TABLE=105]="TABLE",eg[eg.TBODY=106]="TBODY",eg[eg.TEMPLATE=107]="TEMPLATE",eg[eg.TEXTAREA=108]="TEXTAREA",eg[eg.TFOOT=109]="TFOOT",eg[eg.TD=110]="TD",eg[eg.TH=111]="TH",eg[eg.THEAD=112]="THEAD",eg[eg.TITLE=113]="TITLE",eg[eg.TR=114]="TR",eg[eg.TRACK=115]="TRACK",eg[eg.TT=116]="TT",eg[eg.U=117]="U",eg[eg.UL=118]="UL",eg[eg.SVG=119]="SVG",eg[eg.VAR=120]="VAR",eg[eg.WBR=121]="WBR",eg[eg.XMP=122]="XMP";let iy=new Map([[eF.A,eB.A],[eF.ADDRESS,eB.ADDRESS],[eF.ANNOTATION_XML,eB.ANNOTATION_XML],[eF.APPLET,eB.APPLET],[eF.AREA,eB.AREA],[eF.ARTICLE,eB.ARTICLE],[eF.ASIDE,eB.ASIDE],[eF.B,eB.B],[eF.BASE,eB.BASE],[eF.BASEFONT,eB.BASEFONT],[eF.BGSOUND,eB.BGSOUND],[eF.BIG,eB.BIG],[eF.BLOCKQUOTE,eB.BLOCKQUOTE],[eF.BODY,eB.BODY],[eF.BR,eB.BR],[eF.BUTTON,eB.BUTTON],[eF.CAPTION,eB.CAPTION],[eF.CENTER,eB.CENTER],[eF.CODE,eB.CODE],[eF.COL,eB.COL],[eF.COLGROUP,eB.COLGROUP],[eF.DD,eB.DD],[eF.DESC,eB.DESC],[eF.DETAILS,eB.DETAILS],[eF.DIALOG,eB.DIALOG],[eF.DIR,eB.DIR],[eF.DIV,eB.DIV],[eF.DL,eB.DL],[eF.DT,eB.DT],[eF.EM,eB.EM],[eF.EMBED,eB.EMBED],[eF.FIELDSET,eB.FIELDSET],[eF.FIGCAPTION,eB.FIGCAPTION],[eF.FIGURE,eB.FIGURE],[eF.FONT,eB.FONT],[eF.FOOTER,eB.FOOTER],[eF.FOREIGN_OBJECT,eB.FOREIGN_OBJECT],[eF.FORM,eB.FORM],[eF.FRAME,eB.FRAME],[eF.FRAMESET,eB.FRAMESET],[eF.H1,eB.H1],[eF.H2,eB.H2],[eF.H3,eB.H3],[eF.H4,eB.H4],[eF.H5,eB.H5],[eF.H6,eB.H6],[eF.HEAD,eB.HEAD],[eF.HEADER,eB.HEADER],[eF.HGROUP,eB.HGROUP],[eF.HR,eB.HR],[eF.HTML,eB.HTML],[eF.I,eB.I],[eF.IMG,eB.IMG],[eF.IMAGE,eB.IMAGE],[eF.INPUT,eB.INPUT],[eF.IFRAME,eB.IFRAME],[eF.KEYGEN,eB.KEYGEN],[eF.LABEL,eB.LABEL],[eF.LI,eB.LI],[eF.LINK,eB.LINK],[eF.LISTING,eB.LISTING],[eF.MAIN,eB.MAIN],[eF.MALIGNMARK,eB.MALIGNMARK],[eF.MARQUEE,eB.MARQUEE],[eF.MATH,eB.MATH],[eF.MENU,eB.MENU],[eF.META,eB.META],[eF.MGLYPH,eB.MGLYPH],[eF.MI,eB.MI],[eF.MO,eB.MO],[eF.MN,eB.MN],[eF.MS,eB.MS],[eF.MTEXT,eB.MTEXT],[eF.NAV,eB.NAV],[eF.NOBR,eB.NOBR],[eF.NOFRAMES,eB.NOFRAMES],[eF.NOEMBED,eB.NOEMBED],[eF.NOSCRIPT,eB.NOSCRIPT],[eF.OBJECT,eB.OBJECT],[eF.OL,eB.OL],[eF.OPTGROUP,eB.OPTGROUP],[eF.OPTION,eB.OPTION],[eF.P,eB.P],[eF.PARAM,eB.PARAM],[eF.PLAINTEXT,eB.PLAINTEXT],[eF.PRE,eB.PRE],[eF.RB,eB.RB],[eF.RP,eB.RP],[eF.RT,eB.RT],[eF.RTC,eB.RTC],[eF.RUBY,eB.RUBY],[eF.S,eB.S],[eF.SCRIPT,eB.SCRIPT],[eF.SECTION,eB.SECTION],[eF.SELECT,eB.SELECT],[eF.SOURCE,eB.SOURCE],[eF.SMALL,eB.SMALL],[eF.SPAN,eB.SPAN],[eF.STRIKE,eB.STRIKE],[eF.STRONG,eB.STRONG],[eF.STYLE,eB.STYLE],[eF.SUB,eB.SUB],[eF.SUMMARY,eB.SUMMARY],[eF.SUP,eB.SUP],[eF.TABLE,eB.TABLE],[eF.TBODY,eB.TBODY],[eF.TEMPLATE,eB.TEMPLATE],[eF.TEXTAREA,eB.TEXTAREA],[eF.TFOOT,eB.TFOOT],[eF.TD,eB.TD],[eF.TH,eB.TH],[eF.THEAD,eB.THEAD],[eF.TITLE,eB.TITLE],[eF.TR,eB.TR],[eF.TRACK,eB.TRACK],[eF.TT,eB.TT],[eF.U,eB.U],[eF.UL,eB.UL],[eF.SVG,eB.SVG],[eF.VAR,eB.VAR],[eF.WBR,eB.WBR],[eF.XMP,eB.XMP]]);function getTagID(A){var B;return null!==(B=iy.get(A))&&void 0!==B?B:eB.UNKNOWN}let iv=eB,iT={[eL.HTML]:new Set([iv.ADDRESS,iv.APPLET,iv.AREA,iv.ARTICLE,iv.ASIDE,iv.BASE,iv.BASEFONT,iv.BGSOUND,iv.BLOCKQUOTE,iv.BODY,iv.BR,iv.BUTTON,iv.CAPTION,iv.CENTER,iv.COL,iv.COLGROUP,iv.DD,iv.DETAILS,iv.DIR,iv.DIV,iv.DL,iv.DT,iv.EMBED,iv.FIELDSET,iv.FIGCAPTION,iv.FIGURE,iv.FOOTER,iv.FORM,iv.FRAME,iv.FRAMESET,iv.H1,iv.H2,iv.H3,iv.H4,iv.H5,iv.H6,iv.HEAD,iv.HEADER,iv.HGROUP,iv.HR,iv.HTML,iv.IFRAME,iv.IMG,iv.INPUT,iv.LI,iv.LINK,iv.LISTING,iv.MAIN,iv.MARQUEE,iv.MENU,iv.META,iv.NAV,iv.NOEMBED,iv.NOFRAMES,iv.NOSCRIPT,iv.OBJECT,iv.OL,iv.P,iv.PARAM,iv.PLAINTEXT,iv.PRE,iv.SCRIPT,iv.SECTION,iv.SELECT,iv.SOURCE,iv.STYLE,iv.SUMMARY,iv.TABLE,iv.TBODY,iv.TD,iv.TEMPLATE,iv.TEXTAREA,iv.TFOOT,iv.TH,iv.THEAD,iv.TITLE,iv.TR,iv.TRACK,iv.UL,iv.WBR,iv.XMP]),[eL.MATHML]:new Set([iv.MI,iv.MO,iv.MN,iv.MS,iv.MTEXT,iv.ANNOTATION_XML]),[eL.SVG]:new Set([iv.TITLE,iv.FOREIGN_OBJECT,iv.DESC]),[eL.XLINK]:new Set,[eL.XML]:new Set,[eL.XMLNS]:new Set};function isNumberedHeader(A){return A===iv.H1||A===iv.H2||A===iv.H3||A===iv.H4||A===iv.H5||A===iv.H6}eF.STYLE,eF.SCRIPT,eF.XMP,eF.IFRAME,eF.NOEMBED,eF.NOFRAMES,eF.PLAINTEXT;let ib=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(e_=eU||(eU={}))[e_.DATA=0]="DATA",e_[e_.RCDATA=1]="RCDATA",e_[e_.RAWTEXT=2]="RAWTEXT",e_[e_.SCRIPT_DATA=3]="SCRIPT_DATA",e_[e_.PLAINTEXT=4]="PLAINTEXT",e_[e_.TAG_OPEN=5]="TAG_OPEN",e_[e_.END_TAG_OPEN=6]="END_TAG_OPEN",e_[e_.TAG_NAME=7]="TAG_NAME",e_[e_.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e_[e_.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e_[e_.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e_[e_.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e_[e_.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e_[e_.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e_[e_.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e_[e_.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e_[e_.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e_[e_.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e_[e_.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e_[e_.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e_[e_.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e_[e_.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e_[e_.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e_[e_.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e_[e_.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e_[e_.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e_[e_.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e_[e_.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e_[e_.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e_[e_.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e_[e_.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e_[e_.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e_[e_.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e_[e_.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e_[e_.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e_[e_.BOGUS_COMMENT=40]="BOGUS_COMMENT",e_[e_.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e_[e_.COMMENT_START=42]="COMMENT_START",e_[e_.COMMENT_START_DASH=43]="COMMENT_START_DASH",e_[e_.COMMENT=44]="COMMENT",e_[e_.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e_[e_.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e_[e_.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e_[e_.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e_[e_.COMMENT_END_DASH=49]="COMMENT_END_DASH",e_[e_.COMMENT_END=50]="COMMENT_END",e_[e_.COMMENT_END_BANG=51]="COMMENT_END_BANG",e_[e_.DOCTYPE=52]="DOCTYPE",e_[e_.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e_[e_.DOCTYPE_NAME=54]="DOCTYPE_NAME",e_[e_.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e_[e_.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e_[e_.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e_[e_.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e_[e_.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e_[e_.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e_[e_.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e_[e_.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e_[e_.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e_[e_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e_[e_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e_[e_.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e_[e_.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e_[e_.CDATA_SECTION=68]="CDATA_SECTION",e_[e_.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e_[e_.CDATA_SECTION_END=70]="CDATA_SECTION_END",e_[e_.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e_[e_.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e_[e_.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e_[e_.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e_[e_.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e_[e_.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e_[e_.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e_[e_.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let ik={DATA:eU.DATA,RCDATA:eU.RCDATA,RAWTEXT:eU.RAWTEXT,SCRIPT_DATA:eU.SCRIPT_DATA,PLAINTEXT:eU.PLAINTEXT,CDATA_SECTION:eU.CDATA_SECTION};function isAsciiDigit(A){return A>=eC.DIGIT_0&&A<=eC.DIGIT_9}function isAsciiUpper(A){return A>=eC.LATIN_CAPITAL_A&&A<=eC.LATIN_CAPITAL_Z}function isAsciiLetter(A){return A>=eC.LATIN_SMALL_A&&A<=eC.LATIN_SMALL_Z||isAsciiUpper(A)}function tokenizer_isAsciiAlphaNumeric(A){return isAsciiLetter(A)||isAsciiDigit(A)}function isAsciiUpperHexDigit(A){return A>=eC.LATIN_CAPITAL_A&&A<=eC.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(A){return A>=eC.LATIN_SMALL_A&&A<=eC.LATIN_SMALL_F}function isWhitespace(A){return A===eC.SPACE||A===eC.LINE_FEED||A===eC.TABULATION||A===eC.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(A){return isWhitespace(A)||A===eC.SOLIDUS||A===eC.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(A,B){this.options=A,this.handler=B,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=eU.DATA,this.returnState=eU.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(B),this.currentLocation=this.getCurrentLocation(-1)}_err(A){var B,H;null===(H=(B=this.handler).onParseError)||void 0===H||H.call(B,this.preprocessor.getError(A))}getCurrentLocation(A){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-A,startOffset:this.preprocessor.offset-A,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let A=this._consume();this._ensureHibernation()||this._callState(A)}this.inLoop=!1}}pause(){this.paused=!0}resume(A){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==A||A())}write(A,B,H){this.active=!0,this.preprocessor.write(A,B),this._runParsingLoop(),this.paused||null==H||H()}insertHtmlAtCurrentPos(A){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(A),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(A){this.consumedAfterSnapshot-=A,this.preprocessor.retreat(A)}_reconsumeInState(A,B){this.state=A,this._callState(B)}_advanceBy(A){this.consumedAfterSnapshot+=A;for(let B=0;B<A;B++)this.preprocessor.advance()}_consumeSequenceIfMatch(A,B){return!!this.preprocessor.startsWith(A,B)&&(this._advanceBy(A.length-1),!0)}_createStartTagToken(){this.currentToken={type:ew.START_TAG,tagName:"",tagID:eB.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ew.END_TAG,tagName:"",tagID:eB.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(A){this.currentToken={type:ew.COMMENT,data:"",location:this.getCurrentLocation(A)}}_createDoctypeToken(A){this.currentToken={type:ew.DOCTYPE,name:A,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(A,B){this.currentCharacterToken={type:A,chars:B,location:this.currentLocation}}_createAttr(A){this.currentAttr={name:A,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var A,B;let H=this.currentToken;if(null===getTokenAttr(H,this.currentAttr.name)){if(H.attrs.push(this.currentAttr),H.location&&this.currentLocation){let $=null!==(A=(B=H.location).attrs)&&void 0!==A?A:B.attrs=Object.create(null);$[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ex.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(A){this._emitCurrentCharacterToken(A.location),this.currentToken=null,A.location&&(A.location.endLine=this.preprocessor.line,A.location.endCol=this.preprocessor.col+1,A.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let A=this.currentToken;this.prepareToken(A),A.tagID=getTagID(A.tagName),A.type===ew.START_TAG?(this.lastStartTagName=A.tagName,this.handler.onStartTag(A)):(A.attrs.length>0&&this._err(ex.endTagWithAttributes),A.selfClosing&&this._err(ex.endTagWithTrailingSolidus),this.handler.onEndTag(A)),this.preprocessor.dropParsedChunk()}emitCurrentComment(A){this.prepareToken(A),this.handler.onComment(A),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(A){this.prepareToken(A),this.handler.onDoctype(A),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(A){if(this.currentCharacterToken){switch(A&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=A.startLine,this.currentCharacterToken.location.endCol=A.startCol,this.currentCharacterToken.location.endOffset=A.startOffset),this.currentCharacterToken.type){case ew.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case ew.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case ew.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let A=this.getCurrentLocation(0);A&&(A.endLine=A.startLine,A.endCol=A.startCol,A.endOffset=A.startOffset),this._emitCurrentCharacterToken(A),this.handler.onEof({type:ew.EOF,location:A}),this.active=!1}_appendCharToCurrentCharacterToken(A,B){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==A)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=B;return}}this._createCharacterToken(A,B)}_emitCodePoint(A){let B=isWhitespace(A)?ew.WHITESPACE_CHARACTER:A===eC.NULL?ew.NULL_CHARACTER:ew.CHARACTER;this._appendCharToCurrentCharacterToken(B,String.fromCodePoint(A))}_emitChars(A){this._appendCharToCurrentCharacterToken(ew.CHARACTER,A)}_matchNamedCharacterReference(A){let B=null,H=0,$=!1;for(let K=0,et=im[0];K>=0&&!((K=determineBranch(im,et,K+1,A))<0);A=this._consume()){H+=1,et=im[K];let en=et&eR.VALUE_LENGTH;if(en){var W;let et=(en>>14)-1;if(A!==eC.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((W=this.preprocessor.peek(1))===eC.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(W))?(B=[eC.AMPERSAND],K+=et):(B=0===et?[im[K]&~eR.VALUE_LENGTH]:1===et?[im[++K]]:[im[++K],im[++K]],H=0,$=A!==eC.SEMICOLON),0===et){this._consume();break}}}return this._unconsume(H),$&&!this.preprocessor.endOfChunkHit&&this._err(ex.missingSemicolonAfterCharacterReference),this._unconsume(1),B}_isCharacterReferenceInAttribute(){return this.returnState===eU.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===eU.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===eU.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(A){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(A):this._emitCodePoint(A)}_callState(A){switch(this.state){case eU.DATA:this._stateData(A);break;case eU.RCDATA:this._stateRcdata(A);break;case eU.RAWTEXT:this._stateRawtext(A);break;case eU.SCRIPT_DATA:this._stateScriptData(A);break;case eU.PLAINTEXT:this._statePlaintext(A);break;case eU.TAG_OPEN:this._stateTagOpen(A);break;case eU.END_TAG_OPEN:this._stateEndTagOpen(A);break;case eU.TAG_NAME:this._stateTagName(A);break;case eU.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(A);break;case eU.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(A);break;case eU.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(A);break;case eU.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(A);break;case eU.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(A);break;case eU.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(A);break;case eU.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(A);break;case eU.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(A);break;case eU.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(A);break;case eU.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(A);break;case eU.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(A);break;case eU.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(A);break;case eU.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(A);break;case eU.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(A);break;case eU.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(A);break;case eU.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(A);break;case eU.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(A);break;case eU.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(A);break;case eU.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(A);break;case eU.ATTRIBUTE_NAME:this._stateAttributeName(A);break;case eU.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(A);break;case eU.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(A);break;case eU.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(A);break;case eU.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(A);break;case eU.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(A);break;case eU.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(A);break;case eU.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(A);break;case eU.BOGUS_COMMENT:this._stateBogusComment(A);break;case eU.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(A);break;case eU.COMMENT_START:this._stateCommentStart(A);break;case eU.COMMENT_START_DASH:this._stateCommentStartDash(A);break;case eU.COMMENT:this._stateComment(A);break;case eU.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(A);break;case eU.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(A);break;case eU.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(A);break;case eU.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(A);break;case eU.COMMENT_END_DASH:this._stateCommentEndDash(A);break;case eU.COMMENT_END:this._stateCommentEnd(A);break;case eU.COMMENT_END_BANG:this._stateCommentEndBang(A);break;case eU.DOCTYPE:this._stateDoctype(A);break;case eU.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(A);break;case eU.DOCTYPE_NAME:this._stateDoctypeName(A);break;case eU.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(A);break;case eU.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(A);break;case eU.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(A);break;case eU.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(A);break;case eU.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(A);break;case eU.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(A);break;case eU.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(A);break;case eU.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(A);break;case eU.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(A);break;case eU.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(A);break;case eU.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(A);break;case eU.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(A);break;case eU.BOGUS_DOCTYPE:this._stateBogusDoctype(A);break;case eU.CDATA_SECTION:this._stateCdataSection(A);break;case eU.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(A);break;case eU.CDATA_SECTION_END:this._stateCdataSectionEnd(A);break;case eU.CHARACTER_REFERENCE:this._stateCharacterReference(A);break;case eU.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(A);break;case eU.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(A);break;case eU.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(A);break;case eU.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(A);break;case eU.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(A);break;case eU.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(A);break;case eU.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(A);break;default:throw Error("Unknown state")}}_stateData(A){switch(A){case eC.LESS_THAN_SIGN:this.state=eU.TAG_OPEN;break;case eC.AMPERSAND:this.returnState=eU.DATA,this.state=eU.CHARACTER_REFERENCE;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitCodePoint(A);break;case eC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateRcdata(A){switch(A){case eC.AMPERSAND:this.returnState=eU.RCDATA,this.state=eU.CHARACTER_REFERENCE;break;case eC.LESS_THAN_SIGN:this.state=eU.RCDATA_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateRawtext(A){switch(A){case eC.LESS_THAN_SIGN:this.state=eU.RAWTEXT_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateScriptData(A){switch(A){case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(A)}}_statePlaintext(A){switch(A){case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateTagOpen(A){if(isAsciiLetter(A))this._createStartTagToken(),this.state=eU.TAG_NAME,this._stateTagName(A);else switch(A){case eC.EXCLAMATION_MARK:this.state=eU.MARKUP_DECLARATION_OPEN;break;case eC.SOLIDUS:this.state=eU.END_TAG_OPEN;break;case eC.QUESTION_MARK:this._err(ex.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=eU.BOGUS_COMMENT,this._stateBogusComment(A);break;case eC.EOF:this._err(ex.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(ex.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=eU.DATA,this._stateData(A)}}_stateEndTagOpen(A){if(isAsciiLetter(A))this._createEndTagToken(),this.state=eU.TAG_NAME,this._stateTagName(A);else switch(A){case eC.GREATER_THAN_SIGN:this._err(ex.missingEndTagName),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(ex.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=eU.BOGUS_COMMENT,this._stateBogusComment(A)}}_stateTagName(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.BEFORE_ATTRIBUTE_NAME;break;case eC.SOLIDUS:this.state=eU.SELF_CLOSING_START_TAG;break;case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentTagToken();break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.tagName+="�";break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:B.tagName+=String.fromCodePoint(isAsciiUpper(A)?A+32:A)}}_stateRcdataLessThanSign(A){A===eC.SOLIDUS?this.state=eU.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=eU.RCDATA,this._stateRcdata(A))}_stateRcdataEndTagOpen(A){isAsciiLetter(A)?(this.state=eU.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(A)):(this._emitChars("</"),this.state=eU.RCDATA,this._stateRcdata(A))}handleSpecialEndTag(A){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let B=this.currentToken;B.tagName=this.lastStartTagName;let H=this.preprocessor.peek(this.lastStartTagName.length);switch(H){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=eU.BEFORE_ATTRIBUTE_NAME,!1;case eC.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=eU.SELF_CLOSING_START_TAG,!1;case eC.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=eU.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(A){this.handleSpecialEndTag(A)&&(this._emitChars("</"),this.state=eU.RCDATA,this._stateRcdata(A))}_stateRawtextLessThanSign(A){A===eC.SOLIDUS?this.state=eU.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=eU.RAWTEXT,this._stateRawtext(A))}_stateRawtextEndTagOpen(A){isAsciiLetter(A)?(this.state=eU.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(A)):(this._emitChars("</"),this.state=eU.RAWTEXT,this._stateRawtext(A))}_stateRawtextEndTagName(A){this.handleSpecialEndTag(A)&&(this._emitChars("</"),this.state=eU.RAWTEXT,this._stateRawtext(A))}_stateScriptDataLessThanSign(A){switch(A){case eC.SOLIDUS:this.state=eU.SCRIPT_DATA_END_TAG_OPEN;break;case eC.EXCLAMATION_MARK:this.state=eU.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=eU.SCRIPT_DATA,this._stateScriptData(A)}}_stateScriptDataEndTagOpen(A){isAsciiLetter(A)?(this.state=eU.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(A)):(this._emitChars("</"),this.state=eU.SCRIPT_DATA,this._stateScriptData(A))}_stateScriptDataEndTagName(A){this.handleSpecialEndTag(A)&&(this._emitChars("</"),this.state=eU.SCRIPT_DATA,this._stateScriptData(A))}_stateScriptDataEscapeStart(A){A===eC.HYPHEN_MINUS?(this.state=eU.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=eU.SCRIPT_DATA,this._stateScriptData(A))}_stateScriptDataEscapeStartDash(A){A===eC.HYPHEN_MINUS?(this.state=eU.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=eU.SCRIPT_DATA,this._stateScriptData(A))}_stateScriptDataEscaped(A){switch(A){case eC.HYPHEN_MINUS:this.state=eU.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateScriptDataEscapedDash(A){switch(A){case eC.HYPHEN_MINUS:this.state=eU.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.state=eU.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eU.SCRIPT_DATA_ESCAPED,this._emitCodePoint(A)}}_stateScriptDataEscapedDashDash(A){switch(A){case eC.HYPHEN_MINUS:this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eC.GREATER_THAN_SIGN:this.state=eU.SCRIPT_DATA,this._emitChars(">");break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.state=eU.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eU.SCRIPT_DATA_ESCAPED,this._emitCodePoint(A)}}_stateScriptDataEscapedLessThanSign(A){A===eC.SOLIDUS?this.state=eU.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(A)?(this._emitChars("<"),this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(A)):(this._emitChars("<"),this.state=eU.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(A))}_stateScriptDataEscapedEndTagOpen(A){isAsciiLetter(A)?(this.state=eU.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(A)):(this._emitChars("</"),this.state=eU.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(A))}_stateScriptDataEscapedEndTagName(A){this.handleSpecialEndTag(A)&&(this._emitChars("</"),this.state=eU.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(A))}_stateScriptDataDoubleEscapeStart(A){if(this.preprocessor.startsWith(ip.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(ip.SCRIPT.length))){this._emitCodePoint(A);for(let A=0;A<ip.SCRIPT.length;A++)this._emitCodePoint(this._consume());this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=eU.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(A))}_stateScriptDataDoubleEscaped(A){switch(A){case eC.HYPHEN_MINUS:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateScriptDataDoubleEscapedDash(A){switch(A){case eC.HYPHEN_MINUS:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(A)}}_stateScriptDataDoubleEscapedDashDash(A){switch(A){case eC.HYPHEN_MINUS:this._emitChars("-");break;case eC.LESS_THAN_SIGN:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eC.GREATER_THAN_SIGN:this.state=eU.SCRIPT_DATA,this._emitChars(">");break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case eC.EOF:this._err(ex.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(A)}}_stateScriptDataDoubleEscapedLessThanSign(A){A===eC.SOLIDUS?(this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(A))}_stateScriptDataDoubleEscapeEnd(A){if(this.preprocessor.startsWith(ip.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(ip.SCRIPT.length))){this._emitCodePoint(A);for(let A=0;A<ip.SCRIPT.length;A++)this._emitCodePoint(this._consume());this.state=eU.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=eU.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(A))}_stateBeforeAttributeName(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.SOLIDUS:case eC.GREATER_THAN_SIGN:case eC.EOF:this.state=eU.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(A);break;case eC.EQUALS_SIGN:this._err(ex.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=eU.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=eU.ATTRIBUTE_NAME,this._stateAttributeName(A)}}_stateAttributeName(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:case eC.SOLIDUS:case eC.GREATER_THAN_SIGN:case eC.EOF:this._leaveAttrName(),this.state=eU.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(A);break;case eC.EQUALS_SIGN:this._leaveAttrName(),this.state=eU.BEFORE_ATTRIBUTE_VALUE;break;case eC.QUOTATION_MARK:case eC.APOSTROPHE:case eC.LESS_THAN_SIGN:this._err(ex.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(A);break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.currentAttr.name+="�";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(A)?A+32:A)}}_stateAfterAttributeName(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.SOLIDUS:this.state=eU.SELF_CLOSING_START_TAG;break;case eC.EQUALS_SIGN:this.state=eU.BEFORE_ATTRIBUTE_VALUE;break;case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentTagToken();break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=eU.ATTRIBUTE_NAME,this._stateAttributeName(A)}}_stateBeforeAttributeValue(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.QUOTATION_MARK:this.state=eU.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case eC.APOSTROPHE:this.state=eU.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case eC.GREATER_THAN_SIGN:this._err(ex.missingAttributeValue),this.state=eU.DATA,this.emitCurrentTagToken();break;default:this.state=eU.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(A)}}_stateAttributeValueDoubleQuoted(A){switch(A){case eC.QUOTATION_MARK:this.state=eU.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case eC.AMPERSAND:this.returnState=eU.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=eU.CHARACTER_REFERENCE;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.currentAttr.value+="�";break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(A)}}_stateAttributeValueSingleQuoted(A){switch(A){case eC.APOSTROPHE:this.state=eU.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case eC.AMPERSAND:this.returnState=eU.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=eU.CHARACTER_REFERENCE;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.currentAttr.value+="�";break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(A)}}_stateAttributeValueUnquoted(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this._leaveAttrValue(),this.state=eU.BEFORE_ATTRIBUTE_NAME;break;case eC.AMPERSAND:this.returnState=eU.ATTRIBUTE_VALUE_UNQUOTED,this.state=eU.CHARACTER_REFERENCE;break;case eC.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eU.DATA,this.emitCurrentTagToken();break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this.currentAttr.value+="�";break;case eC.QUOTATION_MARK:case eC.APOSTROPHE:case eC.LESS_THAN_SIGN:case eC.EQUALS_SIGN:case eC.GRAVE_ACCENT:this._err(ex.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(A);break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(A)}}_stateAfterAttributeValueQuoted(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this._leaveAttrValue(),this.state=eU.BEFORE_ATTRIBUTE_NAME;break;case eC.SOLIDUS:this._leaveAttrValue(),this.state=eU.SELF_CLOSING_START_TAG;break;case eC.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=eU.DATA,this.emitCurrentTagToken();break;case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this._err(ex.missingWhitespaceBetweenAttributes),this.state=eU.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(A)}}_stateSelfClosingStartTag(A){switch(A){case eC.GREATER_THAN_SIGN:{let A=this.currentToken;A.selfClosing=!0,this.state=eU.DATA,this.emitCurrentTagToken();break}case eC.EOF:this._err(ex.eofInTag),this._emitEOFToken();break;default:this._err(ex.unexpectedSolidusInTag),this.state=eU.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(A)}}_stateBogusComment(A){let B=this.currentToken;switch(A){case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentComment(B);break;case eC.EOF:this.emitCurrentComment(B),this._emitEOFToken();break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.data+="�";break;default:B.data+=String.fromCodePoint(A)}}_stateMarkupDeclarationOpen(A){this._consumeSequenceIfMatch(ip.DASH_DASH,!0)?(this._createCommentToken(ip.DASH_DASH.length+1),this.state=eU.COMMENT_START):this._consumeSequenceIfMatch(ip.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ip.DOCTYPE.length+1),this.state=eU.DOCTYPE):this._consumeSequenceIfMatch(ip.CDATA_START,!0)?this.inForeignNode?this.state=eU.CDATA_SECTION:(this._err(ex.cdataInHtmlContent),this._createCommentToken(ip.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=eU.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ex.incorrectlyOpenedComment),this._createCommentToken(2),this.state=eU.BOGUS_COMMENT,this._stateBogusComment(A))}_stateCommentStart(A){switch(A){case eC.HYPHEN_MINUS:this.state=eU.COMMENT_START_DASH;break;case eC.GREATER_THAN_SIGN:{this._err(ex.abruptClosingOfEmptyComment),this.state=eU.DATA;let A=this.currentToken;this.emitCurrentComment(A);break}default:this.state=eU.COMMENT,this._stateComment(A)}}_stateCommentStartDash(A){let B=this.currentToken;switch(A){case eC.HYPHEN_MINUS:this.state=eU.COMMENT_END;break;case eC.GREATER_THAN_SIGN:this._err(ex.abruptClosingOfEmptyComment),this.state=eU.DATA,this.emitCurrentComment(B);break;case eC.EOF:this._err(ex.eofInComment),this.emitCurrentComment(B),this._emitEOFToken();break;default:B.data+="-",this.state=eU.COMMENT,this._stateComment(A)}}_stateComment(A){let B=this.currentToken;switch(A){case eC.HYPHEN_MINUS:this.state=eU.COMMENT_END_DASH;break;case eC.LESS_THAN_SIGN:B.data+="<",this.state=eU.COMMENT_LESS_THAN_SIGN;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.data+="�";break;case eC.EOF:this._err(ex.eofInComment),this.emitCurrentComment(B),this._emitEOFToken();break;default:B.data+=String.fromCodePoint(A)}}_stateCommentLessThanSign(A){let B=this.currentToken;switch(A){case eC.EXCLAMATION_MARK:B.data+="!",this.state=eU.COMMENT_LESS_THAN_SIGN_BANG;break;case eC.LESS_THAN_SIGN:B.data+="<";break;default:this.state=eU.COMMENT,this._stateComment(A)}}_stateCommentLessThanSignBang(A){A===eC.HYPHEN_MINUS?this.state=eU.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=eU.COMMENT,this._stateComment(A))}_stateCommentLessThanSignBangDash(A){A===eC.HYPHEN_MINUS?this.state=eU.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=eU.COMMENT_END_DASH,this._stateCommentEndDash(A))}_stateCommentLessThanSignBangDashDash(A){A!==eC.GREATER_THAN_SIGN&&A!==eC.EOF&&this._err(ex.nestedComment),this.state=eU.COMMENT_END,this._stateCommentEnd(A)}_stateCommentEndDash(A){let B=this.currentToken;switch(A){case eC.HYPHEN_MINUS:this.state=eU.COMMENT_END;break;case eC.EOF:this._err(ex.eofInComment),this.emitCurrentComment(B),this._emitEOFToken();break;default:B.data+="-",this.state=eU.COMMENT,this._stateComment(A)}}_stateCommentEnd(A){let B=this.currentToken;switch(A){case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentComment(B);break;case eC.EXCLAMATION_MARK:this.state=eU.COMMENT_END_BANG;break;case eC.HYPHEN_MINUS:B.data+="-";break;case eC.EOF:this._err(ex.eofInComment),this.emitCurrentComment(B),this._emitEOFToken();break;default:B.data+="--",this.state=eU.COMMENT,this._stateComment(A)}}_stateCommentEndBang(A){let B=this.currentToken;switch(A){case eC.HYPHEN_MINUS:B.data+="--!",this.state=eU.COMMENT_END_DASH;break;case eC.GREATER_THAN_SIGN:this._err(ex.incorrectlyClosedComment),this.state=eU.DATA,this.emitCurrentComment(B);break;case eC.EOF:this._err(ex.eofInComment),this.emitCurrentComment(B),this._emitEOFToken();break;default:B.data+="--!",this.state=eU.COMMENT,this._stateComment(A)}}_stateDoctype(A){switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.BEFORE_DOCTYPE_NAME;break;case eC.GREATER_THAN_SIGN:this.state=eU.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(A);break;case eC.EOF:{this._err(ex.eofInDoctype),this._createDoctypeToken(null);let A=this.currentToken;A.forceQuirks=!0,this.emitCurrentDoctype(A),this._emitEOFToken();break}default:this._err(ex.missingWhitespaceBeforeDoctypeName),this.state=eU.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(A)}}_stateBeforeDoctypeName(A){if(isAsciiUpper(A))this._createDoctypeToken(String.fromCharCode(A+32)),this.state=eU.DOCTYPE_NAME;else switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.NULL:this._err(ex.unexpectedNullCharacter),this._createDoctypeToken("�"),this.state=eU.DOCTYPE_NAME;break;case eC.GREATER_THAN_SIGN:{this._err(ex.missingDoctypeName),this._createDoctypeToken(null);let A=this.currentToken;A.forceQuirks=!0,this.emitCurrentDoctype(A),this.state=eU.DATA;break}case eC.EOF:{this._err(ex.eofInDoctype),this._createDoctypeToken(null);let A=this.currentToken;A.forceQuirks=!0,this.emitCurrentDoctype(A),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(A)),this.state=eU.DOCTYPE_NAME}}_stateDoctypeName(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.AFTER_DOCTYPE_NAME;break;case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.name+="�";break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:B.name+=String.fromCodePoint(isAsciiUpper(A)?A+32:A)}}_stateAfterDoctypeName(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(ip.PUBLIC,!1)?this.state=eU.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ip.SYSTEM,!1)?this.state=eU.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ex.invalidCharacterSequenceAfterDoctypeName),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A))}}_stateAfterDoctypePublicKeyword(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case eC.QUOTATION_MARK:this._err(ex.missingWhitespaceAfterDoctypePublicKeyword),B.publicId="",this.state=eU.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:this._err(ex.missingWhitespaceAfterDoctypePublicKeyword),B.publicId="",this.state=eU.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case eC.GREATER_THAN_SIGN:this._err(ex.missingDoctypePublicIdentifier),B.forceQuirks=!0,this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypePublicIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateBeforeDoctypePublicIdentifier(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.QUOTATION_MARK:B.publicId="",this.state=eU.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:B.publicId="",this.state=eU.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case eC.GREATER_THAN_SIGN:this._err(ex.missingDoctypePublicIdentifier),B.forceQuirks=!0,this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypePublicIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateDoctypePublicIdentifierDoubleQuoted(A){let B=this.currentToken;switch(A){case eC.QUOTATION_MARK:this.state=eU.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.publicId+="�";break;case eC.GREATER_THAN_SIGN:this._err(ex.abruptDoctypePublicIdentifier),B.forceQuirks=!0,this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:B.publicId+=String.fromCodePoint(A)}}_stateDoctypePublicIdentifierSingleQuoted(A){let B=this.currentToken;switch(A){case eC.APOSTROPHE:this.state=eU.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.publicId+="�";break;case eC.GREATER_THAN_SIGN:this._err(ex.abruptDoctypePublicIdentifier),B.forceQuirks=!0,this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:B.publicId+=String.fromCodePoint(A)}}_stateAfterDoctypePublicIdentifier(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case eC.GREATER_THAN_SIGN:this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.QUOTATION_MARK:this._err(ex.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:this._err(ex.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateBetweenDoctypePublicAndSystemIdentifiers(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.GREATER_THAN_SIGN:this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.QUOTATION_MARK:B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateAfterDoctypeSystemKeyword(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:this.state=eU.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case eC.QUOTATION_MARK:this._err(ex.missingWhitespaceAfterDoctypeSystemKeyword),B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:this._err(ex.missingWhitespaceAfterDoctypeSystemKeyword),B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eC.GREATER_THAN_SIGN:this._err(ex.missingDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateBeforeDoctypeSystemIdentifier(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.QUOTATION_MARK:B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eC.APOSTROPHE:B.systemId="",this.state=eU.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eC.GREATER_THAN_SIGN:this._err(ex.missingDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.DATA,this.emitCurrentDoctype(B);break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.missingQuoteBeforeDoctypeSystemIdentifier),B.forceQuirks=!0,this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateDoctypeSystemIdentifierDoubleQuoted(A){let B=this.currentToken;switch(A){case eC.QUOTATION_MARK:this.state=eU.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.systemId+="�";break;case eC.GREATER_THAN_SIGN:this._err(ex.abruptDoctypeSystemIdentifier),B.forceQuirks=!0,this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:B.systemId+=String.fromCodePoint(A)}}_stateDoctypeSystemIdentifierSingleQuoted(A){let B=this.currentToken;switch(A){case eC.APOSTROPHE:this.state=eU.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case eC.NULL:this._err(ex.unexpectedNullCharacter),B.systemId+="�";break;case eC.GREATER_THAN_SIGN:this._err(ex.abruptDoctypeSystemIdentifier),B.forceQuirks=!0,this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:B.systemId+=String.fromCodePoint(A)}}_stateAfterDoctypeSystemIdentifier(A){let B=this.currentToken;switch(A){case eC.SPACE:case eC.LINE_FEED:case eC.TABULATION:case eC.FORM_FEED:break;case eC.GREATER_THAN_SIGN:this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.EOF:this._err(ex.eofInDoctype),B.forceQuirks=!0,this.emitCurrentDoctype(B),this._emitEOFToken();break;default:this._err(ex.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=eU.BOGUS_DOCTYPE,this._stateBogusDoctype(A)}}_stateBogusDoctype(A){let B=this.currentToken;switch(A){case eC.GREATER_THAN_SIGN:this.emitCurrentDoctype(B),this.state=eU.DATA;break;case eC.NULL:this._err(ex.unexpectedNullCharacter);break;case eC.EOF:this.emitCurrentDoctype(B),this._emitEOFToken()}}_stateCdataSection(A){switch(A){case eC.RIGHT_SQUARE_BRACKET:this.state=eU.CDATA_SECTION_BRACKET;break;case eC.EOF:this._err(ex.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(A)}}_stateCdataSectionBracket(A){A===eC.RIGHT_SQUARE_BRACKET?this.state=eU.CDATA_SECTION_END:(this._emitChars("]"),this.state=eU.CDATA_SECTION,this._stateCdataSection(A))}_stateCdataSectionEnd(A){switch(A){case eC.GREATER_THAN_SIGN:this.state=eU.DATA;break;case eC.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=eU.CDATA_SECTION,this._stateCdataSection(A)}}_stateCharacterReference(A){A===eC.NUMBER_SIGN?this.state=eU.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(A)?(this.state=eU.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(A)):(this._flushCodePointConsumedAsCharacterReference(eC.AMPERSAND),this._reconsumeInState(this.returnState,A))}_stateNamedCharacterReference(A){let B=this._matchNamedCharacterReference(A);if(this._ensureHibernation());else if(B){for(let A=0;A<B.length;A++)this._flushCodePointConsumedAsCharacterReference(B[A]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(eC.AMPERSAND),this.state=eU.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(A){tokenizer_isAsciiAlphaNumeric(A)?this._flushCodePointConsumedAsCharacterReference(A):(A===eC.SEMICOLON&&this._err(ex.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,A))}_stateNumericCharacterReference(A){this.charRefCode=0,A===eC.LATIN_SMALL_X||A===eC.LATIN_CAPITAL_X?this.state=eU.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(A)?(this.state=eU.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(A)):(this._err(ex.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(eC.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(eC.NUMBER_SIGN),this._reconsumeInState(this.returnState,A))}_stateHexademicalCharacterReferenceStart(A){isAsciiDigit(A)||isAsciiUpperHexDigit(A)||isAsciiLowerHexDigit(A)?(this.state=eU.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(A)):(this._err(ex.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(eC.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(eC.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(A){isAsciiUpperHexDigit(A)?this.charRefCode=16*this.charRefCode+A-55:isAsciiLowerHexDigit(A)?this.charRefCode=16*this.charRefCode+A-87:isAsciiDigit(A)?this.charRefCode=16*this.charRefCode+A-48:A===eC.SEMICOLON?this.state=eU.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ex.missingSemicolonAfterCharacterReference),this.state=eU.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(A))}_stateDecimalCharacterReference(A){isAsciiDigit(A)?this.charRefCode=10*this.charRefCode+A-48:A===eC.SEMICOLON?this.state=eU.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ex.missingSemicolonAfterCharacterReference),this.state=eU.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(A))}_stateNumericCharacterReferenceEnd(A){if(this.charRefCode===eC.NULL)this._err(ex.nullCharacterReference),this.charRefCode=eC.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ex.characterReferenceOutsideUnicodeRange),this.charRefCode=eC.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(ex.surrogateCharacterReference),this.charRefCode=eC.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(ex.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===eC.CARRIAGE_RETURN){this._err(ex.controlCharacterReference);let A=ib.get(this.charRefCode);void 0!==A&&(this.charRefCode=A)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,A)}};let iA=new Set([eB.DD,eB.DT,eB.LI,eB.OPTGROUP,eB.OPTION,eB.P,eB.RB,eB.RP,eB.RT,eB.RTC]),iS=new Set([...iA,eB.CAPTION,eB.COLGROUP,eB.TBODY,eB.TD,eB.TFOOT,eB.TH,eB.THEAD,eB.TR]),iC=new Map([[eB.APPLET,eL.HTML],[eB.CAPTION,eL.HTML],[eB.HTML,eL.HTML],[eB.MARQUEE,eL.HTML],[eB.OBJECT,eL.HTML],[eB.TABLE,eL.HTML],[eB.TD,eL.HTML],[eB.TEMPLATE,eL.HTML],[eB.TH,eL.HTML],[eB.ANNOTATION_XML,eL.MATHML],[eB.MI,eL.MATHML],[eB.MN,eL.MATHML],[eB.MO,eL.MATHML],[eB.MS,eL.MATHML],[eB.MTEXT,eL.MATHML],[eB.DESC,eL.SVG],[eB.FOREIGN_OBJECT,eL.SVG],[eB.TITLE,eL.SVG]]),ix=[eB.H1,eB.H2,eB.H3,eB.H4,eB.H5,eB.H6],iw=[eB.TR,eB.TEMPLATE,eB.HTML],iI=[eB.TBODY,eB.TFOOT,eB.THEAD,eB.TEMPLATE,eB.HTML],iO=[eB.TABLE,eB.TEMPLATE,eB.HTML],iR=[eB.TD,eB.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(A,B,H){this.treeAdapter=B,this.handler=H,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=eB.UNKNOWN,this.current=A}_indexOf(A){return this.items.lastIndexOf(A,this.stackTop)}_isInTemplate(){return this.currentTagId===eB.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===eL.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(A,B){this.stackTop++,this.items[this.stackTop]=A,this.current=A,this.tagIDs[this.stackTop]=B,this.currentTagId=B,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(A,B,!0)}pop(){let A=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(A,!0)}replace(A,B){let H=this._indexOf(A);this.items[H]=B,H===this.stackTop&&(this.current=B)}insertAfter(A,B,H){let $=this._indexOf(A)+1;this.items.splice($,0,B),this.tagIDs.splice($,0,H),this.stackTop++,$===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,$===this.stackTop)}popUntilTagNamePopped(A){let B=this.stackTop+1;do B=this.tagIDs.lastIndexOf(A,B-1);while(B>0&&this.treeAdapter.getNamespaceURI(this.items[B])!==eL.HTML);this.shortenToLength(B<0?0:B)}shortenToLength(A){for(;this.stackTop>=A;){let B=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(B,this.stackTop<A)}}popUntilElementPopped(A){let B=this._indexOf(A);this.shortenToLength(B<0?0:B)}popUntilPopped(A,B){let H=this._indexOfTagNames(A,B);this.shortenToLength(H<0?0:H)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ix,eL.HTML)}popUntilTableCellPopped(){this.popUntilPopped(iR,eL.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(A,B){for(let H=this.stackTop;H>=0;H--)if(A.includes(this.tagIDs[H])&&this.treeAdapter.getNamespaceURI(this.items[H])===B)return H;return -1}clearBackTo(A,B){let H=this._indexOfTagNames(A,B);this.shortenToLength(H+1)}clearBackToTableContext(){this.clearBackTo(iO,eL.HTML)}clearBackToTableBodyContext(){this.clearBackTo(iI,eL.HTML)}clearBackToTableRowContext(){this.clearBackTo(iw,eL.HTML)}remove(A){let B=this._indexOf(A);B>=0&&(B===this.stackTop?this.pop():(this.items.splice(B,1),this.tagIDs.splice(B,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(A,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===eB.BODY?this.items[1]:null}contains(A){return this._indexOf(A)>-1}getCommonAncestor(A){let B=this._indexOf(A)-1;return B>=0?this.items[B]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===eB.HTML}hasInScope(A){for(let B=this.stackTop;B>=0;B--){let H=this.tagIDs[B],$=this.treeAdapter.getNamespaceURI(this.items[B]);if(H===A&&$===eL.HTML)break;if(iC.get(H)===$)return!1}return!0}hasNumberedHeaderInScope(){for(let A=this.stackTop;A>=0;A--){let B=this.tagIDs[A],H=this.treeAdapter.getNamespaceURI(this.items[A]);if(isNumberedHeader(B)&&H===eL.HTML)break;if(iC.get(B)===H)return!1}return!0}hasInListItemScope(A){for(let B=this.stackTop;B>=0;B--){let H=this.tagIDs[B],$=this.treeAdapter.getNamespaceURI(this.items[B]);if(H===A&&$===eL.HTML)break;if((H===eB.UL||H===eB.OL)&&$===eL.HTML||iC.get(H)===$)return!1}return!0}hasInButtonScope(A){for(let B=this.stackTop;B>=0;B--){let H=this.tagIDs[B],$=this.treeAdapter.getNamespaceURI(this.items[B]);if(H===A&&$===eL.HTML)break;if(H===eB.BUTTON&&$===eL.HTML||iC.get(H)===$)return!1}return!0}hasInTableScope(A){for(let B=this.stackTop;B>=0;B--){let H=this.tagIDs[B],$=this.treeAdapter.getNamespaceURI(this.items[B]);if($===eL.HTML){if(H===A)break;if(H===eB.TABLE||H===eB.TEMPLATE||H===eB.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let A=this.stackTop;A>=0;A--){let B=this.tagIDs[A],H=this.treeAdapter.getNamespaceURI(this.items[A]);if(H===eL.HTML){if(B===eB.TBODY||B===eB.THEAD||B===eB.TFOOT)break;if(B===eB.TABLE||B===eB.HTML)return!1}}return!0}hasInSelectScope(A){for(let B=this.stackTop;B>=0;B--){let H=this.tagIDs[B],$=this.treeAdapter.getNamespaceURI(this.items[B]);if($===eL.HTML){if(H===A)break;if(H!==eB.OPTION&&H!==eB.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;iA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;iS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(A){for(;this.currentTagId!==A&&iS.has(this.currentTagId);)this.pop()}};(eE=eH=eH||(eH={}))[eE.Marker=0]="Marker",eE[eE.Element=1]="Element";let iN={type:eH.Marker};let FormattingElementList=class FormattingElementList{constructor(A){this.treeAdapter=A,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(A,B){let H=[],$=B.length,W=this.treeAdapter.getTagName(A),K=this.treeAdapter.getNamespaceURI(A);for(let A=0;A<this.entries.length;A++){let B=this.entries[A];if(B.type===eH.Marker)break;let{element:et}=B;if(this.treeAdapter.getTagName(et)===W&&this.treeAdapter.getNamespaceURI(et)===K){let B=this.treeAdapter.getAttrList(et);B.length===$&&H.push({idx:A,attrs:B})}}return H}_ensureNoahArkCondition(A){if(this.entries.length<3)return;let B=this.treeAdapter.getAttrList(A),H=this._getNoahArkConditionCandidates(A,B);if(H.length<3)return;let $=new Map(B.map(A=>[A.name,A.value])),W=0;for(let A=0;A<H.length;A++){let B=H[A];B.attrs.every(A=>$.get(A.name)===A.value)&&(W+=1)>=3&&this.entries.splice(B.idx,1)}}insertMarker(){this.entries.unshift(iN)}pushElement(A,B){this._ensureNoahArkCondition(A),this.entries.unshift({type:eH.Element,element:A,token:B})}insertElementAfterBookmark(A,B){let H=this.entries.indexOf(this.bookmark);this.entries.splice(H,0,{type:eH.Element,element:A,token:B})}removeEntry(A){let B=this.entries.indexOf(A);B>=0&&this.entries.splice(B,1)}clearToLastMarker(){let A=this.entries.indexOf(iN);A>=0?this.entries.splice(0,A+1):this.entries.length=0}getElementEntryInScopeWithTagName(A){let B=this.entries.find(B=>B.type===eH.Marker||this.treeAdapter.getTagName(B.element)===A);return B&&B.type===eH.Element?B:null}getElementEntry(A){return this.entries.find(B=>B.type===eH.Element&&B.element===A)}};function createTextNode(A){return{nodeName:"#text",value:A,parentNode:null}}let iD={createDocument:()=>({nodeName:"#document",mode:eM.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(A,B,H)=>({nodeName:A,tagName:A,attrs:H,namespaceURI:B,childNodes:[],parentNode:null}),createCommentNode:A=>({nodeName:"#comment",data:A,parentNode:null}),appendChild(A,B){A.childNodes.push(B),B.parentNode=A},insertBefore(A,B,H){let $=A.childNodes.indexOf(H);A.childNodes.splice($,0,B),B.parentNode=A},setTemplateContent(A,B){A.content=B},getTemplateContent:A=>A.content,setDocumentType(A,B,H,$){let W=A.childNodes.find(A=>"#documentType"===A.nodeName);W?(W.name=B,W.publicId=H,W.systemId=$):iD.appendChild(A,{nodeName:"#documentType",name:B,publicId:H,systemId:$,parentNode:null})},setDocumentMode(A,B){A.mode=B},getDocumentMode:A=>A.mode,detachNode(A){if(A.parentNode){let B=A.parentNode.childNodes.indexOf(A);A.parentNode.childNodes.splice(B,1),A.parentNode=null}},insertText(A,B){if(A.childNodes.length>0){let H=A.childNodes[A.childNodes.length-1];if(iD.isTextNode(H)){H.value+=B;return}}iD.appendChild(A,createTextNode(B))},insertTextBefore(A,B,H){let $=A.childNodes[A.childNodes.indexOf(H)-1];$&&iD.isTextNode($)?$.value+=B:iD.insertBefore(A,createTextNode(B),H)},adoptAttributes(A,B){let H=new Set(A.attrs.map(A=>A.name));for(let $=0;$<B.length;$++)H.has(B[$].name)||A.attrs.push(B[$])},getFirstChild:A=>A.childNodes[0],getChildNodes:A=>A.childNodes,getParentNode:A=>A.parentNode,getAttrList:A=>A.attrs,getTagName:A=>A.tagName,getNamespaceURI:A=>A.namespaceURI,getTextNodeContent:A=>A.value,getCommentNodeContent:A=>A.data,getDocumentTypeNodeName:A=>A.name,getDocumentTypeNodePublicId:A=>A.publicId,getDocumentTypeNodeSystemId:A=>A.systemId,isTextNode:A=>"#text"===A.nodeName,isCommentNode:A=>"#comment"===A.nodeName,isDocumentTypeNode:A=>"#documentType"===A.nodeName,isElementNode:A=>Object.prototype.hasOwnProperty.call(A,"tagName"),setNodeSourceCodeLocation(A,B){A.sourceCodeLocation=B},getNodeSourceCodeLocation:A=>A.sourceCodeLocation,updateNodeSourceCodeLocation(A,B){A.sourceCodeLocation={...A.sourceCodeLocation,...B}}},iL="html",iP=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],iM=[...iP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],iF=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),iB=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],iU=[...iB,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(A,B){return B.some(B=>A.startsWith(B))}let iH={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},iz=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(A=>[A.toLowerCase(),A])),iG=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:eL.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:eL.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:eL.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:eL.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:eL.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:eL.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:eL.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:eL.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:eL.XML}],["xml:space",{prefix:"xml",name:"space",namespace:eL.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:eL.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:eL.XMLNS}]]),ij=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(A=>[A.toLowerCase(),A])),iV=new Set([eB.B,eB.BIG,eB.BLOCKQUOTE,eB.BODY,eB.BR,eB.CENTER,eB.CODE,eB.DD,eB.DIV,eB.DL,eB.DT,eB.EM,eB.EMBED,eB.H1,eB.H2,eB.H3,eB.H4,eB.H5,eB.H6,eB.HEAD,eB.HR,eB.I,eB.IMG,eB.LI,eB.LISTING,eB.MENU,eB.META,eB.NOBR,eB.OL,eB.P,eB.PRE,eB.RUBY,eB.S,eB.SMALL,eB.SPAN,eB.STRONG,eB.STRIKE,eB.SUB,eB.SUP,eB.TABLE,eB.TT,eB.U,eB.UL,eB.VAR]);function adjustTokenMathMLAttrs(A){for(let B=0;B<A.attrs.length;B++)if("definitionurl"===A.attrs[B].name){A.attrs[B].name="definitionURL";break}}function adjustTokenSVGAttrs(A){for(let B=0;B<A.attrs.length;B++){let H=iz.get(A.attrs[B].name);null!=H&&(A.attrs[B].name=H)}}function adjustTokenXMLAttrs(A){for(let B=0;B<A.attrs.length;B++){let H=iG.get(A.attrs[B].name);H&&(A.attrs[B].prefix=H.prefix,A.attrs[B].name=H.name,A.attrs[B].namespace=H.namespace)}}(ey=ez||(ez={}))[ey.INITIAL=0]="INITIAL",ey[ey.BEFORE_HTML=1]="BEFORE_HTML",ey[ey.BEFORE_HEAD=2]="BEFORE_HEAD",ey[ey.IN_HEAD=3]="IN_HEAD",ey[ey.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",ey[ey.AFTER_HEAD=5]="AFTER_HEAD",ey[ey.IN_BODY=6]="IN_BODY",ey[ey.TEXT=7]="TEXT",ey[ey.IN_TABLE=8]="IN_TABLE",ey[ey.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",ey[ey.IN_CAPTION=10]="IN_CAPTION",ey[ey.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",ey[ey.IN_TABLE_BODY=12]="IN_TABLE_BODY",ey[ey.IN_ROW=13]="IN_ROW",ey[ey.IN_CELL=14]="IN_CELL",ey[ey.IN_SELECT=15]="IN_SELECT",ey[ey.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",ey[ey.IN_TEMPLATE=17]="IN_TEMPLATE",ey[ey.AFTER_BODY=18]="AFTER_BODY",ey[ey.IN_FRAMESET=19]="IN_FRAMESET",ey[ey.AFTER_FRAMESET=20]="AFTER_FRAMESET",ey[ey.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",ey[ey.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let i$={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},iQ=new Set([eB.TABLE,eB.TBODY,eB.TFOOT,eB.THEAD,eB.TR]),iq={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:iD,onParseError:null};let parser_Parser=class parser_Parser{constructor(A,B,H=null,$=null){this.fragmentContext=H,this.scriptHandler=$,this.currentToken=null,this.stopped=!1,this.insertionMode=ez.INITIAL,this.originalInsertionMode=ez.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...iq,...A},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=B?B:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=H?getTagID(this.treeAdapter.getTagName(H)):eB.UNKNOWN,this._setContextModes(null!=H?H:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(A,B){let H=new this(B);return H.tokenizer.write(A,!0),H.document}static getFragmentParser(A,B){let H={...iq,...B};null!=A||(A=H.treeAdapter.createElement(eF.TEMPLATE,eL.HTML,[]));let $=H.treeAdapter.createElement("documentmock",eL.HTML,[]),W=new this(H,$,A);return W.fragmentContextID===eB.TEMPLATE&&W.tmplInsertionModeStack.unshift(ez.IN_TEMPLATE),W._initTokenizerForFragmentParsing(),W._insertFakeRootElement(),W._resetInsertionMode(),W._findFormInFragmentContext(),W}getFragment(){let A=this.treeAdapter.getFirstChild(this.document),B=this.treeAdapter.createDocumentFragment();return this._adoptNodes(A,B),B}_err(A,B,H){var $;if(!this.onParseError)return;let W=null!==($=A.location)&&void 0!==$?$:i$,K={code:B,startLine:W.startLine,startCol:W.startCol,startOffset:W.startOffset,endLine:H?W.startLine:W.endLine,endCol:H?W.startCol:W.endCol,endOffset:H?W.startOffset:W.endOffset};this.onParseError(K)}onItemPush(A,B,H){var $,W;null===(W=($=this.treeAdapter).onItemPush)||void 0===W||W.call($,A),H&&this.openElements.stackTop>0&&this._setContextModes(A,B)}onItemPop(A,B){var H,$;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(A,this.currentToken),null===($=(H=this.treeAdapter).onItemPop)||void 0===$||$.call(H,A,this.openElements.current),B){let A,B;0===this.openElements.stackTop&&this.fragmentContext?(A=this.fragmentContext,B=this.fragmentContextID):{current:A,currentTagId:B}=this.openElements,this._setContextModes(A,B)}}_setContextModes(A,B){let H=A===this.document||this.treeAdapter.getNamespaceURI(A)===eL.HTML;this.currentNotInHTML=!H,this.tokenizer.inForeignNode=!H&&!this._isIntegrationPoint(B,A)}_switchToTextParsing(A,B){this._insertElement(A,eL.HTML),this.tokenizer.state=B,this.originalInsertionMode=this.insertionMode,this.insertionMode=ez.TEXT}switchToPlaintextParsing(){this.insertionMode=ez.TEXT,this.originalInsertionMode=ez.IN_BODY,this.tokenizer.state=ik.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let A=this.fragmentContext;for(;A;){if(this.treeAdapter.getTagName(A)===eF.FORM){this.formElement=A;break}A=this.treeAdapter.getParentNode(A)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===eL.HTML)switch(this.fragmentContextID){case eB.TITLE:case eB.TEXTAREA:this.tokenizer.state=ik.RCDATA;break;case eB.STYLE:case eB.XMP:case eB.IFRAME:case eB.NOEMBED:case eB.NOFRAMES:case eB.NOSCRIPT:this.tokenizer.state=ik.RAWTEXT;break;case eB.SCRIPT:this.tokenizer.state=ik.SCRIPT_DATA;break;case eB.PLAINTEXT:this.tokenizer.state=ik.PLAINTEXT}}_setDocumentType(A){let B=A.name||"",H=A.publicId||"",$=A.systemId||"";if(this.treeAdapter.setDocumentType(this.document,B,H,$),A.location){let B=this.treeAdapter.getChildNodes(this.document),H=B.find(A=>this.treeAdapter.isDocumentTypeNode(A));H&&this.treeAdapter.setNodeSourceCodeLocation(H,A.location)}}_attachElementToTree(A,B){if(this.options.sourceCodeLocationInfo){let H=B&&{...B,startTag:B};this.treeAdapter.setNodeSourceCodeLocation(A,H)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(A);else{let B=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(B,A)}}_appendElement(A,B){let H=this.treeAdapter.createElement(A.tagName,B,A.attrs);this._attachElementToTree(H,A.location)}_insertElement(A,B){let H=this.treeAdapter.createElement(A.tagName,B,A.attrs);this._attachElementToTree(H,A.location),this.openElements.push(H,A.tagID)}_insertFakeElement(A,B){let H=this.treeAdapter.createElement(A,eL.HTML,[]);this._attachElementToTree(H,null),this.openElements.push(H,B)}_insertTemplate(A){let B=this.treeAdapter.createElement(A.tagName,eL.HTML,A.attrs),H=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(B,H),this._attachElementToTree(B,A.location),this.openElements.push(B,A.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(H,null)}_insertFakeRootElement(){let A=this.treeAdapter.createElement(eF.HTML,eL.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(A,null),this.treeAdapter.appendChild(this.openElements.current,A),this.openElements.push(A,eB.HTML)}_appendCommentNode(A,B){let H=this.treeAdapter.createCommentNode(A.data);this.treeAdapter.appendChild(B,H),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(H,A.location)}_insertCharacters(A){let B,H;if(this._shouldFosterParentOnInsertion()?({parent:B,beforeElement:H}=this._findFosterParentingLocation(),H?this.treeAdapter.insertTextBefore(B,A.chars,H):this.treeAdapter.insertText(B,A.chars)):(B=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(B,A.chars)),!A.location)return;let $=this.treeAdapter.getChildNodes(B),W=H?$.lastIndexOf(H):$.length,K=$[W-1],et=this.treeAdapter.getNodeSourceCodeLocation(K);if(et){let{endLine:B,endCol:H,endOffset:$}=A.location;this.treeAdapter.updateNodeSourceCodeLocation(K,{endLine:B,endCol:H,endOffset:$})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(K,A.location)}_adoptNodes(A,B){for(let H=this.treeAdapter.getFirstChild(A);H;H=this.treeAdapter.getFirstChild(A))this.treeAdapter.detachNode(H),this.treeAdapter.appendChild(B,H)}_setEndLocation(A,B){if(this.treeAdapter.getNodeSourceCodeLocation(A)&&B.location){let H=B.location,$=this.treeAdapter.getTagName(A),W=B.type===ew.END_TAG&&$===B.tagName?{endTag:{...H},endLine:H.endLine,endCol:H.endCol,endOffset:H.endOffset}:{endLine:H.startLine,endCol:H.startCol,endOffset:H.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(A,W)}}shouldProcessStartTagTokenInForeignContent(A){let B,H;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(B=this.fragmentContext,H=this.fragmentContextID):{current:B,currentTagId:H}=this.openElements,(A.tagID!==eB.SVG||this.treeAdapter.getTagName(B)!==eF.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(B)!==eL.MATHML)&&(this.tokenizer.inForeignNode||(A.tagID===eB.MGLYPH||A.tagID===eB.MALIGNMARK)&&!this._isIntegrationPoint(H,B,eL.HTML)))}_processToken(A){switch(A.type){case ew.CHARACTER:this.onCharacter(A);break;case ew.NULL_CHARACTER:this.onNullCharacter(A);break;case ew.COMMENT:this.onComment(A);break;case ew.DOCTYPE:this.onDoctype(A);break;case ew.START_TAG:this._processStartTag(A);break;case ew.END_TAG:this.onEndTag(A);break;case ew.EOF:this.onEof(A);break;case ew.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(A)}}_isIntegrationPoint(A,B,H){let $=this.treeAdapter.getNamespaceURI(B),W=this.treeAdapter.getAttrList(B);return(!H||H===eL.HTML)&&function(A,B,H){if(B===eL.MATHML&&A===eB.ANNOTATION_XML){for(let A=0;A<H.length;A++)if(H[A].name===eP.ENCODING){let B=H[A].value.toLowerCase();return B===iH.TEXT_HTML||B===iH.APPLICATION_XML}}return B===eL.SVG&&(A===eB.FOREIGN_OBJECT||A===eB.DESC||A===eB.TITLE)}(A,$,W)||(!H||H===eL.MATHML)&&$===eL.MATHML&&(A===eB.MI||A===eB.MO||A===eB.MN||A===eB.MS||A===eB.MTEXT)}_reconstructActiveFormattingElements(){let A=this.activeFormattingElements.entries.length;if(A){let B=this.activeFormattingElements.entries.findIndex(A=>A.type===eH.Marker||this.openElements.contains(A.element)),H=B<0?A-1:B-1;for(let A=H;A>=0;A--){let B=this.activeFormattingElements.entries[A];this._insertElement(B.token,this.treeAdapter.getNamespaceURI(B.element)),B.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ez.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(eB.P),this.openElements.popUntilTagNamePopped(eB.P)}_resetInsertionMode(){for(let A=this.openElements.stackTop;A>=0;A--)switch(0===A&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[A]){case eB.TR:this.insertionMode=ez.IN_ROW;return;case eB.TBODY:case eB.THEAD:case eB.TFOOT:this.insertionMode=ez.IN_TABLE_BODY;return;case eB.CAPTION:this.insertionMode=ez.IN_CAPTION;return;case eB.COLGROUP:this.insertionMode=ez.IN_COLUMN_GROUP;return;case eB.TABLE:this.insertionMode=ez.IN_TABLE;return;case eB.BODY:this.insertionMode=ez.IN_BODY;return;case eB.FRAMESET:this.insertionMode=ez.IN_FRAMESET;return;case eB.SELECT:this._resetInsertionModeForSelect(A);return;case eB.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case eB.HTML:this.insertionMode=this.headElement?ez.AFTER_HEAD:ez.BEFORE_HEAD;return;case eB.TD:case eB.TH:if(A>0){this.insertionMode=ez.IN_CELL;return}break;case eB.HEAD:if(A>0){this.insertionMode=ez.IN_HEAD;return}}this.insertionMode=ez.IN_BODY}_resetInsertionModeForSelect(A){if(A>0)for(let B=A-1;B>0;B--){let A=this.openElements.tagIDs[B];if(A===eB.TEMPLATE)break;if(A===eB.TABLE){this.insertionMode=ez.IN_SELECT_IN_TABLE;return}}this.insertionMode=ez.IN_SELECT}_isElementCausesFosterParenting(A){return iQ.has(A)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let A=this.openElements.stackTop;A>=0;A--){let B=this.openElements.items[A];switch(this.openElements.tagIDs[A]){case eB.TEMPLATE:if(this.treeAdapter.getNamespaceURI(B)===eL.HTML)return{parent:this.treeAdapter.getTemplateContent(B),beforeElement:null};break;case eB.TABLE:{let H=this.treeAdapter.getParentNode(B);if(H)return{parent:H,beforeElement:B};return{parent:this.openElements.items[A-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(A){let B=this._findFosterParentingLocation();B.beforeElement?this.treeAdapter.insertBefore(B.parent,A,B.beforeElement):this.treeAdapter.appendChild(B.parent,A)}_isSpecialElement(A,B){let H=this.treeAdapter.getNamespaceURI(A);return iT[H].has(B)}onCharacter(A){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(A),this.framesetOk=!1;return}switch(this.insertionMode){case ez.INITIAL:tokenInInitialMode(this,A);break;case ez.BEFORE_HTML:tokenBeforeHtml(this,A);break;case ez.BEFORE_HEAD:tokenBeforeHead(this,A);break;case ez.IN_HEAD:tokenInHead(this,A);break;case ez.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,A);break;case ez.AFTER_HEAD:tokenAfterHead(this,A);break;case ez.IN_BODY:case ez.IN_CAPTION:case ez.IN_CELL:case ez.IN_TEMPLATE:characterInBody(this,A);break;case ez.TEXT:case ez.IN_SELECT:case ez.IN_SELECT_IN_TABLE:this._insertCharacters(A);break;case ez.IN_TABLE:case ez.IN_TABLE_BODY:case ez.IN_ROW:characterInTable(this,A);break;case ez.IN_TABLE_TEXT:characterInTableText(this,A);break;case ez.IN_COLUMN_GROUP:tokenInColumnGroup(this,A);break;case ez.AFTER_BODY:tokenAfterBody(this,A);break;case ez.AFTER_AFTER_BODY:tokenAfterAfterBody(this,A)}}onNullCharacter(A){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){A.chars="�",this._insertCharacters(A);return}switch(this.insertionMode){case ez.INITIAL:tokenInInitialMode(this,A);break;case ez.BEFORE_HTML:tokenBeforeHtml(this,A);break;case ez.BEFORE_HEAD:tokenBeforeHead(this,A);break;case ez.IN_HEAD:tokenInHead(this,A);break;case ez.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,A);break;case ez.AFTER_HEAD:tokenAfterHead(this,A);break;case ez.TEXT:this._insertCharacters(A);break;case ez.IN_TABLE:case ez.IN_TABLE_BODY:case ez.IN_ROW:characterInTable(this,A);break;case ez.IN_COLUMN_GROUP:tokenInColumnGroup(this,A);break;case ez.AFTER_BODY:tokenAfterBody(this,A);break;case ez.AFTER_AFTER_BODY:tokenAfterAfterBody(this,A)}}onComment(A){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,A);return}switch(this.insertionMode){case ez.INITIAL:case ez.BEFORE_HTML:case ez.BEFORE_HEAD:case ez.IN_HEAD:case ez.IN_HEAD_NO_SCRIPT:case ez.AFTER_HEAD:case ez.IN_BODY:case ez.IN_TABLE:case ez.IN_CAPTION:case ez.IN_COLUMN_GROUP:case ez.IN_TABLE_BODY:case ez.IN_ROW:case ez.IN_CELL:case ez.IN_SELECT:case ez.IN_SELECT_IN_TABLE:case ez.IN_TEMPLATE:case ez.IN_FRAMESET:case ez.AFTER_FRAMESET:appendComment(this,A);break;case ez.IN_TABLE_TEXT:tokenInTableText(this,A);break;case ez.AFTER_BODY:!function(A,B){A._appendCommentNode(B,A.openElements.items[0])}(this,A);break;case ez.AFTER_AFTER_BODY:case ez.AFTER_AFTER_FRAMESET:!function(A,B){A._appendCommentNode(B,A.document)}(this,A)}}onDoctype(A){switch(this.skipNextNewLine=!1,this.insertionMode){case ez.INITIAL:!function(A,B){A._setDocumentType(B);let H=B.forceQuirks?eM.QUIRKS:function(A){if(A.name!==iL)return eM.QUIRKS;let{systemId:B}=A;if(B&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===B.toLowerCase())return eM.QUIRKS;let{publicId:H}=A;if(null!==H){if(H=H.toLowerCase(),iF.has(H))return eM.QUIRKS;let A=null===B?iM:iP;if(hasPrefix(H,A))return eM.QUIRKS;if(hasPrefix(H,A=null===B?iB:iU))return eM.LIMITED_QUIRKS}return eM.NO_QUIRKS}(B);B.name===iL&&null===B.publicId&&(null===B.systemId||"about:legacy-compat"===B.systemId)||A._err(B,ex.nonConformingDoctype),A.treeAdapter.setDocumentMode(A.document,H),A.insertionMode=ez.BEFORE_HTML}(this,A);break;case ez.BEFORE_HEAD:case ez.IN_HEAD:case ez.IN_HEAD_NO_SCRIPT:case ez.AFTER_HEAD:this._err(A,ex.misplacedDoctype);break;case ez.IN_TABLE_TEXT:tokenInTableText(this,A)}}onStartTag(A){this.skipNextNewLine=!1,this.currentToken=A,this._processStartTag(A),A.selfClosing&&!A.ackSelfClosing&&this._err(A,ex.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(A){this.shouldProcessStartTagTokenInForeignContent(A)?function(A,B){if(function(A){let B=A.tagID,H=B===eB.FONT&&A.attrs.some(({name:A})=>A===eP.COLOR||A===eP.SIZE||A===eP.FACE);return H||iV.has(B)}(B))popUntilHtmlOrIntegrationPoint(A),A._startTagOutsideForeignContent(B);else{let H=A._getAdjustedCurrentElement(),$=A.treeAdapter.getNamespaceURI(H);$===eL.MATHML?adjustTokenMathMLAttrs(B):$===eL.SVG&&(function(A){let B=ij.get(A.tagName);null!=B&&(A.tagName=B,A.tagID=getTagID(A.tagName))}(B),adjustTokenSVGAttrs(B)),adjustTokenXMLAttrs(B),B.selfClosing?A._appendElement(B,$):A._insertElement(B,$),B.ackSelfClosing=!0}}(this,A):this._startTagOutsideForeignContent(A)}_startTagOutsideForeignContent(A){switch(this.insertionMode){case ez.INITIAL:tokenInInitialMode(this,A);break;case ez.BEFORE_HTML:A.tagID===eB.HTML?(this._insertElement(A,eL.HTML),this.insertionMode=ez.BEFORE_HEAD):tokenBeforeHtml(this,A);break;case ez.BEFORE_HEAD:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.HEAD:A._insertElement(B,eL.HTML),A.headElement=A.openElements.current,A.insertionMode=ez.IN_HEAD;break;default:tokenBeforeHead(A,B)}}(this,A);break;case ez.IN_HEAD:startTagInHead(this,A);break;case ez.IN_HEAD_NO_SCRIPT:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.BASEFONT:case eB.BGSOUND:case eB.HEAD:case eB.LINK:case eB.META:case eB.NOFRAMES:case eB.STYLE:startTagInHead(A,B);break;case eB.NOSCRIPT:A._err(B,ex.nestedNoscriptInHead);break;default:tokenInHeadNoScript(A,B)}}(this,A);break;case ez.AFTER_HEAD:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.BODY:A._insertElement(B,eL.HTML),A.framesetOk=!1,A.insertionMode=ez.IN_BODY;break;case eB.FRAMESET:A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_FRAMESET;break;case eB.BASE:case eB.BASEFONT:case eB.BGSOUND:case eB.LINK:case eB.META:case eB.NOFRAMES:case eB.SCRIPT:case eB.STYLE:case eB.TEMPLATE:case eB.TITLE:A._err(B,ex.abandonedHeadElementChild),A.openElements.push(A.headElement,eB.HEAD),startTagInHead(A,B),A.openElements.remove(A.headElement);break;case eB.HEAD:A._err(B,ex.misplacedStartTagForHeadElement);break;default:tokenAfterHead(A,B)}}(this,A);break;case ez.IN_BODY:startTagInBody(this,A);break;case ez.IN_TABLE:startTagInTable(this,A);break;case ez.IN_TABLE_TEXT:tokenInTableText(this,A);break;case ez.IN_CAPTION:!function(A,B){let H=B.tagID;iY.has(H)?A.openElements.hasInTableScope(eB.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(eB.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=ez.IN_TABLE,startTagInTable(A,B)):startTagInBody(A,B)}(this,A);break;case ez.IN_COLUMN_GROUP:startTagInColumnGroup(this,A);break;case ez.IN_TABLE_BODY:startTagInTableBody(this,A);break;case ez.IN_ROW:startTagInRow(this,A);break;case ez.IN_CELL:!function(A,B){let H=B.tagID;iY.has(H)?(A.openElements.hasInTableScope(eB.TD)||A.openElements.hasInTableScope(eB.TH))&&(A._closeTableCell(),startTagInRow(A,B)):startTagInBody(A,B)}(this,A);break;case ez.IN_SELECT:startTagInSelect(this,A);break;case ez.IN_SELECT_IN_TABLE:!function(A,B){let H=B.tagID;H===eB.CAPTION||H===eB.TABLE||H===eB.TBODY||H===eB.TFOOT||H===eB.THEAD||H===eB.TR||H===eB.TD||H===eB.TH?(A.openElements.popUntilTagNamePopped(eB.SELECT),A._resetInsertionMode(),A._processStartTag(B)):startTagInSelect(A,B)}(this,A);break;case ez.IN_TEMPLATE:!function(A,B){switch(B.tagID){case eB.BASE:case eB.BASEFONT:case eB.BGSOUND:case eB.LINK:case eB.META:case eB.NOFRAMES:case eB.SCRIPT:case eB.STYLE:case eB.TEMPLATE:case eB.TITLE:startTagInHead(A,B);break;case eB.CAPTION:case eB.COLGROUP:case eB.TBODY:case eB.TFOOT:case eB.THEAD:A.tmplInsertionModeStack[0]=ez.IN_TABLE,A.insertionMode=ez.IN_TABLE,startTagInTable(A,B);break;case eB.COL:A.tmplInsertionModeStack[0]=ez.IN_COLUMN_GROUP,A.insertionMode=ez.IN_COLUMN_GROUP,startTagInColumnGroup(A,B);break;case eB.TR:A.tmplInsertionModeStack[0]=ez.IN_TABLE_BODY,A.insertionMode=ez.IN_TABLE_BODY,startTagInTableBody(A,B);break;case eB.TD:case eB.TH:A.tmplInsertionModeStack[0]=ez.IN_ROW,A.insertionMode=ez.IN_ROW,startTagInRow(A,B);break;default:A.tmplInsertionModeStack[0]=ez.IN_BODY,A.insertionMode=ez.IN_BODY,startTagInBody(A,B)}}(this,A);break;case ez.AFTER_BODY:A.tagID===eB.HTML?startTagInBody(this,A):tokenAfterBody(this,A);break;case ez.IN_FRAMESET:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.FRAMESET:A._insertElement(B,eL.HTML);break;case eB.FRAME:A._appendElement(B,eL.HTML),B.ackSelfClosing=!0;break;case eB.NOFRAMES:startTagInHead(A,B)}}(this,A);break;case ez.AFTER_FRAMESET:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.NOFRAMES:startTagInHead(A,B)}}(this,A);break;case ez.AFTER_AFTER_BODY:A.tagID===eB.HTML?startTagInBody(this,A):tokenAfterAfterBody(this,A);break;case ez.AFTER_AFTER_FRAMESET:!function(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.NOFRAMES:startTagInHead(A,B)}}(this,A)}}onEndTag(A){this.skipNextNewLine=!1,this.currentToken=A,this.currentNotInHTML?function(A,B){if(B.tagID===eB.P||B.tagID===eB.BR){popUntilHtmlOrIntegrationPoint(A),A._endTagOutsideForeignContent(B);return}for(let H=A.openElements.stackTop;H>0;H--){let $=A.openElements.items[H];if(A.treeAdapter.getNamespaceURI($)===eL.HTML){A._endTagOutsideForeignContent(B);break}let W=A.treeAdapter.getTagName($);if(W.toLowerCase()===B.tagName){B.tagName=W,A.openElements.shortenToLength(H);break}}}(this,A):this._endTagOutsideForeignContent(A)}_endTagOutsideForeignContent(A){var B;switch(this.insertionMode){case ez.INITIAL:tokenInInitialMode(this,A);break;case ez.BEFORE_HTML:!function(A,B){let H=B.tagID;(H===eB.HTML||H===eB.HEAD||H===eB.BODY||H===eB.BR)&&tokenBeforeHtml(A,B)}(this,A);break;case ez.BEFORE_HEAD:!function(A,B){let H=B.tagID;H===eB.HEAD||H===eB.BODY||H===eB.HTML||H===eB.BR?tokenBeforeHead(A,B):A._err(B,ex.endTagWithoutMatchingOpenElement)}(this,A);break;case ez.IN_HEAD:!function(A,B){switch(B.tagID){case eB.HEAD:A.openElements.pop(),A.insertionMode=ez.AFTER_HEAD;break;case eB.BODY:case eB.BR:case eB.HTML:tokenInHead(A,B);break;case eB.TEMPLATE:templateEndTagInHead(A,B);break;default:A._err(B,ex.endTagWithoutMatchingOpenElement)}}(this,A);break;case ez.IN_HEAD_NO_SCRIPT:!function(A,B){switch(B.tagID){case eB.NOSCRIPT:A.openElements.pop(),A.insertionMode=ez.IN_HEAD;break;case eB.BR:tokenInHeadNoScript(A,B);break;default:A._err(B,ex.endTagWithoutMatchingOpenElement)}}(this,A);break;case ez.AFTER_HEAD:!function(A,B){switch(B.tagID){case eB.BODY:case eB.HTML:case eB.BR:tokenAfterHead(A,B);break;case eB.TEMPLATE:templateEndTagInHead(A,B);break;default:A._err(B,ex.endTagWithoutMatchingOpenElement)}}(this,A);break;case ez.IN_BODY:endTagInBody(this,A);break;case ez.TEXT:A.tagID===eB.SCRIPT&&(null===(B=this.scriptHandler)||void 0===B||B.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case ez.IN_TABLE:endTagInTable(this,A);break;case ez.IN_TABLE_TEXT:tokenInTableText(this,A);break;case ez.IN_CAPTION:!function(A,B){let H=B.tagID;switch(H){case eB.CAPTION:case eB.TABLE:A.openElements.hasInTableScope(eB.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(eB.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=ez.IN_TABLE,H===eB.TABLE&&endTagInTable(A,B));break;case eB.BODY:case eB.COL:case eB.COLGROUP:case eB.HTML:case eB.TBODY:case eB.TD:case eB.TFOOT:case eB.TH:case eB.THEAD:case eB.TR:break;default:endTagInBody(A,B)}}(this,A);break;case ez.IN_COLUMN_GROUP:!function(A,B){switch(B.tagID){case eB.COLGROUP:A.openElements.currentTagId===eB.COLGROUP&&(A.openElements.pop(),A.insertionMode=ez.IN_TABLE);break;case eB.TEMPLATE:templateEndTagInHead(A,B);break;case eB.COL:break;default:tokenInColumnGroup(A,B)}}(this,A);break;case ez.IN_TABLE_BODY:endTagInTableBody(this,A);break;case ez.IN_ROW:endTagInRow(this,A);break;case ez.IN_CELL:!function(A,B){let H=B.tagID;switch(H){case eB.TD:case eB.TH:A.openElements.hasInTableScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=ez.IN_ROW);break;case eB.TABLE:case eB.TBODY:case eB.TFOOT:case eB.THEAD:case eB.TR:A.openElements.hasInTableScope(H)&&(A._closeTableCell(),endTagInRow(A,B));break;case eB.BODY:case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.HTML:break;default:endTagInBody(A,B)}}(this,A);break;case ez.IN_SELECT:endTagInSelect(this,A);break;case ez.IN_SELECT_IN_TABLE:!function(A,B){let H=B.tagID;H===eB.CAPTION||H===eB.TABLE||H===eB.TBODY||H===eB.TFOOT||H===eB.THEAD||H===eB.TR||H===eB.TD||H===eB.TH?A.openElements.hasInTableScope(H)&&(A.openElements.popUntilTagNamePopped(eB.SELECT),A._resetInsertionMode(),A.onEndTag(B)):endTagInSelect(A,B)}(this,A);break;case ez.IN_TEMPLATE:A.tagID===eB.TEMPLATE&&templateEndTagInHead(this,A);break;case ez.AFTER_BODY:endTagAfterBody(this,A);break;case ez.IN_FRAMESET:A.tagID!==eB.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===eB.FRAMESET||(this.insertionMode=ez.AFTER_FRAMESET));break;case ez.AFTER_FRAMESET:A.tagID===eB.HTML&&(this.insertionMode=ez.AFTER_AFTER_FRAMESET);break;case ez.AFTER_AFTER_BODY:tokenAfterAfterBody(this,A)}}onEof(A){switch(this.insertionMode){case ez.INITIAL:tokenInInitialMode(this,A);break;case ez.BEFORE_HTML:tokenBeforeHtml(this,A);break;case ez.BEFORE_HEAD:tokenBeforeHead(this,A);break;case ez.IN_HEAD:tokenInHead(this,A);break;case ez.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,A);break;case ez.AFTER_HEAD:tokenAfterHead(this,A);break;case ez.IN_BODY:case ez.IN_TABLE:case ez.IN_CAPTION:case ez.IN_COLUMN_GROUP:case ez.IN_TABLE_BODY:case ez.IN_ROW:case ez.IN_CELL:case ez.IN_SELECT:case ez.IN_SELECT_IN_TABLE:eofInBody(this,A);break;case ez.TEXT:this._err(A,ex.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(A);break;case ez.IN_TABLE_TEXT:tokenInTableText(this,A);break;case ez.IN_TEMPLATE:eofInTemplate(this,A);break;case ez.AFTER_BODY:case ez.IN_FRAMESET:case ez.AFTER_FRAMESET:case ez.AFTER_AFTER_BODY:case ez.AFTER_AFTER_FRAMESET:stopParsing(this,A)}}onWhitespaceCharacter(A){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,A.chars.charCodeAt(0)===eC.LINE_FEED)){if(1===A.chars.length)return;A.chars=A.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(A);return}switch(this.insertionMode){case ez.IN_HEAD:case ez.IN_HEAD_NO_SCRIPT:case ez.AFTER_HEAD:case ez.TEXT:case ez.IN_COLUMN_GROUP:case ez.IN_SELECT:case ez.IN_SELECT_IN_TABLE:case ez.IN_FRAMESET:case ez.AFTER_FRAMESET:this._insertCharacters(A);break;case ez.IN_BODY:case ez.IN_CAPTION:case ez.IN_CELL:case ez.IN_TEMPLATE:case ez.AFTER_BODY:case ez.AFTER_AFTER_BODY:case ez.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,A);break;case ez.IN_TABLE:case ez.IN_TABLE_BODY:case ez.IN_ROW:characterInTable(this,A);break;case ez.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,A)}}};function callAdoptionAgency(A,B){for(let H=0;H<8;H++){let H=function(A,B){let H=A.activeFormattingElements.getElementEntryInScopeWithTagName(B.tagName);return H?A.openElements.contains(H.element)?A.openElements.hasInScope(B.tagID)||(H=null):(A.activeFormattingElements.removeEntry(H),H=null):genericEndTagInBody(A,B),H}(A,B);if(!H)break;let $=function(A,B){let H=null,$=A.openElements.stackTop;for(;$>=0;$--){let W=A.openElements.items[$];if(W===B.element)break;A._isSpecialElement(W,A.openElements.tagIDs[$])&&(H=W)}return H||(A.openElements.shortenToLength($<0?0:$),A.activeFormattingElements.removeEntry(B)),H}(A,H);if(!$)break;A.activeFormattingElements.bookmark=H;let W=function(A,B,H){let $=B,W=A.openElements.getCommonAncestor(B);for(let K=0,et=W;et!==H;K++,et=W){W=A.openElements.getCommonAncestor(et);let H=A.activeFormattingElements.getElementEntry(et),en=H&&K>=3,er=!H||en;er?(en&&A.activeFormattingElements.removeEntry(H),A.openElements.remove(et)):(et=function(A,B){let H=A.treeAdapter.getNamespaceURI(B.element),$=A.treeAdapter.createElement(B.token.tagName,H,B.token.attrs);return A.openElements.replace(B.element,$),B.element=$,$}(A,H),$===B&&(A.activeFormattingElements.bookmark=H),A.treeAdapter.detachNode($),A.treeAdapter.appendChild(et,$),$=et)}return $}(A,$,H.element),K=A.openElements.getCommonAncestor(H.element);A.treeAdapter.detachNode(W),K&&function(A,B,H){let $=A.treeAdapter.getTagName(B),W=getTagID($);if(A._isElementCausesFosterParenting(W))A._fosterParentElement(H);else{let $=A.treeAdapter.getNamespaceURI(B);W===eB.TEMPLATE&&$===eL.HTML&&(B=A.treeAdapter.getTemplateContent(B)),A.treeAdapter.appendChild(B,H)}}(A,K,W),function(A,B,H){let $=A.treeAdapter.getNamespaceURI(H.element),{token:W}=H,K=A.treeAdapter.createElement(W.tagName,$,W.attrs);A._adoptNodes(B,K),A.treeAdapter.appendChild(B,K),A.activeFormattingElements.insertElementAfterBookmark(K,W),A.activeFormattingElements.removeEntry(H),A.openElements.remove(H.element),A.openElements.insertAfter(B,K,W.tagID)}(A,$,H)}}function appendComment(A,B){A._appendCommentNode(B,A.openElements.currentTmplContentOrNode)}function stopParsing(A,B){if(A.stopped=!0,B.location){let H=A.fragmentContext?0:2;for(let $=A.openElements.stackTop;$>=H;$--)A._setEndLocation(A.openElements.items[$],B);if(!A.fragmentContext&&A.openElements.stackTop>=0){let H=A.openElements.items[0],$=A.treeAdapter.getNodeSourceCodeLocation(H);if($&&!$.endTag&&(A._setEndLocation(H,B),A.openElements.stackTop>=1)){let H=A.openElements.items[1],$=A.treeAdapter.getNodeSourceCodeLocation(H);$&&!$.endTag&&A._setEndLocation(H,B)}}}}function tokenInInitialMode(A,B){A._err(B,ex.missingDoctype,!0),A.treeAdapter.setDocumentMode(A.document,eM.QUIRKS),A.insertionMode=ez.BEFORE_HTML,A._processToken(B)}function tokenBeforeHtml(A,B){A._insertFakeRootElement(),A.insertionMode=ez.BEFORE_HEAD,A._processToken(B)}function tokenBeforeHead(A,B){A._insertFakeElement(eF.HEAD,eB.HEAD),A.headElement=A.openElements.current,A.insertionMode=ez.IN_HEAD,A._processToken(B)}function startTagInHead(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.BASE:case eB.BASEFONT:case eB.BGSOUND:case eB.LINK:case eB.META:A._appendElement(B,eL.HTML),B.ackSelfClosing=!0;break;case eB.TITLE:A._switchToTextParsing(B,ik.RCDATA);break;case eB.NOSCRIPT:A.options.scriptingEnabled?A._switchToTextParsing(B,ik.RAWTEXT):(A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_HEAD_NO_SCRIPT);break;case eB.NOFRAMES:case eB.STYLE:A._switchToTextParsing(B,ik.RAWTEXT);break;case eB.SCRIPT:A._switchToTextParsing(B,ik.SCRIPT_DATA);break;case eB.TEMPLATE:A._insertTemplate(B),A.activeFormattingElements.insertMarker(),A.framesetOk=!1,A.insertionMode=ez.IN_TEMPLATE,A.tmplInsertionModeStack.unshift(ez.IN_TEMPLATE);break;case eB.HEAD:A._err(B,ex.misplacedStartTagForHeadElement);break;default:tokenInHead(A,B)}}function templateEndTagInHead(A,B){A.openElements.tmplCount>0?(A.openElements.generateImpliedEndTagsThoroughly(),A.openElements.currentTagId!==eB.TEMPLATE&&A._err(B,ex.closingOfElementWithOpenChildElements),A.openElements.popUntilTagNamePopped(eB.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A.tmplInsertionModeStack.shift(),A._resetInsertionMode()):A._err(B,ex.endTagWithoutMatchingOpenElement)}function tokenInHead(A,B){A.openElements.pop(),A.insertionMode=ez.AFTER_HEAD,A._processToken(B)}function tokenInHeadNoScript(A,B){let H=B.type===ew.EOF?ex.openElementsLeftAfterEof:ex.disallowedContentInNoscriptInHead;A._err(B,H),A.openElements.pop(),A.insertionMode=ez.IN_HEAD,A._processToken(B)}function tokenAfterHead(A,B){A._insertFakeElement(eF.BODY,eB.BODY),A.insertionMode=ez.IN_BODY,modeInBody(A,B)}function modeInBody(A,B){switch(B.type){case ew.CHARACTER:characterInBody(A,B);break;case ew.WHITESPACE_CHARACTER:whitespaceCharacterInBody(A,B);break;case ew.COMMENT:appendComment(A,B);break;case ew.START_TAG:startTagInBody(A,B);break;case ew.END_TAG:endTagInBody(A,B);break;case ew.EOF:eofInBody(A,B)}}function whitespaceCharacterInBody(A,B){A._reconstructActiveFormattingElements(),A._insertCharacters(B)}function characterInBody(A,B){A._reconstructActiveFormattingElements(),A._insertCharacters(B),A.framesetOk=!1}function areaStartTagInBody(A,B){A._reconstructActiveFormattingElements(),A._appendElement(B,eL.HTML),A.framesetOk=!1,B.ackSelfClosing=!0}function isHiddenInput(A){let B=getTokenAttr(A,eP.TYPE);return null!=B&&"hidden"===B.toLowerCase()}function noembedStartTagInBody(A,B){A._switchToTextParsing(B,ik.RAWTEXT)}function genericStartTagInBody(A,B){A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML)}function startTagInBody(A,B){switch(B.tagID){case eB.I:case eB.S:case eB.B:case eB.U:case eB.EM:case eB.TT:case eB.BIG:case eB.CODE:case eB.FONT:case eB.SMALL:case eB.STRIKE:case eB.STRONG:A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML),A.activeFormattingElements.pushElement(A.openElements.current,B);break;case eB.A:!function(A,B){let H=A.activeFormattingElements.getElementEntryInScopeWithTagName(eF.A);H&&(callAdoptionAgency(A,B),A.openElements.remove(H.element),A.activeFormattingElements.removeEntry(H)),A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML),A.activeFormattingElements.pushElement(A.openElements.current,B)}(A,B);break;case eB.H1:case eB.H2:case eB.H3:case eB.H4:case eB.H5:case eB.H6:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),isNumberedHeader(A.openElements.currentTagId)&&A.openElements.pop(),A._insertElement(B,eL.HTML);break;case eB.P:case eB.DL:case eB.OL:case eB.UL:case eB.DIV:case eB.DIR:case eB.NAV:case eB.MAIN:case eB.MENU:case eB.ASIDE:case eB.CENTER:case eB.FIGURE:case eB.FOOTER:case eB.HEADER:case eB.HGROUP:case eB.DIALOG:case eB.DETAILS:case eB.ADDRESS:case eB.ARTICLE:case eB.SECTION:case eB.SUMMARY:case eB.FIELDSET:case eB.BLOCKQUOTE:case eB.FIGCAPTION:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML);break;case eB.LI:case eB.DD:case eB.DT:!function(A,B){A.framesetOk=!1;let H=B.tagID;for(let B=A.openElements.stackTop;B>=0;B--){let $=A.openElements.tagIDs[B];if(H===eB.LI&&$===eB.LI||(H===eB.DD||H===eB.DT)&&($===eB.DD||$===eB.DT)){A.openElements.generateImpliedEndTagsWithExclusion($),A.openElements.popUntilTagNamePopped($);break}if($!==eB.ADDRESS&&$!==eB.DIV&&$!==eB.P&&A._isSpecialElement(A.openElements.items[B],$))break}A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML)}(A,B);break;case eB.BR:case eB.IMG:case eB.WBR:case eB.AREA:case eB.EMBED:case eB.KEYGEN:areaStartTagInBody(A,B);break;case eB.HR:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._appendElement(B,eL.HTML),A.framesetOk=!1,B.ackSelfClosing=!0;break;case eB.RB:case eB.RTC:A.openElements.hasInScope(eB.RUBY)&&A.openElements.generateImpliedEndTags(),A._insertElement(B,eL.HTML);break;case eB.RT:case eB.RP:A.openElements.hasInScope(eB.RUBY)&&A.openElements.generateImpliedEndTagsWithExclusion(eB.RTC),A._insertElement(B,eL.HTML);break;case eB.PRE:case eB.LISTING:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML),A.skipNextNewLine=!0,A.framesetOk=!1;break;case eB.XMP:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._reconstructActiveFormattingElements(),A.framesetOk=!1,A._switchToTextParsing(B,ik.RAWTEXT);break;case eB.SVG:A._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(B),adjustTokenXMLAttrs(B),B.selfClosing?A._appendElement(B,eL.SVG):A._insertElement(B,eL.SVG),B.ackSelfClosing=!0;break;case eB.HTML:0===A.openElements.tmplCount&&A.treeAdapter.adoptAttributes(A.openElements.items[0],B.attrs);break;case eB.BASE:case eB.LINK:case eB.META:case eB.STYLE:case eB.TITLE:case eB.SCRIPT:case eB.BGSOUND:case eB.BASEFONT:case eB.TEMPLATE:startTagInHead(A,B);break;case eB.BODY:!function(A,B){let H=A.openElements.tryPeekProperlyNestedBodyElement();H&&0===A.openElements.tmplCount&&(A.framesetOk=!1,A.treeAdapter.adoptAttributes(H,B.attrs))}(A,B);break;case eB.FORM:!function(A,B){let H=A.openElements.tmplCount>0;A.formElement&&!H||(A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML),H||(A.formElement=A.openElements.current))}(A,B);break;case eB.NOBR:A._reconstructActiveFormattingElements(),A.openElements.hasInScope(eB.NOBR)&&(callAdoptionAgency(A,B),A._reconstructActiveFormattingElements()),A._insertElement(B,eL.HTML),A.activeFormattingElements.pushElement(A.openElements.current,B);break;case eB.MATH:A._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(B),adjustTokenXMLAttrs(B),B.selfClosing?A._appendElement(B,eL.MATHML):A._insertElement(B,eL.MATHML),B.ackSelfClosing=!0;break;case eB.TABLE:A.treeAdapter.getDocumentMode(A.document)!==eM.QUIRKS&&A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML),A.framesetOk=!1,A.insertionMode=ez.IN_TABLE;break;case eB.INPUT:A._reconstructActiveFormattingElements(),A._appendElement(B,eL.HTML),isHiddenInput(B)||(A.framesetOk=!1),B.ackSelfClosing=!0;break;case eB.PARAM:case eB.TRACK:case eB.SOURCE:A._appendElement(B,eL.HTML),B.ackSelfClosing=!0;break;case eB.IMAGE:B.tagName=eF.IMG,B.tagID=eB.IMG,areaStartTagInBody(A,B);break;case eB.BUTTON:A.openElements.hasInScope(eB.BUTTON)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(eB.BUTTON)),A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML),A.framesetOk=!1;break;case eB.APPLET:case eB.OBJECT:case eB.MARQUEE:A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML),A.activeFormattingElements.insertMarker(),A.framesetOk=!1;break;case eB.IFRAME:A.framesetOk=!1,A._switchToTextParsing(B,ik.RAWTEXT);break;case eB.SELECT:A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML),A.framesetOk=!1,A.insertionMode=A.insertionMode===ez.IN_TABLE||A.insertionMode===ez.IN_CAPTION||A.insertionMode===ez.IN_TABLE_BODY||A.insertionMode===ez.IN_ROW||A.insertionMode===ez.IN_CELL?ez.IN_SELECT_IN_TABLE:ez.IN_SELECT;break;case eB.OPTION:case eB.OPTGROUP:A.openElements.currentTagId===eB.OPTION&&A.openElements.pop(),A._reconstructActiveFormattingElements(),A._insertElement(B,eL.HTML);break;case eB.NOEMBED:noembedStartTagInBody(A,B);break;case eB.FRAMESET:!function(A,B){let H=A.openElements.tryPeekProperlyNestedBodyElement();A.framesetOk&&H&&(A.treeAdapter.detachNode(H),A.openElements.popAllUpToHtmlElement(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_FRAMESET)}(A,B);break;case eB.TEXTAREA:A._insertElement(B,eL.HTML),A.skipNextNewLine=!0,A.tokenizer.state=ik.RCDATA,A.originalInsertionMode=A.insertionMode,A.framesetOk=!1,A.insertionMode=ez.TEXT;break;case eB.NOSCRIPT:A.options.scriptingEnabled?noembedStartTagInBody(A,B):genericStartTagInBody(A,B);break;case eB.PLAINTEXT:A.openElements.hasInButtonScope(eB.P)&&A._closePElement(),A._insertElement(B,eL.HTML),A.tokenizer.state=ik.PLAINTEXT;break;case eB.COL:case eB.TH:case eB.TD:case eB.TR:case eB.HEAD:case eB.FRAME:case eB.TBODY:case eB.TFOOT:case eB.THEAD:case eB.CAPTION:case eB.COLGROUP:break;default:genericStartTagInBody(A,B)}}function genericEndTagInBody(A,B){let H=B.tagName,$=B.tagID;for(let B=A.openElements.stackTop;B>0;B--){let W=A.openElements.items[B],K=A.openElements.tagIDs[B];if($===K&&($!==eB.UNKNOWN||A.treeAdapter.getTagName(W)===H)){A.openElements.generateImpliedEndTagsWithExclusion($),A.openElements.stackTop>=B&&A.openElements.shortenToLength(B);break}if(A._isSpecialElement(W,K))break}}function endTagInBody(A,B){switch(B.tagID){case eB.A:case eB.B:case eB.I:case eB.S:case eB.U:case eB.EM:case eB.TT:case eB.BIG:case eB.CODE:case eB.FONT:case eB.NOBR:case eB.SMALL:case eB.STRIKE:case eB.STRONG:callAdoptionAgency(A,B);break;case eB.P:A.openElements.hasInButtonScope(eB.P)||A._insertFakeElement(eF.P,eB.P),A._closePElement();break;case eB.DL:case eB.UL:case eB.OL:case eB.DIR:case eB.DIV:case eB.NAV:case eB.PRE:case eB.MAIN:case eB.MENU:case eB.ASIDE:case eB.BUTTON:case eB.CENTER:case eB.FIGURE:case eB.FOOTER:case eB.HEADER:case eB.HGROUP:case eB.DIALOG:case eB.ADDRESS:case eB.ARTICLE:case eB.DETAILS:case eB.SECTION:case eB.SUMMARY:case eB.LISTING:case eB.FIELDSET:case eB.BLOCKQUOTE:case eB.FIGCAPTION:!function(A,B){let H=B.tagID;A.openElements.hasInScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H))}(A,B);break;case eB.LI:A.openElements.hasInListItemScope(eB.LI)&&(A.openElements.generateImpliedEndTagsWithExclusion(eB.LI),A.openElements.popUntilTagNamePopped(eB.LI));break;case eB.DD:case eB.DT:!function(A,B){let H=B.tagID;A.openElements.hasInScope(H)&&(A.openElements.generateImpliedEndTagsWithExclusion(H),A.openElements.popUntilTagNamePopped(H))}(A,B);break;case eB.H1:case eB.H2:case eB.H3:case eB.H4:case eB.H5:case eB.H6:A.openElements.hasNumberedHeaderInScope()&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilNumberedHeaderPopped());break;case eB.BR:A._reconstructActiveFormattingElements(),A._insertFakeElement(eF.BR,eB.BR),A.openElements.pop(),A.framesetOk=!1;break;case eB.BODY:!function(A,B){if(A.openElements.hasInScope(eB.BODY)&&(A.insertionMode=ez.AFTER_BODY,A.options.sourceCodeLocationInfo)){let H=A.openElements.tryPeekProperlyNestedBodyElement();H&&A._setEndLocation(H,B)}}(A,B);break;case eB.HTML:A.openElements.hasInScope(eB.BODY)&&(A.insertionMode=ez.AFTER_BODY,endTagAfterBody(A,B));break;case eB.FORM:!function(A){let B=A.openElements.tmplCount>0,{formElement:H}=A;B||(A.formElement=null),(H||B)&&A.openElements.hasInScope(eB.FORM)&&(A.openElements.generateImpliedEndTags(),B?A.openElements.popUntilTagNamePopped(eB.FORM):H&&A.openElements.remove(H))}(A);break;case eB.APPLET:case eB.OBJECT:case eB.MARQUEE:!function(A,B){let H=B.tagID;A.openElements.hasInScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H),A.activeFormattingElements.clearToLastMarker())}(A,B);break;case eB.TEMPLATE:templateEndTagInHead(A,B);break;default:genericEndTagInBody(A,B)}}function eofInBody(A,B){A.tmplInsertionModeStack.length>0?eofInTemplate(A,B):stopParsing(A,B)}function characterInTable(A,B){if(iQ.has(A.openElements.currentTagId))switch(A.pendingCharacterTokens.length=0,A.hasNonWhitespacePendingCharacterToken=!1,A.originalInsertionMode=A.insertionMode,A.insertionMode=ez.IN_TABLE_TEXT,B.type){case ew.CHARACTER:characterInTableText(A,B);break;case ew.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(A,B)}else tokenInTable(A,B)}function startTagInTable(A,B){switch(B.tagID){case eB.TD:case eB.TH:case eB.TR:A.openElements.clearBackToTableContext(),A._insertFakeElement(eF.TBODY,eB.TBODY),A.insertionMode=ez.IN_TABLE_BODY,startTagInTableBody(A,B);break;case eB.STYLE:case eB.SCRIPT:case eB.TEMPLATE:startTagInHead(A,B);break;case eB.COL:A.openElements.clearBackToTableContext(),A._insertFakeElement(eF.COLGROUP,eB.COLGROUP),A.insertionMode=ez.IN_COLUMN_GROUP,startTagInColumnGroup(A,B);break;case eB.FORM:A.formElement||0!==A.openElements.tmplCount||(A._insertElement(B,eL.HTML),A.formElement=A.openElements.current,A.openElements.pop());break;case eB.TABLE:A.openElements.hasInTableScope(eB.TABLE)&&(A.openElements.popUntilTagNamePopped(eB.TABLE),A._resetInsertionMode(),A._processStartTag(B));break;case eB.TBODY:case eB.TFOOT:case eB.THEAD:A.openElements.clearBackToTableContext(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_TABLE_BODY;break;case eB.INPUT:isHiddenInput(B)?A._appendElement(B,eL.HTML):tokenInTable(A,B),B.ackSelfClosing=!0;break;case eB.CAPTION:A.openElements.clearBackToTableContext(),A.activeFormattingElements.insertMarker(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_CAPTION;break;case eB.COLGROUP:A.openElements.clearBackToTableContext(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_COLUMN_GROUP;break;default:tokenInTable(A,B)}}function endTagInTable(A,B){switch(B.tagID){case eB.TABLE:A.openElements.hasInTableScope(eB.TABLE)&&(A.openElements.popUntilTagNamePopped(eB.TABLE),A._resetInsertionMode());break;case eB.TEMPLATE:templateEndTagInHead(A,B);break;case eB.BODY:case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.HTML:case eB.TBODY:case eB.TD:case eB.TFOOT:case eB.TH:case eB.THEAD:case eB.TR:break;default:tokenInTable(A,B)}}function tokenInTable(A,B){let H=A.fosterParentingEnabled;A.fosterParentingEnabled=!0,modeInBody(A,B),A.fosterParentingEnabled=H}function whitespaceCharacterInTableText(A,B){A.pendingCharacterTokens.push(B)}function characterInTableText(A,B){A.pendingCharacterTokens.push(B),A.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(A,B){let H=0;if(A.hasNonWhitespacePendingCharacterToken)for(;H<A.pendingCharacterTokens.length;H++)tokenInTable(A,A.pendingCharacterTokens[H]);else for(;H<A.pendingCharacterTokens.length;H++)A._insertCharacters(A.pendingCharacterTokens[H]);A.insertionMode=A.originalInsertionMode,A._processToken(B)}let iY=new Set([eB.CAPTION,eB.COL,eB.COLGROUP,eB.TBODY,eB.TD,eB.TFOOT,eB.TH,eB.THEAD,eB.TR]);function startTagInColumnGroup(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.COL:A._appendElement(B,eL.HTML),B.ackSelfClosing=!0;break;case eB.TEMPLATE:startTagInHead(A,B);break;default:tokenInColumnGroup(A,B)}}function tokenInColumnGroup(A,B){A.openElements.currentTagId===eB.COLGROUP&&(A.openElements.pop(),A.insertionMode=ez.IN_TABLE,A._processToken(B))}function startTagInTableBody(A,B){switch(B.tagID){case eB.TR:A.openElements.clearBackToTableBodyContext(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_ROW;break;case eB.TH:case eB.TD:A.openElements.clearBackToTableBodyContext(),A._insertFakeElement(eF.TR,eB.TR),A.insertionMode=ez.IN_ROW,startTagInRow(A,B);break;case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.TBODY:case eB.TFOOT:case eB.THEAD:A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE,startTagInTable(A,B));break;default:startTagInTable(A,B)}}function endTagInTableBody(A,B){let H=B.tagID;switch(B.tagID){case eB.TBODY:case eB.TFOOT:case eB.THEAD:A.openElements.hasInTableScope(H)&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE);break;case eB.TABLE:A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE,endTagInTable(A,B));break;case eB.BODY:case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.HTML:case eB.TD:case eB.TH:case eB.TR:break;default:endTagInTable(A,B)}}function startTagInRow(A,B){switch(B.tagID){case eB.TH:case eB.TD:A.openElements.clearBackToTableRowContext(),A._insertElement(B,eL.HTML),A.insertionMode=ez.IN_CELL,A.activeFormattingElements.insertMarker();break;case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.TBODY:case eB.TFOOT:case eB.THEAD:case eB.TR:A.openElements.hasInTableScope(eB.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE_BODY,startTagInTableBody(A,B));break;default:startTagInTable(A,B)}}function endTagInRow(A,B){switch(B.tagID){case eB.TR:A.openElements.hasInTableScope(eB.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE_BODY);break;case eB.TABLE:A.openElements.hasInTableScope(eB.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE_BODY,endTagInTableBody(A,B));break;case eB.TBODY:case eB.TFOOT:case eB.THEAD:(A.openElements.hasInTableScope(B.tagID)||A.openElements.hasInTableScope(eB.TR))&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=ez.IN_TABLE_BODY,endTagInTableBody(A,B));break;case eB.BODY:case eB.CAPTION:case eB.COL:case eB.COLGROUP:case eB.HTML:case eB.TD:case eB.TH:break;default:endTagInTable(A,B)}}function startTagInSelect(A,B){switch(B.tagID){case eB.HTML:startTagInBody(A,B);break;case eB.OPTION:A.openElements.currentTagId===eB.OPTION&&A.openElements.pop(),A._insertElement(B,eL.HTML);break;case eB.OPTGROUP:A.openElements.currentTagId===eB.OPTION&&A.openElements.pop(),A.openElements.currentTagId===eB.OPTGROUP&&A.openElements.pop(),A._insertElement(B,eL.HTML);break;case eB.INPUT:case eB.KEYGEN:case eB.TEXTAREA:case eB.SELECT:A.openElements.hasInSelectScope(eB.SELECT)&&(A.openElements.popUntilTagNamePopped(eB.SELECT),A._resetInsertionMode(),B.tagID!==eB.SELECT&&A._processStartTag(B));break;case eB.SCRIPT:case eB.TEMPLATE:startTagInHead(A,B)}}function endTagInSelect(A,B){switch(B.tagID){case eB.OPTGROUP:A.openElements.stackTop>0&&A.openElements.currentTagId===eB.OPTION&&A.openElements.tagIDs[A.openElements.stackTop-1]===eB.OPTGROUP&&A.openElements.pop(),A.openElements.currentTagId===eB.OPTGROUP&&A.openElements.pop();break;case eB.OPTION:A.openElements.currentTagId===eB.OPTION&&A.openElements.pop();break;case eB.SELECT:A.openElements.hasInSelectScope(eB.SELECT)&&(A.openElements.popUntilTagNamePopped(eB.SELECT),A._resetInsertionMode());break;case eB.TEMPLATE:templateEndTagInHead(A,B)}}function eofInTemplate(A,B){A.openElements.tmplCount>0?(A.openElements.popUntilTagNamePopped(eB.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A.tmplInsertionModeStack.shift(),A._resetInsertionMode(),A.onEof(B)):stopParsing(A,B)}function endTagAfterBody(A,B){var H;if(B.tagID===eB.HTML){if(A.fragmentContext||(A.insertionMode=ez.AFTER_AFTER_BODY),A.options.sourceCodeLocationInfo&&A.openElements.tagIDs[0]===eB.HTML){A._setEndLocation(A.openElements.items[0],B);let $=A.openElements.items[1];!$||(null===(H=A.treeAdapter.getNodeSourceCodeLocation($))||void 0===H?void 0:H.endTag)||A._setEndLocation($,B)}}else tokenAfterBody(A,B)}function tokenAfterBody(A,B){A.insertionMode=ez.IN_BODY,modeInBody(A,B)}function tokenAfterAfterBody(A,B){A.insertionMode=ez.IN_BODY,modeInBody(A,B)}function popUntilHtmlOrIntegrationPoint(A){for(;A.treeAdapter.getNamespaceURI(A.openElements.current)!==eL.HTML&&!A._isIntegrationPoint(A.openElements.currentTagId,A.openElements.current);)A.openElements.pop()}let iW=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(A,B){return function(H){let $;let W=0,K="";for(;$=A.exec(H);)W!==$.index&&(K+=H.substring(W,$.index)),K+=B.get($[0].charCodeAt(0)),W=$.index+1;return K+H.substring(W)}}null!=String.prototype.codePointAt||((A,B)=>(64512&A.charCodeAt(B))==55296?(A.charCodeAt(B)-55296)*1024+A.charCodeAt(B+1)-56320+65536:A.charCodeAt(B)),getEscaper(/[&<>'"]/g,iW),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),eF.AREA,eF.BASE,eF.BASEFONT,eF.BGSOUND,eF.BR,eF.COL,eF.EMBED,eF.FRAME,eF.HR,eF.IMG,eF.INPUT,eF.KEYGEN,eF.LINK,eF.META,eF.PARAM,eF.SOURCE,eF.TRACK,eF.WBR;let iX=lib_point("end"),iK=lib_point("start");function lib_point(A){return function(B){let H=B&&B.position&&B.position[A]||{};if("number"==typeof H.line&&H.line>0&&"number"==typeof H.column&&H.column>0)return{line:H.line,column:H.column,offset:"number"==typeof H.offset&&H.offset>-1?H.offset:void 0}}}let convert=function(A){if(null==A)return lib_ok;if("function"==typeof A)return castFactory(A);if("object"==typeof A)return Array.isArray(A)?function(A){let B=[],H=-1;for(;++H<A.length;)B[H]=convert(A[H]);return castFactory(function(...A){let H=-1;for(;++H<B.length;)if(B[H].apply(this,A))return!0;return!1})}(A):castFactory(function(B){let H;for(H in A)if(B[H]!==A[H])return!1;return!0});if("string"==typeof A)return castFactory(function(B){return B&&B.type===A});throw Error("Expected function, string, or object as test")};function castFactory(A){return function(B,H,$){var W;return!!(null!==(W=B)&&"object"==typeof W&&"type"in W&&A.call(this,B,"number"==typeof H?H:void 0,$||void 0))}}function lib_ok(){return!0}let iZ=[],iJ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,i0=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),i1={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(A,B){let H=function(A){let B="root"===A.type?A.children[0]:A;return!!(B&&("doctype"===B.type||"element"===B.type&&"html"===B.tagName.toLowerCase()))}(A),$=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),W={parser:H?new parser_Parser(i1):parser_Parser.getFragmentParser(void 0,i1),handle(A){$(A,W)},stitches:!1,options:B||{}};$(A,W),resetTokenizer(W,iK());let K=H?W.parser.document:W.parser.getFragment(),et=function(A,B){let H=B||{};return one({file:H.file||void 0,location:!1,schema:"svg"===H.space?rU:rB,verbose:H.verbose||!1},A)}(K,{file:W.options.file});if(W.stitches){let A;A=function(A,B,H){if(A.value.stitch&&H&&void 0!==B){let $=H.children;return $[B]=A.value.stitch,B}},function(A,B,H,$){let W;"function"==typeof B&&"function"!=typeof H?($=H,H=B):W=B;let K=convert(W),et=$?-1:1;(function factory(A,W,en){let er=A&&"object"==typeof A?A:{};if("string"==typeof er.type){let B="string"==typeof er.tagName?er.tagName:"string"==typeof er.name?er.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+A.type+(B?"<"+B+">":"")+")"})}return visit;function visit(){var er;let ei,eo,el,es=iZ;if((!B||K(A,W,en[en.length-1]||void 0))&&!1===(es=Array.isArray(er=H(A,en))?er:"number"==typeof er?[!0,er]:null==er?iZ:[er])[0])return es;if("children"in A&&A.children&&A.children&&"skip"!==es[0])for(eo=($?A.children.length:-1)+et,el=en.concat(A);eo>-1&&eo<A.children.length;){let B=A.children[eo];if(!1===(ei=factory(B,eo,el)())[0])return ei;eo="number"==typeof ei[1]?ei[1]:eo+et}return es}})(A,void 0,[])()}(et,"comment",function(B,H){let $=H[H.length-1],W=$?$.children.indexOf(B):void 0;return A(B,W,$)},void 0)}return"root"===et.type&&1===et.children.length&&et.children[0].type===A.type?et.children[0]:et}function hast_util_raw_lib_all(A,B){let H=-1;if(A)for(;++H<A.length;)B.handle(A[H])}function lib_root(A,B){hast_util_raw_lib_all(A.children,B)}function hast_util_raw_lib_element(A,B){(function(A,B){let H=A.tagName.toLowerCase();if(B.parser.tokenizer.state===ik.PLAINTEXT)return;resetTokenizer(B,iK(A));let $=B.parser.openElements.current,W="namespaceURI"in $?$.namespaceURI:rj.html;W===rj.html&&"svg"===H&&(W=rj.svg);let K=function(A,B){let H=(B||is).space;return iu(A,"svg"===H?r7:r9)}({...A,children:[]},{space:W===rj.svg?"svg":"html"}),et={type:ew.START_TAG,tagName:H,tagID:getTagID(H),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in K?K.attrs:[],location:createParse5Location(A)};B.parser.currentToken=et,B.parser._processToken(B.parser.currentToken),B.parser.tokenizer.lastStartTagName=H})(A,B),hast_util_raw_lib_all(A.children,B),function(A,B){let H=A.tagName.toLowerCase();if(!B.parser.tokenizer.inForeignNode&&id.includes(H)||B.parser.tokenizer.state===ik.PLAINTEXT)return;resetTokenizer(B,iX(A));let $={type:ew.END_TAG,tagName:H,tagID:getTagID(H),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(A)};B.parser.currentToken=$,B.parser._processToken(B.parser.currentToken),H===B.parser.tokenizer.lastStartTagName&&(B.parser.tokenizer.state===ik.RCDATA||B.parser.tokenizer.state===ik.RAWTEXT||B.parser.tokenizer.state===ik.SCRIPT_DATA)&&(B.parser.tokenizer.state=ik.DATA)}(A,B)}function hast_util_raw_lib_text(A,B){B.parser.tokenizer.state>4&&(B.parser.tokenizer.state=0);let H={type:ew.CHARACTER,chars:A.value,location:createParse5Location(A)};resetTokenizer(B,iK(A)),B.parser.currentToken=H,B.parser._processToken(B.parser.currentToken)}function lib_doctype(A,B){let H={type:ew.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(A)};resetTokenizer(B,iK(A)),B.parser.currentToken=H,B.parser._processToken(B.parser.currentToken)}function lib_comment(A,B){let H=A.value,$={type:ew.COMMENT,data:H,location:createParse5Location(A)};resetTokenizer(B,iK(A)),B.parser.currentToken=$,B.parser._processToken(B.parser.currentToken)}function handleRaw(A,B){if(B.parser.tokenizer.preprocessor.html="",B.parser.tokenizer.preprocessor.pos=-1,B.parser.tokenizer.preprocessor.lastGapPos=-2,B.parser.tokenizer.preprocessor.gapStack=[],B.parser.tokenizer.preprocessor.skipNextNewLine=!1,B.parser.tokenizer.preprocessor.lastChunkWritten=!1,B.parser.tokenizer.preprocessor.endOfChunkHit=!1,B.parser.tokenizer.preprocessor.isEol=!1,setPoint(B,iK(A)),B.parser.tokenizer.write(B.options.tagfilter?A.value.replace(iJ,"&lt;$1$2"):A.value,!1),B.parser.tokenizer._runParsingLoop(),72===B.parser.tokenizer.state||78===B.parser.tokenizer.state){B.parser.tokenizer.preprocessor.lastChunkWritten=!0;let A=B.parser.tokenizer._consume();B.parser.tokenizer._callState(A)}}function unknown(A,B){if(B.options.passThrough&&B.options.passThrough.includes(A.type))!function(A,B){B.stitches=!0;let H="children"in A?n6({...A,children:[]}):n6(A);if("children"in A&&"children"in H){let $=raw({type:"root",children:A.children},B.options);H.children=$.children}lib_comment({type:"comment",value:{stitch:H}},B)}(A,B);else{let B="";throw i0.has(A.type)&&(B=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+A.type+"` node"+B)}}function resetTokenizer(A,B){setPoint(A,B);let H=A.parser.tokenizer.currentCharacterToken;H&&H.location&&(H.location.endLine=A.parser.tokenizer.preprocessor.line,H.location.endCol=A.parser.tokenizer.preprocessor.col+1,H.location.endOffset=A.parser.tokenizer.preprocessor.offset+1,A.parser.currentToken=H,A.parser._processToken(A.parser.currentToken)),A.parser.tokenizer.paused=!1,A.parser.tokenizer.inLoop=!1,A.parser.tokenizer.active=!1,A.parser.tokenizer.returnState=ik.DATA,A.parser.tokenizer.charRefCode=-1,A.parser.tokenizer.consumedAfterSnapshot=-1,A.parser.tokenizer.currentLocation=null,A.parser.tokenizer.currentCharacterToken=null,A.parser.tokenizer.currentToken=null,A.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(A,B){if(B&&void 0!==B.offset){let H={startLine:B.line,startCol:B.column,startOffset:B.offset,endLine:-1,endCol:-1,endOffset:-1};A.parser.tokenizer.preprocessor.lineStartPos=-B.column+1,A.parser.tokenizer.preprocessor.droppedBufferSize=B.offset,A.parser.tokenizer.preprocessor.line=B.line,A.parser.tokenizer.currentLocation=H}}function createParse5Location(A){let B=iK(A)||{line:void 0,column:void 0,offset:void 0},H=iX(A)||{line:void 0,column:void 0,offset:void 0},$={startLine:B.line,startCol:B.column,startOffset:B.offset,endLine:H.line,endCol:H.column,endOffset:H.offset};return $}function rehypeRaw(A){return function(B,H){let $=raw(B,{...A,file:H});return $}}let lib_util_schema_Schema=class lib_util_schema_Schema{constructor(A,B,H){this.normal=B,this.property=A,H&&(this.space=H)}};function lib_util_merge_merge(A,B){let H={},$={};for(let B of A)Object.assign(H,B.property),Object.assign($,B.normal);return new lib_util_schema_Schema(H,$,B)}function property_information_lib_normalize_normalize(A){return A.toLowerCase()}lib_util_schema_Schema.prototype.normal={},lib_util_schema_Schema.prototype.property={},lib_util_schema_Schema.prototype.space=void 0;let lib_util_info_Info=class lib_util_info_Info{constructor(A,B){this.attribute=B,this.property=A}};lib_util_info_Info.prototype.attribute="",lib_util_info_Info.prototype.booleanish=!1,lib_util_info_Info.prototype.boolean=!1,lib_util_info_Info.prototype.commaOrSpaceSeparated=!1,lib_util_info_Info.prototype.commaSeparated=!1,lib_util_info_Info.prototype.defined=!1,lib_util_info_Info.prototype.mustUseProperty=!1,lib_util_info_Info.prototype.number=!1,lib_util_info_Info.prototype.overloadedBoolean=!1,lib_util_info_Info.prototype.property="",lib_util_info_Info.prototype.spaceSeparated=!1,lib_util_info_Info.prototype.space=void 0;let i2=0,i3=lib_util_types_increment(),i4=lib_util_types_increment(),i5=lib_util_types_increment(),i6=lib_util_types_increment(),i8=lib_util_types_increment(),i9=lib_util_types_increment(),i7=lib_util_types_increment();function lib_util_types_increment(){return 2**++i2}let ae=Object.keys(eZ);let lib_util_defined_info_DefinedInfo=class lib_util_defined_info_DefinedInfo extends lib_util_info_Info{constructor(A,B,H,$){var W,K;let et=-1;if(super(A,B),$&&(this.space=$),"number"==typeof H)for(;++et<ae.length;){let A=ae[et];W=ae[et],(K=(H&eZ[A])===eZ[A])&&(this[W]=K)}}};function lib_util_create_create(A){let B={},H={};for(let[$,W]of Object.entries(A.properties)){let K=new lib_util_defined_info_DefinedInfo($,A.transform(A.attributes||{},$),W,A.space);A.mustUseProperty&&A.mustUseProperty.includes($)&&(K.mustUseProperty=!0),B[$]=K,H[property_information_lib_normalize_normalize($)]=$,H[property_information_lib_normalize_normalize(K.attribute)]=$}return new lib_util_schema_Schema(B,H,A.space)}lib_util_defined_info_DefinedInfo.prototype.defined=!0;let at=lib_util_create_create({properties:{ariaActiveDescendant:null,ariaAtomic:i4,ariaAutoComplete:null,ariaBusy:i4,ariaChecked:i4,ariaColCount:i6,ariaColIndex:i6,ariaColSpan:i6,ariaControls:i8,ariaCurrent:null,ariaDescribedBy:i8,ariaDetails:null,ariaDisabled:i4,ariaDropEffect:i8,ariaErrorMessage:null,ariaExpanded:i4,ariaFlowTo:i8,ariaGrabbed:i4,ariaHasPopup:null,ariaHidden:i4,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:i8,ariaLevel:i6,ariaLive:null,ariaModal:i4,ariaMultiLine:i4,ariaMultiSelectable:i4,ariaOrientation:null,ariaOwns:i8,ariaPlaceholder:null,ariaPosInSet:i6,ariaPressed:i4,ariaReadOnly:i4,ariaRelevant:null,ariaRequired:i4,ariaRoleDescription:i8,ariaRowCount:i6,ariaRowIndex:i6,ariaRowSpan:i6,ariaSelected:i4,ariaSetSize:i6,ariaSort:null,ariaValueMax:i6,ariaValueMin:i6,ariaValueNow:i6,ariaValueText:null,role:null},transform:(A,B)=>"role"===B?B:"aria-"+B.slice(4).toLowerCase()});function lib_util_case_sensitive_transform_caseSensitiveTransform(A,B){return B in A?A[B]:B}function lib_util_case_insensitive_transform_caseInsensitiveTransform(A,B){return lib_util_case_sensitive_transform_caseSensitiveTransform(A,B.toLowerCase())}let an=lib_util_create_create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:i9,acceptCharset:i8,accessKey:i8,action:null,allow:null,allowFullScreen:i3,allowPaymentRequest:i3,allowUserMedia:i3,alt:null,as:null,async:i3,autoCapitalize:null,autoComplete:i8,autoFocus:i3,autoPlay:i3,blocking:i8,capture:null,charSet:null,checked:i3,cite:null,className:i8,cols:i6,colSpan:null,content:null,contentEditable:i4,controls:i3,controlsList:i8,coords:i6|i9,crossOrigin:null,data:null,dateTime:null,decoding:null,default:i3,defer:i3,dir:null,dirName:null,disabled:i3,download:i5,draggable:i4,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:i3,formTarget:null,headers:i8,height:i6,hidden:i3,high:i6,href:null,hrefLang:null,htmlFor:i8,httpEquiv:i8,id:null,imageSizes:null,imageSrcSet:null,inert:i3,inputMode:null,integrity:null,is:null,isMap:i3,itemId:null,itemProp:i8,itemRef:i8,itemScope:i3,itemType:i8,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:i3,low:i6,manifest:null,max:null,maxLength:i6,media:null,method:null,min:null,minLength:i6,multiple:i3,muted:i3,name:null,nonce:null,noModule:i3,noValidate:i3,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:i3,optimum:i6,pattern:null,ping:i8,placeholder:null,playsInline:i3,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:i3,referrerPolicy:null,rel:i8,required:i3,reversed:i3,rows:i6,rowSpan:i6,sandbox:i8,scope:null,scoped:i3,seamless:i3,selected:i3,shadowRootClonable:i3,shadowRootDelegatesFocus:i3,shadowRootMode:null,shape:null,size:i6,sizes:null,slot:null,span:i6,spellCheck:i4,src:null,srcDoc:null,srcLang:null,srcSet:null,start:i6,step:null,style:null,tabIndex:i6,target:null,title:null,translate:null,type:null,typeMustMatch:i3,useMap:null,value:i4,width:i6,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:i8,axis:null,background:null,bgColor:null,border:i6,borderColor:null,bottomMargin:i6,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:i3,declare:i3,event:null,face:null,frame:null,frameBorder:null,hSpace:i6,leftMargin:i6,link:null,longDesc:null,lowSrc:null,marginHeight:i6,marginWidth:i6,noResize:i3,noHref:i3,noShade:i3,noWrap:i3,object:null,profile:null,prompt:null,rev:null,rightMargin:i6,rules:null,scheme:null,scrolling:i4,standby:null,summary:null,text:null,topMargin:i6,valueType:null,version:null,vAlign:null,vLink:null,vSpace:i6,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:i3,disableRemotePlayback:i3,prefix:null,property:null,results:i6,security:null,unselectable:null},space:"html",transform:lib_util_case_insensitive_transform_caseInsensitiveTransform}),ar=lib_util_create_create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:i7,accentHeight:i6,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:i6,amplitude:i6,arabicForm:null,ascent:i6,attributeName:null,attributeType:null,azimuth:i6,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:i6,by:null,calcMode:null,capHeight:i6,className:i8,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:i6,diffuseConstant:i6,direction:null,display:null,dur:null,divisor:i6,dominantBaseline:null,download:i3,dx:null,dy:null,edgeMode:null,editable:null,elevation:i6,enableBackground:null,end:null,event:null,exponent:i6,externalResourcesRequired:null,fill:null,fillOpacity:i6,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:i9,g2:i9,glyphName:i9,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:i6,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:i6,horizOriginX:i6,horizOriginY:i6,id:null,ideographic:i6,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:i6,k:i6,k1:i6,k2:i6,k3:i6,k4:i6,kernelMatrix:i7,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:i6,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:i6,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:i6,overlineThickness:i6,paintOrder:null,panose1:null,path:null,pathLength:i6,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:i8,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:i6,pointsAtY:i6,pointsAtZ:i6,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:i7,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:i7,rev:i7,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:i7,requiredFeatures:i7,requiredFonts:i7,requiredFormats:i7,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:i6,specularExponent:i6,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:i6,strikethroughThickness:i6,string:null,stroke:null,strokeDashArray:i7,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:i6,strokeOpacity:i6,strokeWidth:null,style:null,surfaceScale:i6,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:i7,tabIndex:i6,tableValues:null,target:null,targetX:i6,targetY:i6,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:i7,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:i6,underlineThickness:i6,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:i6,values:null,vAlphabetic:i6,vMathematical:i6,vectorEffect:null,vHanging:i6,vIdeographic:i6,version:null,vertAdvY:i6,vertOriginX:i6,vertOriginY:i6,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:i6,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lib_util_case_sensitive_transform_caseSensitiveTransform}),ao=lib_util_create_create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(A,B)=>"xlink:"+B.slice(5).toLowerCase()}),al=lib_util_create_create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lib_util_case_insensitive_transform_caseInsensitiveTransform}),ac=lib_util_create_create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(A,B)=>"xml:"+B.slice(3).toLowerCase()}),au=lib_util_merge_merge([at,an,ao,al,ac],"html"),ad=lib_util_merge_merge([at,ar,ao,al,ac],"svg"),ah=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],ap={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},am=["cent","copy","divide","gt","lt","not","para","times"],af={}.hasOwnProperty,ag={};for(W in ap)af.call(ap,W)&&(ag[ap[W]]=W);function formatSmart(A,B,H){let $,W=function(A,B,H){let $="&#x"+A.toString(16).toUpperCase();return H&&B&&!/[\dA-Fa-f]/.test(String.fromCharCode(B))?$:$+";"}(A,B,H.omitOptionalSemicolons);if((H.useNamedReferences||H.useShortestReferences)&&($=function(A,B,H,$){let W=String.fromCharCode(A);if(af.call(ag,W)){let A=ag[W],K="&"+A;return H&&ah.includes(A)&&!am.includes(A)&&(!$||B&&61!==B&&/[^\da-z]/i.test(String.fromCharCode(B)))?K:K+";"}return""}(A,B,H.omitOptionalSemicolons,H.attribute)),(H.useShortestReferences||!$)&&H.useShortestReferences){let $=function(A,B,H){let $="&#"+String(A);return H&&B&&!/\d/.test(String.fromCharCode(B))?$:$+";"}(A,B,H.omitOptionalSemicolons);$.length<W.length&&(W=$)}return $&&(!H.useShortestReferences||$.length<W.length)?$:W}function stringifyEntities(A,B){return function(A,B){if(A=A.replace(B.subset?function(A){let B=[],H=-1;for(;++H<A.length;)B.push(A[H].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+B.join("|")+")","g")}(B.subset):/["&'<>`]/g,basic),B.subset||B.escapeOnly)return A;return A.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(A,H,$){return B.format((A.charCodeAt(0)-55296)*1024+A.charCodeAt(1)-56320+65536,$.charCodeAt(H+2),B)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(A,H,$){return B.format(A.charCodeAt(0),$.charCodeAt(H+1),B)}}(A,Object.assign({format:formatSmart},B))}let a_=/^>|^->|<!--|-->|--!>|<!-$/g,aE=[">"],ay=["<",">"];function ccount(A,B){let H=String(A);if("string"!=typeof B)throw TypeError("Expected character");let $=0,W=H.indexOf(B);for(;-1!==W;)$++,W=H.indexOf(B,W+B.length);return $}let av=/[A-Z]/g,aT=/-[a-z]/g,ab=/^data[-\w.:]+$/i;function property_information_lib_find_kebab(A){return"-"+A.toLowerCase()}function property_information_lib_find_camelcase(A){return A.charAt(1).toUpperCase()}let ak=/[ \t\n\f\r]/g;function whitespace(A){return"object"==typeof A?"text"===A.type&&lib_empty(A.value):lib_empty(A)}function lib_empty(A){return""===A.replace(ak,"")}let aA=siblings(1),aS=siblings(-1),aC=[];function siblings(A){return function(B,H,$){let W=B?B.children:aC,K=(H||0)+A,et=W[K];if(!$)for(;et&&whitespace(et);)K+=A,et=W[K];return et}}let ax={}.hasOwnProperty;function omission(A){return function(B,H,$){return ax.call(A,B.tagName)&&A[B.tagName](B,H,$)}}let aw=omission({body:function(A,B,H){let $=aA(H,B);return!$||"comment"!==$.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&("dt"===$.tagName||"dd"===$.tagName)},dt:function(A,B,H){let $=aA(H,B);return!!($&&"element"===$.type&&("dt"===$.tagName||"dd"===$.tagName))},head:headOrColgroupOrCaption,html:function(A,B,H){let $=aA(H,B);return!$||"comment"!==$.type},li:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&"li"===$.tagName},optgroup:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&"optgroup"===$.tagName},option:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&("option"===$.tagName||"optgroup"===$.tagName)},p:function(A,B,H){let $=aA(H,B);return $?"element"===$.type&&("address"===$.tagName||"article"===$.tagName||"aside"===$.tagName||"blockquote"===$.tagName||"details"===$.tagName||"div"===$.tagName||"dl"===$.tagName||"fieldset"===$.tagName||"figcaption"===$.tagName||"figure"===$.tagName||"footer"===$.tagName||"form"===$.tagName||"h1"===$.tagName||"h2"===$.tagName||"h3"===$.tagName||"h4"===$.tagName||"h5"===$.tagName||"h6"===$.tagName||"header"===$.tagName||"hgroup"===$.tagName||"hr"===$.tagName||"main"===$.tagName||"menu"===$.tagName||"nav"===$.tagName||"ol"===$.tagName||"p"===$.tagName||"pre"===$.tagName||"section"===$.tagName||"table"===$.tagName||"ul"===$.tagName):!H||!("element"===H.type&&("a"===H.tagName||"audio"===H.tagName||"del"===H.tagName||"ins"===H.tagName||"map"===H.tagName||"noscript"===H.tagName||"video"===H.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&("tbody"===$.tagName||"tfoot"===$.tagName)},td:cells,tfoot:function(A,B,H){return!aA(H,B)},th:cells,thead:function(A,B,H){let $=aA(H,B);return!!($&&"element"===$.type&&("tbody"===$.tagName||"tfoot"===$.tagName))},tr:function(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&"tr"===$.tagName}});function headOrColgroupOrCaption(A,B,H){let $=aA(H,B,!0);return!$||"comment"!==$.type&&!("text"===$.type&&whitespace($.value.charAt(0)))}function rubyElement(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&("rp"===$.tagName||"rt"===$.tagName)}function cells(A,B,H){let $=aA(H,B);return!$||"element"===$.type&&("td"===$.tagName||"th"===$.tagName)}let aI=omission({body:function(A){let B=aA(A,-1,!0);return!B||"comment"!==B.type&&!("text"===B.type&&whitespace(B.value.charAt(0)))&&!("element"===B.type&&("meta"===B.tagName||"link"===B.tagName||"script"===B.tagName||"style"===B.tagName||"template"===B.tagName))},colgroup:function(A,B,H){let $=aS(H,B),W=aA(A,-1,!0);return!(H&&$&&"element"===$.type&&"colgroup"===$.tagName&&aw($,H.children.indexOf($),H))&&!!(W&&"element"===W.type&&"col"===W.tagName)},head:function(A){let B=new Set;for(let H of A.children)if("element"===H.type&&("base"===H.tagName||"title"===H.tagName)){if(B.has(H.tagName))return!1;B.add(H.tagName)}let H=A.children[0];return!H||"element"===H.type},html:function(A){let B=aA(A,-1);return!B||"comment"!==B.type},tbody:function(A,B,H){let $=aS(H,B),W=aA(A,-1);return!(H&&$&&"element"===$.type&&("thead"===$.tagName||"tbody"===$.tagName)&&aw($,H.children.indexOf($),H))&&!!(W&&"element"===W.type&&"tr"===W.tagName)}}),aO={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},aR=["<","&"];function text_text(A,B,H,$){return H&&"element"===H.type&&("script"===H.tagName||"style"===H.tagName)?A.value:stringifyEntities(A.value,Object.assign({},$.settings.characterReferences,{subset:aR}))}let aN=zwitch("type",{invalid:function(A){throw Error("Expected node, not `"+A+"`")},unknown:function(A){throw Error("Cannot compile unknown node `"+A.type+"`")},handlers:{comment:function(A,B,H,$){return $.settings.bogusComments?"<?"+stringifyEntities(A.value,Object.assign({},$.settings.characterReferences,{subset:aE}))+">":"<!--"+A.value.replace(a_,function(A){return stringifyEntities(A,Object.assign({},$.settings.characterReferences,{subset:ay}))})+"-->"},doctype:function(A,B,H,$){return"<!"+($.settings.upperDoctype?"DOCTYPE":"doctype")+($.settings.tightDoctype?"":" ")+"html>"},element:function(A,B,H,$){let W;let K=$.schema,et="svg"!==K.space&&$.settings.omitOptionalTags,en="svg"===K.space?$.settings.closeEmptyElements:$.settings.voids.includes(A.tagName.toLowerCase()),er=[];"html"===K.space&&"svg"===A.tagName&&($.schema=ad);let ei=function(A,B){let H;let $=[],W=-1;if(B){for(H in B)if(null!==B[H]&&void 0!==B[H]){let W=function(A,B,H){let $;let W=function(A,B){let H=property_information_lib_normalize_normalize(B),$=B,W=lib_util_info_Info;if(H in A.normal)return A.property[A.normal[H]];if(H.length>4&&"data"===H.slice(0,4)&&ab.test(B)){if("-"===B.charAt(4)){let A=B.slice(5).replace(aT,property_information_lib_find_camelcase);$="data"+A.charAt(0).toUpperCase()+A.slice(1)}else{let A=B.slice(4);if(!aT.test(A)){let H=A.replace(av,property_information_lib_find_kebab);"-"!==H.charAt(0)&&(H="-"+H),B="data"+H}}W=lib_util_defined_info_DefinedInfo}return new W($,B)}(A.schema,B),K=A.settings.allowParseErrors&&"html"===A.schema.space?0:1,et=A.settings.allowDangerousCharacters?0:1,en=A.quote;if(W.overloadedBoolean&&(H===W.attribute||""===H)?H=!0:(W.boolean||W.overloadedBoolean)&&("string"!=typeof H||H===W.attribute||""===H)&&(H=!!H),null==H||!1===H||"number"==typeof H&&Number.isNaN(H))return"";let er=stringifyEntities(W.attribute,Object.assign({},A.settings.characterReferences,{subset:aO.name[K][et]}));return!0===H?er:(H=Array.isArray(H)?(W.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(H,{padLeft:!A.settings.tightCommaSeparatedLists}):String(H),A.settings.collapseEmptyAttributes&&!H)?er:(A.settings.preferUnquoted&&($=stringifyEntities(H,Object.assign({},A.settings.characterReferences,{attribute:!0,subset:aO.unquoted[K][et]}))),$!==H&&(A.settings.quoteSmart&&ccount(H,en)>ccount(H,A.alternative)&&(en=A.alternative),$=en+stringifyEntities(H,Object.assign({},A.settings.characterReferences,{subset:("'"===en?aO.single:aO.double)[K][et],attribute:!0}))+en),er+($?"="+$:$))}(A,H,B[H]);W&&$.push(W)}}for(;++W<$.length;){let B=A.settings.tightAttributes?$[W].charAt($[W].length-1):void 0;W!==$.length-1&&'"'!==B&&"'"!==B&&($[W]+=" ")}return $.join("")}($,A.properties),eo=$.all("html"===K.space&&"template"===A.tagName?A.content:A);return $.schema=K,eo&&(en=!1),!ei&&et&&aI(A,B,H)||(er.push("<",A.tagName,ei?" "+ei:""),en&&("svg"===K.space||$.settings.closeSelfClosing)&&(W=ei.charAt(ei.length-1),(!$.settings.tightSelfClosing||"/"===W||W&&'"'!==W&&"'"!==W)&&er.push(" "),er.push("/")),er.push(">")),er.push(eo),en||et&&aw(A,B,H)||er.push("</"+A.tagName+">"),er.join("")},raw:function(A,B,H,$){return $.settings.allowDangerousHtml?A.value:text_text(A,B,H,$)},root:function(A,B,H,$){return $.all(A)},text:text_text}}),aD={},aL={},aP=[];function hast_util_to_html_lib_one(A,B,H){return aN(A,B,H,this)}function hast_util_to_html_lib_all(A){let B=[],H=A&&A.children||aP,$=-1;for(;++$<H.length;)B[$]=this.one(H[$],$,A);return B.join("")}function rehypeStringify(A){let B={...this.data("settings"),...A};this.compiler=function(A){return function(A,B){let H=B||aD,$=H.quote||'"';if('"'!==$&&"'"!==$)throw Error("Invalid quote `"+$+"`, expected `'` or `\"`");let W={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:H.omitOptionalTags||!1,allowParseErrors:H.allowParseErrors||!1,allowDangerousCharacters:H.allowDangerousCharacters||!1,quoteSmart:H.quoteSmart||!1,preferUnquoted:H.preferUnquoted||!1,tightAttributes:H.tightAttributes||!1,upperDoctype:H.upperDoctype||!1,tightDoctype:H.tightDoctype||!1,bogusComments:H.bogusComments||!1,tightCommaSeparatedLists:H.tightCommaSeparatedLists||!1,tightSelfClosing:H.tightSelfClosing||!1,collapseEmptyAttributes:H.collapseEmptyAttributes||!1,allowDangerousHtml:H.allowDangerousHtml||!1,voids:H.voids||id,characterReferences:H.characterReferences||aL,closeSelfClosing:H.closeSelfClosing||!1,closeEmptyElements:H.closeEmptyElements||!1},schema:"svg"===H.space?ad:au,quote:$,alternative:'"'===$?"'":'"'};return W.one(Array.isArray(A)?{type:"root",children:A}:A,void 0,void 0)}(A,B)}}regexCheck(/[A-Za-z]/),regexCheck(/[\dA-Za-z]/),regexCheck(/[#-'*+\--9=?A-Z^-~]/),regexCheck(/\d/),regexCheck(/[\dA-Fa-f]/),regexCheck(/[!-/:-@[-`{-~]/);let aM=regexCheck(/\p{P}|\p{S}/u),aF=regexCheck(/\s/);function regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}let lib_convert=function(A){if(null==A)return unist_util_is_lib_ok;if("function"==typeof A)return lib_castFactory(A);if("object"==typeof A)return Array.isArray(A)?function(A){let B=[],H=-1;for(;++H<A.length;)B[H]=lib_convert(A[H]);return lib_castFactory(function(...A){let H=-1;for(;++H<B.length;)if(B[H].apply(this,A))return!0;return!1})}(A):lib_castFactory(function(B){let H;for(H in A)if(B[H]!==A[H])return!1;return!0});if("string"==typeof A)return lib_castFactory(function(B){return B&&B.type===A});throw Error("Expected function, string, or object as test")};function lib_castFactory(A){return function(B,H,$){var W;return!!(null!==(W=B)&&"object"==typeof W&&"type"in W&&A.call(this,B,"number"==typeof H?H:void 0,$||void 0))}}function unist_util_is_lib_ok(){return!0}let aB=[],aU="phrasing",aH=["autolink","link","image","label"];function enterLiteralAutolink(A){this.enter({type:"link",title:null,url:"",children:[]},A)}function enterLiteralAutolinkValue(A){this.config.enter.autolinkProtocol.call(this,A)}function exitLiteralAutolinkHttp(A){this.config.exit.autolinkProtocol.call(this,A)}function exitLiteralAutolinkWww(A){this.config.exit.data.call(this,A);let B=this.stack[this.stack.length-1];B.type,B.url="http://"+this.sliceSerialize(A)}function exitLiteralAutolinkEmail(A){this.config.exit.autolinkEmail.call(this,A)}function exitLiteralAutolink(A){this.exit(A)}function transformGfmAutolinkLiterals(A){!function(A,B,H){let $=lib_convert((H||{}).ignore||[]),W=function(A){let B=[];if(!Array.isArray(A))throw TypeError("Expected find and replace tuple or list of tuples");let H=!A[0]||Array.isArray(A[0])?A:[A],$=-1;for(;++$<H.length;){var W;let A=H[$];B.push(["string"==typeof(W=A[0])?RegExp(function(A){if("string"!=typeof A)throw TypeError("Expected a string");return A.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(W),"g"):W,function(A){return"function"==typeof A?A:function(){return A}}(A[1])])}return B}(B),K=-1;for(;++K<W.length;)!function(A,B,H,$){let W;"function"==typeof B&&"function"!=typeof H?($=H,H=B):W=B;let K=lib_convert(W),et=$?-1:1;(function factory(A,W,en){let er=A&&"object"==typeof A?A:{};if("string"==typeof er.type){let B="string"==typeof er.tagName?er.tagName:"string"==typeof er.name?er.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+A.type+(B?"<"+B+">":"")+")"})}return visit;function visit(){var er;let ei,eo,el,es=aB;if((!B||K(A,W,en[en.length-1]||void 0))&&!1===(es=Array.isArray(er=H(A,en))?er:"number"==typeof er?[!0,er]:null==er?aB:[er])[0])return es;if("children"in A&&A.children&&A.children&&"skip"!==es[0])for(eo=($?A.children.length:-1)+et,el=en.concat(A);eo>-1&&eo<A.children.length;){let B=A.children[eo];if(!1===(ei=factory(B,eo,el)())[0])return ei;eo="number"==typeof ei[1]?ei[1]:eo+et}return es}})(A,void 0,[])()}(A,"text",visitor);function visitor(A,B){let H,et=-1;for(;++et<B.length;){let A=B[et],W=H?H.children:void 0;if($(A,W?W.indexOf(A):void 0,H))return;H=A}if(H)return function(A,B){let H=B[B.length-1],$=W[K][0],et=W[K][1],en=0,er=H.children,ei=er.indexOf(A),eo=!1,el=[];$.lastIndex=0;let es=$.exec(A.value);for(;es;){let H=es.index,W={index:es.index,input:es.input,stack:[...B,A]},K=et(...es,W);if("string"==typeof K&&(K=K.length>0?{type:"text",value:K}:void 0),!1===K?$.lastIndex=H+1:(en!==H&&el.push({type:"text",value:A.value.slice(en,H)}),Array.isArray(K)?el.push(...K):K&&el.push(K),en=H+es[0].length,eo=!0),!$.global)break;es=$.exec(A.value)}return eo?(en<A.value.length&&el.push({type:"text",value:A.value.slice(en)}),H.children.splice(ei,1,...el)):el=[A],ei+el.length}(A,B)}}(A,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(A,B,H,$,W){let K="";if(!previous(W)||(/^w/i.test(B)&&(H=B+H,B="",K="http://"),!function(A){let B=A.split(".");return!(B.length<2||B[B.length-1]&&(/_/.test(B[B.length-1])||!/[a-zA-Z\d]/.test(B[B.length-1]))||B[B.length-2]&&(/_/.test(B[B.length-2])||!/[a-zA-Z\d]/.test(B[B.length-2])))}(H)))return!1;let et=function(A){let B=/[!"&'),.:;<>?\]}]+$/.exec(A);if(!B)return[A,void 0];A=A.slice(0,B.index);let H=B[0],$=H.indexOf(")"),W=ccount(A,"("),K=ccount(A,")");for(;-1!==$&&W>K;)A+=H.slice(0,$+1),$=(H=H.slice($+1)).indexOf(")"),K++;return[A,H]}(H+$);if(!et[0])return!1;let en={type:"link",title:null,url:K+B+et[0],children:[{type:"text",value:B+et[0]}]};return et[1]?[en,{type:"text",value:et[1]}]:en}function findEmail(A,B,H,$){return!(!previous($,!0)||/[-\d_]$/.test(H))&&{type:"link",title:null,url:"mailto:"+B+"@"+H,children:[{type:"text",value:B+"@"+H}]}}function previous(A,B){let H=A.input.charCodeAt(A.index-1);return(0===A.index||aF(H)||aM(H))&&(!B||47!==H)}function normalizeIdentifier(A){return A.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(A){this.enter({type:"footnoteReference",identifier:"",label:""},A)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(A){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},A)}function exitFootnoteCallString(A){let B=this.resume(),H=this.stack[this.stack.length-1];H.type,H.identifier=normalizeIdentifier(this.sliceSerialize(A)).toLowerCase(),H.label=B}function exitFootnoteCall(A){this.exit(A)}function exitFootnoteDefinitionLabelString(A){let B=this.resume(),H=this.stack[this.stack.length-1];H.type,H.identifier=normalizeIdentifier(this.sliceSerialize(A)).toLowerCase(),H.label=B}function exitFootnoteDefinition(A){this.exit(A)}function footnoteReference(A,B,H,$){let W=H.createTracker($),K=W.move("[^"),et=H.enter("footnoteReference"),en=H.enter("reference");return K+=W.move(H.safe(H.associationId(A),{after:"]",before:K})),en(),et(),K+=W.move("]")}function mapExceptFirst(A,B,H){return 0===B?A:mapAll(A,B,H)}function mapAll(A,B,H){return(H?"":"    ")+A}footnoteReference.peek=function(){return"["};let az=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(A){this.enter({type:"delete",children:[]},A)}function exitStrikethrough(A){this.exit(A)}function handleDelete(A,B,H,$){let W=H.createTracker($),K=H.enter("strikethrough"),et=W.move("~~");return et+=H.containerPhrasing(A,{...W.current(),before:et,after:"~"})+W.move("~~"),K(),et}function defaultStringLength(A){return A.length}function toAlignment(A){let B="string"==typeof A?A.codePointAt(0):0;return 67===B||99===B?99:76===B||108===B?108:82===B||114===B?114:0}function map(A,B,H){return">"+(H?"":" ")+A}function listInScope(A,B,H){if("string"==typeof B&&(B=[B]),!B||0===B.length)return H;let $=-1;for(;++$<B.length;)if(A.includes(B[$]))return!0;return!1}function hardBreak(A,B,H,$){let W=-1;for(;++W<H.unsafe.length;){var K,et;if("\n"===H.unsafe[W].character&&listInScope(K=H.stack,(et=H.unsafe[W]).inConstruct,!0)&&!listInScope(K,et.notInConstruct,!1))return/[ \t]/.test($.before)?"":" "}return"\\\n"}function longestStreak(A,B){let H=String(A),$=H.indexOf(B),W=$,K=0,et=0;if("string"!=typeof B)throw TypeError("Expected substring");for(;-1!==$;)$===W?++K>et&&(et=K):K=1,W=$+B.length,$=H.indexOf(B,W);return et}function code_map(A,B,H){return(H?"":"    ")+A}function checkQuote(A){let B=A.options.quote||'"';if('"'!==B&&"'"!==B)throw Error("Cannot serialize title with `"+B+"` for `options.quote`, expected `\"`, or `'`");return B}function encodeCharacterReference(A){return"&#x"+A.toString(16).toUpperCase()+";"}handleDelete.peek=function(){return"~"},micromark_util_character_regexCheck(/[A-Za-z]/),micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_util_character_regexCheck(/\d/),micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let aG=micromark_util_character_regexCheck(/\p{P}|\p{S}/u),aj=micromark_util_character_regexCheck(/\s/);function micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function classifyCharacter(A){return null===A||null!==A&&(A<0||32===A)||aj(A)?1:aG(A)?2:void 0}function encodeInfo(A,B,H){let $=classifyCharacter(A),W=classifyCharacter(B);return void 0===$?void 0===W?"_"===H?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===W?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===$?void 0===W?{inside:!1,outside:!1}:1===W?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===W?{inside:!1,outside:!1}:1===W?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function emphasis(A,B,H,$){let W=function(A){let B=A.options.emphasis||"*";if("*"!==B&&"_"!==B)throw Error("Cannot serialize emphasis with `"+B+"` for `options.emphasis`, expected `*`, or `_`");return B}(H),K=H.enter("emphasis"),et=H.createTracker($),en=et.move(W),er=et.move(H.containerPhrasing(A,{after:W,before:en,...et.current()})),ei=er.charCodeAt(0),eo=encodeInfo($.before.charCodeAt($.before.length-1),ei,W);eo.inside&&(er=encodeCharacterReference(ei)+er.slice(1));let el=er.charCodeAt(er.length-1),es=encodeInfo($.after.charCodeAt(0),el,W);es.inside&&(er=er.slice(0,-1)+encodeCharacterReference(el));let ec=et.move(W);return K(),H.attentionEncodeSurroundingInfo={after:es.outside,before:eo.outside},en+er+ec}emphasis.peek=function(A,B,H){return H.options.emphasis||"*"};let unist_util_is_lib_convert=function(A){if(null==A)return node_modules_unist_util_is_lib_ok;if("function"==typeof A)return unist_util_is_lib_castFactory(A);if("object"==typeof A)return Array.isArray(A)?function(A){let B=[],H=-1;for(;++H<A.length;)B[H]=unist_util_is_lib_convert(A[H]);return unist_util_is_lib_castFactory(function(...A){let H=-1;for(;++H<B.length;)if(B[H].apply(this,A))return!0;return!1})}(A):unist_util_is_lib_castFactory(function(B){let H;for(H in A)if(B[H]!==A[H])return!1;return!0});if("string"==typeof A)return unist_util_is_lib_castFactory(function(B){return B&&B.type===A});throw Error("Expected function, string, or object as test")};function unist_util_is_lib_castFactory(A){return function(B,H,$){var W;return!!(null!==(W=B)&&"object"==typeof W&&"type"in W&&A.call(this,B,"number"==typeof H?H:void 0,$||void 0))}}function node_modules_unist_util_is_lib_ok(){return!0}let aV=[],a$={};function lib_toString(A,B){let H=B||a$,$="boolean"!=typeof H.includeImageAlt||H.includeImageAlt,W="boolean"!=typeof H.includeHtml||H.includeHtml;return mdast_util_to_string_lib_one(A,$,W)}function mdast_util_to_string_lib_one(A,B,H){if(A&&"object"==typeof A){if("value"in A)return"html"!==A.type||H?A.value:"";if(B&&"alt"in A&&A.alt)return A.alt;if("children"in A)return mdast_util_to_string_lib_all(A.children,B,H)}return Array.isArray(A)?mdast_util_to_string_lib_all(A,B,H):""}function mdast_util_to_string_lib_all(A,B,H){let $=[],W=-1;for(;++W<A.length;)$[W]=mdast_util_to_string_lib_one(A[W],B,H);return $.join("")}function handle_html_html(A){return A.value||""}function image_image(A,B,H,$){let W=checkQuote(H),K='"'===W?"Quote":"Apostrophe",et=H.enter("image"),en=H.enter("label"),er=H.createTracker($),ei=er.move("![");return ei+=er.move(H.safe(A.alt,{before:ei,after:"]",...er.current()}))+er.move("]("),en(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(en=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(en=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":")",...er.current()}))),en(),A.title&&(en=H.enter(`title${K}`),ei+=er.move(" "+W),ei+=er.move(H.safe(A.title,{before:ei,after:W,...er.current()}))+er.move(W),en()),ei+=er.move(")"),et(),ei}function imageReference(A,B,H,$){let W=A.referenceType,K=H.enter("imageReference"),et=H.enter("label"),en=H.createTracker($),er=en.move("!["),ei=H.safe(A.alt,{before:er,after:"]",...en.current()});er+=en.move(ei+"]["),et();let eo=H.stack;H.stack=[],et=H.enter("reference");let el=H.safe(H.associationId(A),{before:er,after:"]",...en.current()});return et(),H.stack=eo,K(),"full"!==W&&ei&&ei===el?"shortcut"===W?er=er.slice(0,-1):er+=en.move("]"):er+=en.move(el+"]"),er}function inlineCode(A,B,H){let $=A.value||"",W="`",K=-1;for(;RegExp("(^|[^`])"+W+"([^`]|$)").test($);)W+="`";for(/[^ \r\n]/.test($)&&(/^[ \r\n]/.test($)&&/[ \r\n]$/.test($)||/^`|`$/.test($))&&($=" "+$+" ");++K<H.unsafe.length;){let A;let B=H.unsafe[K],W=H.compilePattern(B);if(B.atBreak)for(;A=W.exec($);){let B=A.index;10===$.charCodeAt(B)&&13===$.charCodeAt(B-1)&&B--,$=$.slice(0,B)+" "+$.slice(A.index+1)}}return W+$+W}function formatLinkAsAutolink(A,B){let H=lib_toString(A);return!!(!B.options.resourceLink&&A.url&&!A.title&&A.children&&1===A.children.length&&"text"===A.children[0].type&&(H===A.url||"mailto:"+H===A.url)&&/^[a-z][a-z+.-]+:/i.test(A.url)&&!/[\0- <>\u007F]/.test(A.url))}function link_link(A,B,H,$){let W,K;let et=checkQuote(H),en='"'===et?"Quote":"Apostrophe",er=H.createTracker($);if(formatLinkAsAutolink(A,H)){let B=H.stack;H.stack=[],W=H.enter("autolink");let $=er.move("<");return $+=er.move(H.containerPhrasing(A,{before:$,after:">",...er.current()}))+er.move(">"),W(),H.stack=B,$}W=H.enter("link"),K=H.enter("label");let ei=er.move("[");return ei+=er.move(H.containerPhrasing(A,{before:ei,after:"](",...er.current()}))+er.move("]("),K(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(K=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(K=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":")",...er.current()}))),K(),A.title&&(K=H.enter(`title${en}`),ei+=er.move(" "+et),ei+=er.move(H.safe(A.title,{before:ei,after:et,...er.current()}))+er.move(et),K()),ei+=er.move(")"),W(),ei}function linkReference(A,B,H,$){let W=A.referenceType,K=H.enter("linkReference"),et=H.enter("label"),en=H.createTracker($),er=en.move("["),ei=H.containerPhrasing(A,{before:er,after:"]",...en.current()});er+=en.move(ei+"]["),et();let eo=H.stack;H.stack=[],et=H.enter("reference");let el=H.safe(H.associationId(A),{before:er,after:"]",...en.current()});return et(),H.stack=eo,K(),"full"!==W&&ei&&ei===el?"shortcut"===W?er=er.slice(0,-1):er+=en.move("]"):er+=en.move(el+"]"),er}function checkBullet(A){let B=A.options.bullet||"*";if("*"!==B&&"+"!==B&&"-"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.bullet`, expected `*`, `+`, or `-`");return B}function checkRule(A){let B=A.options.rule||"*";if("*"!==B&&"-"!==B&&"_"!==B)throw Error("Cannot serialize rules with `"+B+"` for `options.rule`, expected `*`, `-`, or `_`");return B}handle_html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(A,B,H){return formatLinkAsAutolink(A,H)?"<":"["},linkReference.peek=function(){return"["};let aQ=unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(A,B,H,$){let W=function(A){let B=A.options.strong||"*";if("*"!==B&&"_"!==B)throw Error("Cannot serialize strong with `"+B+"` for `options.strong`, expected `*`, or `_`");return B}(H),K=H.enter("strong"),et=H.createTracker($),en=et.move(W+W),er=et.move(H.containerPhrasing(A,{after:W,before:en,...et.current()})),ei=er.charCodeAt(0),eo=encodeInfo($.before.charCodeAt($.before.length-1),ei,W);eo.inside&&(er=encodeCharacterReference(ei)+er.slice(1));let el=er.charCodeAt(er.length-1),es=encodeInfo($.after.charCodeAt(0),el,W);es.inside&&(er=er.slice(0,-1)+encodeCharacterReference(el));let ec=et.move(W+W);return K(),H.attentionEncodeSurroundingInfo={after:es.outside,before:eo.outside},en+er+ec}strong.peek=function(A,B,H){return H.options.strong||"*"};let aq={blockquote:function(A,B,H,$){let W=H.enter("blockquote"),K=H.createTracker($);K.move("> "),K.shift(2);let et=H.indentLines(H.containerFlow(A,K.current()),map);return W(),et},break:hardBreak,code:function(A,B,H,$){let W=function(A){let B=A.options.fence||"`";if("`"!==B&&"~"!==B)throw Error("Cannot serialize code with `"+B+"` for `options.fence`, expected `` ` `` or `~`");return B}(H),K=A.value||"",et="`"===W?"GraveAccent":"Tilde";if(!1===H.options.fences&&A.value&&!A.lang&&/[^ \r\n]/.test(A.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(A.value)){let A=H.enter("codeIndented"),B=H.indentLines(K,code_map);return A(),B}let en=H.createTracker($),er=W.repeat(Math.max(longestStreak(K,W)+1,3)),ei=H.enter("codeFenced"),eo=en.move(er);if(A.lang){let B=H.enter(`codeFencedLang${et}`);eo+=en.move(H.safe(A.lang,{before:eo,after:" ",encode:["`"],...en.current()})),B()}if(A.lang&&A.meta){let B=H.enter(`codeFencedMeta${et}`);eo+=en.move(" "),eo+=en.move(H.safe(A.meta,{before:eo,after:"\n",encode:["`"],...en.current()})),B()}return eo+=en.move("\n"),K&&(eo+=en.move(K+"\n")),eo+=en.move(er),ei(),eo},definition:function(A,B,H,$){let W=checkQuote(H),K='"'===W?"Quote":"Apostrophe",et=H.enter("definition"),en=H.enter("label"),er=H.createTracker($),ei=er.move("[");return ei+=er.move(H.safe(H.associationId(A),{before:ei,after:"]",...er.current()}))+er.move("]: "),en(),!A.url||/[\0- \u007F]/.test(A.url)?(en=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(en=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":"\n",...er.current()}))),en(),A.title&&(en=H.enter(`title${K}`),ei+=er.move(" "+W),ei+=er.move(H.safe(A.title,{before:ei,after:W,...er.current()}))+er.move(W),en()),et(),ei},emphasis:emphasis,hardBreak:hardBreak,heading:function(A,B,H,$){var W,K;let et,en,er,ei;let eo=Math.max(Math.min(6,A.depth||1),1),el=H.createTracker($);if(et=!1,"function"==typeof(W=function(A){if("value"in A&&/\r?\n|\r/.test(A.value)||"break"===A.type)return et=!0,!1})&&"function"!=typeof K?(er=void 0,ei=W,en=K):(er=W,ei=K,en=void 0),function(A,B,H,$){let W;"function"==typeof B&&"function"!=typeof H?($=H,H=B):W=B;let K=unist_util_is_lib_convert(W),et=$?-1:1;(function factory(A,W,en){let er=A&&"object"==typeof A?A:{};if("string"==typeof er.type){let B="string"==typeof er.tagName?er.tagName:"string"==typeof er.name?er.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+A.type+(B?"<"+B+">":"")+")"})}return visit;function visit(){var er;let ei,eo,el,es=aV;if((!B||K(A,W,en[en.length-1]||void 0))&&!1===(es=Array.isArray(er=H(A,en))?er:"number"==typeof er?[!0,er]:null==er?aV:[er])[0])return es;if("children"in A&&A.children&&A.children&&"skip"!==es[0])for(eo=($?A.children.length:-1)+et,el=en.concat(A);eo>-1&&eo<A.children.length;){let B=A.children[eo];if(!1===(ei=factory(B,eo,el)())[0])return ei;eo="number"==typeof ei[1]?ei[1]:eo+et}return es}})(A,void 0,[])()}(A,er,function(A,B){let H=B[B.length-1],$=H?H.children.indexOf(A):void 0;return ei(A,$,H)},en),(!A.depth||A.depth<3)&&lib_toString(A)&&(H.options.setext||et)){let B=H.enter("headingSetext"),$=H.enter("phrasing"),W=H.containerPhrasing(A,{...el.current(),before:"\n",after:"\n"});return $(),B(),W+"\n"+(1===eo?"=":"-").repeat(W.length-(Math.max(W.lastIndexOf("\r"),W.lastIndexOf("\n"))+1))}let es="#".repeat(eo),ec=H.enter("headingAtx"),eu=H.enter("phrasing");el.move(es+" ");let ed=H.containerPhrasing(A,{before:"# ",after:"\n",...el.current()});return/^[\t ]/.test(ed)&&(ed=encodeCharacterReference(ed.charCodeAt(0))+ed.slice(1)),ed=ed?es+" "+ed:es,H.options.closeAtx&&(ed+=" "+es),eu(),ec(),ed},html:handle_html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(A,B,H,$){let W=H.enter("list"),K=H.bulletCurrent,et=A.ordered?function(A){let B=A.options.bulletOrdered||".";if("."!==B&&")"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.bulletOrdered`, expected `.` or `)`");return B}(H):checkBullet(H),en=A.ordered?"."===et?")":".":function(A){let B=checkBullet(A),H=A.options.bulletOther;if(!H)return"*"===B?"-":"*";if("*"!==H&&"+"!==H&&"-"!==H)throw Error("Cannot serialize items with `"+H+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(H===B)throw Error("Expected `bullet` (`"+B+"`) and `bulletOther` (`"+H+"`) to be different");return H}(H),er=!!B&&!!H.bulletLastUsed&&et===H.bulletLastUsed;if(!A.ordered){let B=A.children?A.children[0]:void 0;if("*"!==et&&"-"!==et||!B||B.children&&B.children[0]||"list"!==H.stack[H.stack.length-1]||"listItem"!==H.stack[H.stack.length-2]||"list"!==H.stack[H.stack.length-3]||"listItem"!==H.stack[H.stack.length-4]||0!==H.indexStack[H.indexStack.length-1]||0!==H.indexStack[H.indexStack.length-2]||0!==H.indexStack[H.indexStack.length-3]||(er=!0),checkRule(H)===et&&B){let B=-1;for(;++B<A.children.length;){let H=A.children[B];if(H&&"listItem"===H.type&&H.children&&H.children[0]&&"thematicBreak"===H.children[0].type){er=!0;break}}}}er&&(et=en),H.bulletCurrent=et;let ei=H.containerFlow(A,$);return H.bulletLastUsed=et,H.bulletCurrent=K,W(),ei},listItem:function(A,B,H,$){let W=function(A){let B=A.options.listItemIndent||"one";if("tab"!==B&&"one"!==B&&"mixed"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return B}(H),K=H.bulletCurrent||checkBullet(H);B&&"list"===B.type&&B.ordered&&(K=("number"==typeof B.start&&B.start>-1?B.start:1)+(!1===H.options.incrementListMarker?0:B.children.indexOf(A))+K);let et=K.length+1;("tab"===W||"mixed"===W&&(B&&"list"===B.type&&B.spread||A.spread))&&(et=4*Math.ceil(et/4));let en=H.createTracker($);en.move(K+" ".repeat(et-K.length)),en.shift(et);let er=H.enter("listItem"),ei=H.indentLines(H.containerFlow(A,en.current()),function(A,B,H){return B?(H?"":" ".repeat(et))+A:(H?K:K+" ".repeat(et-K.length))+A});return er(),ei},paragraph:function(A,B,H,$){let W=H.enter("paragraph"),K=H.enter("phrasing"),et=H.containerPhrasing(A,$);return K(),W(),et},root:function(A,B,H,$){let W=A.children.some(function(A){return aQ(A)}),K=W?H.containerPhrasing:H.containerFlow;return K.call(H,A,$)},strong:strong,text:function(A,B,H,$){return H.safe(A.value,$)},thematicBreak:function(A,B,H){let $=(checkRule(H)+(H.options.ruleSpaces?" ":"")).repeat(function(A){let B=A.options.ruleRepetition||3;if(B<3)throw Error("Cannot serialize rules with repetition `"+B+"` for `options.ruleRepetition`, expected `3` or more");return B}(H));return H.options.ruleSpaces?$.slice(0,-1):$}};function enterTable(A){let B=A._align;this.enter({type:"table",align:B.map(function(A){return"none"===A?null:A}),children:[]},A),this.data.inTable=!0}function exitTable(A){this.exit(A),this.data.inTable=void 0}function enterRow(A){this.enter({type:"tableRow",children:[]},A)}function exit(A){this.exit(A)}function enterCell(A){this.enter({type:"tableCell",children:[]},A)}function exitCodeText(A){let B=this.resume();this.data.inTable&&(B=B.replace(/\\([\\|])/g,replace));let H=this.stack[this.stack.length-1];H.type,H.value=B,this.exit(A)}function replace(A,B){return"|"===B?B:A}function blockquote_map(A,B,H){return">"+(H?"":" ")+A}function pattern_in_scope_listInScope(A,B,H){if("string"==typeof B&&(B=[B]),!B||0===B.length)return H;let $=-1;for(;++$<B.length;)if(A.includes(B[$]))return!0;return!1}function break_hardBreak(A,B,H,$){let W=-1;for(;++W<H.unsafe.length;){var K,et;if("\n"===H.unsafe[W].character&&pattern_in_scope_listInScope(K=H.stack,(et=H.unsafe[W]).inConstruct,!0)&&!pattern_in_scope_listInScope(K,et.notInConstruct,!1))return/[ \t]/.test($.before)?"":" "}return"\\\n"}function handle_code_map(A,B,H){return(H?"":"    ")+A}function check_quote_checkQuote(A){let B=A.options.quote||'"';if('"'!==B&&"'"!==B)throw Error("Cannot serialize title with `"+B+"` for `options.quote`, expected `\"`, or `'`");return B}function encode_character_reference_encodeCharacterReference(A){return"&#x"+A.toString(16).toUpperCase()+";"}node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),node_modules_micromark_util_character_regexCheck(/\d/),node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let aY=node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),aW=node_modules_micromark_util_character_regexCheck(/\s/);function node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function micromark_util_classify_character_classifyCharacter(A){return null===A||null!==A&&(A<0||32===A)||aW(A)?1:aY(A)?2:void 0}function encode_info_encodeInfo(A,B,H){let $=micromark_util_classify_character_classifyCharacter(A),W=micromark_util_classify_character_classifyCharacter(B);return void 0===$?void 0===W?"_"===H?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===W?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===$?void 0===W?{inside:!1,outside:!1}:1===W?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===W?{inside:!1,outside:!1}:1===W?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function emphasis_emphasis(A,B,H,$){let W=function(A){let B=A.options.emphasis||"*";if("*"!==B&&"_"!==B)throw Error("Cannot serialize emphasis with `"+B+"` for `options.emphasis`, expected `*`, or `_`");return B}(H),K=H.enter("emphasis"),et=H.createTracker($),en=et.move(W),er=et.move(H.containerPhrasing(A,{after:W,before:en,...et.current()})),ei=er.charCodeAt(0),eo=encode_info_encodeInfo($.before.charCodeAt($.before.length-1),ei,W);eo.inside&&(er=encode_character_reference_encodeCharacterReference(ei)+er.slice(1));let el=er.charCodeAt(er.length-1),es=encode_info_encodeInfo($.after.charCodeAt(0),el,W);es.inside&&(er=er.slice(0,-1)+encode_character_reference_encodeCharacterReference(el));let ec=et.move(W);return K(),H.attentionEncodeSurroundingInfo={after:es.outside,before:eo.outside},en+er+ec}emphasis_emphasis.peek=function(A,B,H){return H.options.emphasis||"*"};let node_modules_unist_util_is_lib_convert=function(A){if(null==A)return mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok;if("function"==typeof A)return node_modules_unist_util_is_lib_castFactory(A);if("object"==typeof A)return Array.isArray(A)?function(A){let B=[],H=-1;for(;++H<A.length;)B[H]=node_modules_unist_util_is_lib_convert(A[H]);return node_modules_unist_util_is_lib_castFactory(function(...A){let H=-1;for(;++H<B.length;)if(B[H].apply(this,A))return!0;return!1})}(A):node_modules_unist_util_is_lib_castFactory(function(B){let H;for(H in A)if(B[H]!==A[H])return!1;return!0});if("string"==typeof A)return node_modules_unist_util_is_lib_castFactory(function(B){return B&&B.type===A});throw Error("Expected function, string, or object as test")};function node_modules_unist_util_is_lib_castFactory(A){return function(B,H,$){var W;return!!(null!==(W=B)&&"object"==typeof W&&"type"in W&&A.call(this,B,"number"==typeof H?H:void 0,$||void 0))}}function mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok(){return!0}let aX=[],aK={};function mdast_util_to_string_lib_toString(A,B){let H=B||aK,$="boolean"!=typeof H.includeImageAlt||H.includeImageAlt,W="boolean"!=typeof H.includeHtml||H.includeHtml;return node_modules_mdast_util_to_string_lib_one(A,$,W)}function node_modules_mdast_util_to_string_lib_one(A,B,H){if(A&&"object"==typeof A){if("value"in A)return"html"!==A.type||H?A.value:"";if(B&&"alt"in A&&A.alt)return A.alt;if("children"in A)return node_modules_mdast_util_to_string_lib_all(A.children,B,H)}return Array.isArray(A)?node_modules_mdast_util_to_string_lib_all(A,B,H):""}function node_modules_mdast_util_to_string_lib_all(A,B,H){let $=[],W=-1;for(;++W<A.length;)$[W]=node_modules_mdast_util_to_string_lib_one(A[W],B,H);return $.join("")}function lib_handle_html_html(A){return A.value||""}function handle_image_image(A,B,H,$){let W=check_quote_checkQuote(H),K='"'===W?"Quote":"Apostrophe",et=H.enter("image"),en=H.enter("label"),er=H.createTracker($),ei=er.move("![");return ei+=er.move(H.safe(A.alt,{before:ei,after:"]",...er.current()}))+er.move("]("),en(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(en=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(en=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":")",...er.current()}))),en(),A.title&&(en=H.enter(`title${K}`),ei+=er.move(" "+W),ei+=er.move(H.safe(A.title,{before:ei,after:W,...er.current()}))+er.move(W),en()),ei+=er.move(")"),et(),ei}function image_reference_imageReference(A,B,H,$){let W=A.referenceType,K=H.enter("imageReference"),et=H.enter("label"),en=H.createTracker($),er=en.move("!["),ei=H.safe(A.alt,{before:er,after:"]",...en.current()});er+=en.move(ei+"]["),et();let eo=H.stack;H.stack=[],et=H.enter("reference");let el=H.safe(H.associationId(A),{before:er,after:"]",...en.current()});return et(),H.stack=eo,K(),"full"!==W&&ei&&ei===el?"shortcut"===W?er=er.slice(0,-1):er+=en.move("]"):er+=en.move(el+"]"),er}function inline_code_inlineCode(A,B,H){let $=A.value||"",W="`",K=-1;for(;RegExp("(^|[^`])"+W+"([^`]|$)").test($);)W+="`";for(/[^ \r\n]/.test($)&&(/^[ \r\n]/.test($)&&/[ \r\n]$/.test($)||/^`|`$/.test($))&&($=" "+$+" ");++K<H.unsafe.length;){let A;let B=H.unsafe[K],W=H.compilePattern(B);if(B.atBreak)for(;A=W.exec($);){let B=A.index;10===$.charCodeAt(B)&&13===$.charCodeAt(B-1)&&B--,$=$.slice(0,B)+" "+$.slice(A.index+1)}}return W+$+W}function format_link_as_autolink_formatLinkAsAutolink(A,B){let H=mdast_util_to_string_lib_toString(A);return!!(!B.options.resourceLink&&A.url&&!A.title&&A.children&&1===A.children.length&&"text"===A.children[0].type&&(H===A.url||"mailto:"+H===A.url)&&/^[a-z][a-z+.-]+:/i.test(A.url)&&!/[\0- <>\u007F]/.test(A.url))}function handle_link_link(A,B,H,$){let W,K;let et=check_quote_checkQuote(H),en='"'===et?"Quote":"Apostrophe",er=H.createTracker($);if(format_link_as_autolink_formatLinkAsAutolink(A,H)){let B=H.stack;H.stack=[],W=H.enter("autolink");let $=er.move("<");return $+=er.move(H.containerPhrasing(A,{before:$,after:">",...er.current()}))+er.move(">"),W(),H.stack=B,$}W=H.enter("link"),K=H.enter("label");let ei=er.move("[");return ei+=er.move(H.containerPhrasing(A,{before:ei,after:"](",...er.current()}))+er.move("]("),K(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(K=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(K=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":")",...er.current()}))),K(),A.title&&(K=H.enter(`title${en}`),ei+=er.move(" "+et),ei+=er.move(H.safe(A.title,{before:ei,after:et,...er.current()}))+er.move(et),K()),ei+=er.move(")"),W(),ei}function link_reference_linkReference(A,B,H,$){let W=A.referenceType,K=H.enter("linkReference"),et=H.enter("label"),en=H.createTracker($),er=en.move("["),ei=H.containerPhrasing(A,{before:er,after:"]",...en.current()});er+=en.move(ei+"]["),et();let eo=H.stack;H.stack=[],et=H.enter("reference");let el=H.safe(H.associationId(A),{before:er,after:"]",...en.current()});return et(),H.stack=eo,K(),"full"!==W&&ei&&ei===el?"shortcut"===W?er=er.slice(0,-1):er+=en.move("]"):er+=en.move(el+"]"),er}function check_bullet_checkBullet(A){let B=A.options.bullet||"*";if("*"!==B&&"+"!==B&&"-"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.bullet`, expected `*`, `+`, or `-`");return B}function check_rule_checkRule(A){let B=A.options.rule||"*";if("*"!==B&&"-"!==B&&"_"!==B)throw Error("Cannot serialize rules with `"+B+"` for `options.rule`, expected `*`, `-`, or `_`");return B}lib_handle_html_html.peek=function(){return"<"},handle_image_image.peek=function(){return"!"},image_reference_imageReference.peek=function(){return"!"},inline_code_inlineCode.peek=function(){return"`"},handle_link_link.peek=function(A,B,H){return format_link_as_autolink_formatLinkAsAutolink(A,H)?"<":"["},link_reference_linkReference.peek=function(){return"["};let aZ=node_modules_unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong_strong(A,B,H,$){let W=function(A){let B=A.options.strong||"*";if("*"!==B&&"_"!==B)throw Error("Cannot serialize strong with `"+B+"` for `options.strong`, expected `*`, or `_`");return B}(H),K=H.enter("strong"),et=H.createTracker($),en=et.move(W+W),er=et.move(H.containerPhrasing(A,{after:W,before:en,...et.current()})),ei=er.charCodeAt(0),eo=encode_info_encodeInfo($.before.charCodeAt($.before.length-1),ei,W);eo.inside&&(er=encode_character_reference_encodeCharacterReference(ei)+er.slice(1));let el=er.charCodeAt(er.length-1),es=encode_info_encodeInfo($.after.charCodeAt(0),el,W);es.inside&&(er=er.slice(0,-1)+encode_character_reference_encodeCharacterReference(el));let ec=et.move(W+W);return K(),H.attentionEncodeSurroundingInfo={after:es.outside,before:eo.outside},en+er+ec}strong_strong.peek=function(A,B,H){return H.options.strong||"*"};let aJ={blockquote:function(A,B,H,$){let W=H.enter("blockquote"),K=H.createTracker($);K.move("> "),K.shift(2);let et=H.indentLines(H.containerFlow(A,K.current()),blockquote_map);return W(),et},break:break_hardBreak,code:function(A,B,H,$){let W=function(A){let B=A.options.fence||"`";if("`"!==B&&"~"!==B)throw Error("Cannot serialize code with `"+B+"` for `options.fence`, expected `` ` `` or `~`");return B}(H),K=A.value||"",et="`"===W?"GraveAccent":"Tilde";if(!1===H.options.fences&&A.value&&!A.lang&&/[^ \r\n]/.test(A.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(A.value)){let A=H.enter("codeIndented"),B=H.indentLines(K,handle_code_map);return A(),B}let en=H.createTracker($),er=W.repeat(Math.max(longestStreak(K,W)+1,3)),ei=H.enter("codeFenced"),eo=en.move(er);if(A.lang){let B=H.enter(`codeFencedLang${et}`);eo+=en.move(H.safe(A.lang,{before:eo,after:" ",encode:["`"],...en.current()})),B()}if(A.lang&&A.meta){let B=H.enter(`codeFencedMeta${et}`);eo+=en.move(" "),eo+=en.move(H.safe(A.meta,{before:eo,after:"\n",encode:["`"],...en.current()})),B()}return eo+=en.move("\n"),K&&(eo+=en.move(K+"\n")),eo+=en.move(er),ei(),eo},definition:function(A,B,H,$){let W=check_quote_checkQuote(H),K='"'===W?"Quote":"Apostrophe",et=H.enter("definition"),en=H.enter("label"),er=H.createTracker($),ei=er.move("[");return ei+=er.move(H.safe(H.associationId(A),{before:ei,after:"]",...er.current()}))+er.move("]: "),en(),!A.url||/[\0- \u007F]/.test(A.url)?(en=H.enter("destinationLiteral"),ei+=er.move("<"),ei+=er.move(H.safe(A.url,{before:ei,after:">",...er.current()}))+er.move(">")):(en=H.enter("destinationRaw"),ei+=er.move(H.safe(A.url,{before:ei,after:A.title?" ":"\n",...er.current()}))),en(),A.title&&(en=H.enter(`title${K}`),ei+=er.move(" "+W),ei+=er.move(H.safe(A.title,{before:ei,after:W,...er.current()}))+er.move(W),en()),et(),ei},emphasis:emphasis_emphasis,hardBreak:break_hardBreak,heading:function(A,B,H,$){var W,K;let et,en,er,ei;let eo=Math.max(Math.min(6,A.depth||1),1),el=H.createTracker($);if(et=!1,"function"==typeof(W=function(A){if("value"in A&&/\r?\n|\r/.test(A.value)||"break"===A.type)return et=!0,!1})&&"function"!=typeof K?(er=void 0,ei=W,en=K):(er=W,ei=K,en=void 0),function(A,B,H,$){let W;"function"==typeof B&&"function"!=typeof H?($=H,H=B):W=B;let K=node_modules_unist_util_is_lib_convert(W),et=$?-1:1;(function factory(A,W,en){let er=A&&"object"==typeof A?A:{};if("string"==typeof er.type){let B="string"==typeof er.tagName?er.tagName:"string"==typeof er.name?er.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+A.type+(B?"<"+B+">":"")+")"})}return visit;function visit(){var er;let ei,eo,el,es=aX;if((!B||K(A,W,en[en.length-1]||void 0))&&!1===(es=Array.isArray(er=H(A,en))?er:"number"==typeof er?[!0,er]:null==er?aX:[er])[0])return es;if("children"in A&&A.children&&A.children&&"skip"!==es[0])for(eo=($?A.children.length:-1)+et,el=en.concat(A);eo>-1&&eo<A.children.length;){let B=A.children[eo];if(!1===(ei=factory(B,eo,el)())[0])return ei;eo="number"==typeof ei[1]?ei[1]:eo+et}return es}})(A,void 0,[])()}(A,er,function(A,B){let H=B[B.length-1],$=H?H.children.indexOf(A):void 0;return ei(A,$,H)},en),(!A.depth||A.depth<3)&&mdast_util_to_string_lib_toString(A)&&(H.options.setext||et)){let B=H.enter("headingSetext"),$=H.enter("phrasing"),W=H.containerPhrasing(A,{...el.current(),before:"\n",after:"\n"});return $(),B(),W+"\n"+(1===eo?"=":"-").repeat(W.length-(Math.max(W.lastIndexOf("\r"),W.lastIndexOf("\n"))+1))}let es="#".repeat(eo),ec=H.enter("headingAtx"),eu=H.enter("phrasing");el.move(es+" ");let ed=H.containerPhrasing(A,{before:"# ",after:"\n",...el.current()});return/^[\t ]/.test(ed)&&(ed=encode_character_reference_encodeCharacterReference(ed.charCodeAt(0))+ed.slice(1)),ed=ed?es+" "+ed:es,H.options.closeAtx&&(ed+=" "+es),eu(),ec(),ed},html:lib_handle_html_html,image:handle_image_image,imageReference:image_reference_imageReference,inlineCode:inline_code_inlineCode,link:handle_link_link,linkReference:link_reference_linkReference,list:function(A,B,H,$){let W=H.enter("list"),K=H.bulletCurrent,et=A.ordered?function(A){let B=A.options.bulletOrdered||".";if("."!==B&&")"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.bulletOrdered`, expected `.` or `)`");return B}(H):check_bullet_checkBullet(H),en=A.ordered?"."===et?")":".":function(A){let B=check_bullet_checkBullet(A),H=A.options.bulletOther;if(!H)return"*"===B?"-":"*";if("*"!==H&&"+"!==H&&"-"!==H)throw Error("Cannot serialize items with `"+H+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(H===B)throw Error("Expected `bullet` (`"+B+"`) and `bulletOther` (`"+H+"`) to be different");return H}(H),er=!!B&&!!H.bulletLastUsed&&et===H.bulletLastUsed;if(!A.ordered){let B=A.children?A.children[0]:void 0;if("*"!==et&&"-"!==et||!B||B.children&&B.children[0]||"list"!==H.stack[H.stack.length-1]||"listItem"!==H.stack[H.stack.length-2]||"list"!==H.stack[H.stack.length-3]||"listItem"!==H.stack[H.stack.length-4]||0!==H.indexStack[H.indexStack.length-1]||0!==H.indexStack[H.indexStack.length-2]||0!==H.indexStack[H.indexStack.length-3]||(er=!0),check_rule_checkRule(H)===et&&B){let B=-1;for(;++B<A.children.length;){let H=A.children[B];if(H&&"listItem"===H.type&&H.children&&H.children[0]&&"thematicBreak"===H.children[0].type){er=!0;break}}}}er&&(et=en),H.bulletCurrent=et;let ei=H.containerFlow(A,$);return H.bulletLastUsed=et,H.bulletCurrent=K,W(),ei},listItem:function(A,B,H,$){let W=function(A){let B=A.options.listItemIndent||"one";if("tab"!==B&&"one"!==B&&"mixed"!==B)throw Error("Cannot serialize items with `"+B+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return B}(H),K=H.bulletCurrent||check_bullet_checkBullet(H);B&&"list"===B.type&&B.ordered&&(K=("number"==typeof B.start&&B.start>-1?B.start:1)+(!1===H.options.incrementListMarker?0:B.children.indexOf(A))+K);let et=K.length+1;("tab"===W||"mixed"===W&&(B&&"list"===B.type&&B.spread||A.spread))&&(et=4*Math.ceil(et/4));let en=H.createTracker($);en.move(K+" ".repeat(et-K.length)),en.shift(et);let er=H.enter("listItem"),ei=H.indentLines(H.containerFlow(A,en.current()),function(A,B,H){return B?(H?"":" ".repeat(et))+A:(H?K:K+" ".repeat(et-K.length))+A});return er(),ei},paragraph:function(A,B,H,$){let W=H.enter("paragraph"),K=H.enter("phrasing"),et=H.containerPhrasing(A,$);return K(),W(),et},root:function(A,B,H,$){let W=A.children.some(function(A){return aZ(A)}),K=W?H.containerPhrasing:H.containerFlow;return K.call(H,A,$)},strong:strong_strong,text:function(A,B,H,$){return H.safe(A.value,$)},thematicBreak:function(A,B,H){let $=(check_rule_checkRule(H)+(H.options.ruleSpaces?" ":"")).repeat(function(A){let B=A.options.ruleRepetition||3;if(B<3)throw Error("Cannot serialize rules with repetition `"+B+"` for `options.ruleRepetition`, expected `3` or more");return B}(H));return H.options.ruleSpaces?$.slice(0,-1):$}};function exitCheck(A){let B=this.stack[this.stack.length-2];B.type,B.checked="taskListCheckValueChecked"===A.type}function exitParagraphWithTaskListItem(A){let B=this.stack[this.stack.length-2];if(B&&"listItem"===B.type&&"boolean"==typeof B.checked){let A=this.stack[this.stack.length-1];A.type;let H=A.children[0];if(H&&"text"===H.type){let $;let W=B.children,K=-1;for(;++K<W.length;){let A=W[K];if("paragraph"===A.type){$=A;break}}$===A&&(H.value=H.value.slice(1),0===H.value.length?A.children.shift():A.position&&H.position&&"number"==typeof H.position.start.offset&&(H.position.start.column++,H.position.start.offset++,A.position.start=Object.assign({},H.position.start)))}}this.exit(A)}function listItemWithTaskListItem(A,B,H,$){let W=A.children[0],K="boolean"==typeof A.checked&&W&&"paragraph"===W.type,et="["+(A.checked?"x":" ")+"] ",en=H.createTracker($);K&&en.move(et);let er=aJ.listItem(A,B,H,{...$,...en.current()});return K&&(er=er.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(A){return A+et})),er}let a0={}.hasOwnProperty,a1=micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),a2=micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/);function micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(A){return null!==A&&(A<0||32===A)}micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let a3=micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),a4=micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(/\s/);function micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}let a5={tokenize:function(A,B,H){let $=0;return function wwwPrefixInside(B){return(87===B||119===B)&&$<3?($++,A.consume(B),wwwPrefixInside):46===B&&3===$?(A.consume(B),wwwPrefixAfter):H(B)};function wwwPrefixAfter(A){return null===A?H(A):B(A)}},partial:!0},a6={tokenize:function(A,B,H){let $,W,K;return domainInside;function domainInside(B){return 46===B||95===B?A.check(a9,domainAfter,domainAtPunctuation)(B):null===B||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)||a4(B)||45!==B&&a3(B)?domainAfter(B):(K=!0,A.consume(B),domainInside)}function domainAtPunctuation(B){return 95===B?$=!0:(W=$,$=void 0),A.consume(B),domainInside}function domainAfter(A){return W||$||!K?H(A):B(A)}},partial:!0},a8={tokenize:function(A,B){let H=0,$=0;return pathInside;function pathInside(W){return 40===W?(H++,A.consume(W),pathInside):41===W&&$<H?pathAtPunctuation(W):33===W||34===W||38===W||39===W||41===W||42===W||44===W||46===W||58===W||59===W||60===W||63===W||93===W||95===W||126===W?A.check(a9,B,pathAtPunctuation)(W):null===W||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(W)||a4(W)?B(W):(A.consume(W),pathInside)}function pathAtPunctuation(B){return 41===B&&$++,A.consume(B),pathInside}},partial:!0},a9={tokenize:function(A,B,H){return trail;function trail($){return 33===$||34===$||39===$||41===$||42===$||44===$||46===$||58===$||59===$||63===$||95===$||126===$?(A.consume($),trail):38===$?(A.consume($),trailCharacterReferenceStart):93===$?(A.consume($),trailBracketAfter):60===$||null===$||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace($)||a4($)?B($):H($)}function trailBracketAfter(A){return null===A||40===A||91===A||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(A)||a4(A)?B(A):trail(A)}function trailCharacterReferenceStart(B){return a1(B)?function trailCharacterReferenceInside(B){return 59===B?(A.consume(B),trail):a1(B)?(A.consume(B),trailCharacterReferenceInside):H(B)}(B):H(B)}},partial:!0},a7={tokenize:function(A,B,H){return function(B){return A.consume(B),after};function after(A){return a2(A)?H(A):B(A)}},partial:!0},oe={name:"wwwAutolink",tokenize:function(A,B,H){let $=this;return function(B){return 87!==B&&119!==B||!previousWww.call($,$.previous)||previousUnbalanced($.events)?H(B):(A.enter("literalAutolink"),A.enter("literalAutolinkWww"),A.check(a5,A.attempt(a6,A.attempt(a8,wwwAfter),H),H)(B))};function wwwAfter(H){return A.exit("literalAutolinkWww"),A.exit("literalAutolink"),B(H)}},previous:previousWww},ot={name:"protocolAutolink",tokenize:function(A,B,H){let $=this,W="",K=!1;return function(B){return(72===B||104===B)&&previousProtocol.call($,$.previous)&&!previousUnbalanced($.events)?(A.enter("literalAutolink"),A.enter("literalAutolinkHttp"),W+=String.fromCodePoint(B),A.consume(B),protocolPrefixInside):H(B)};function protocolPrefixInside(B){if(a1(B)&&W.length<5)return W+=String.fromCodePoint(B),A.consume(B),protocolPrefixInside;if(58===B){let H=W.toLowerCase();if("http"===H||"https"===H)return A.consume(B),protocolSlashesInside}return H(B)}function protocolSlashesInside(B){return 47===B?(A.consume(B),K)?afterProtocol:(K=!0,protocolSlashesInside):H(B)}function afterProtocol(B){return null===B||null!==B&&(B<32||127===B)||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)||a4(B)||a3(B)?H(B):A.attempt(a6,A.attempt(a8,protocolAfter),H)(B)}function protocolAfter(H){return A.exit("literalAutolinkHttp"),A.exit("literalAutolink"),B(H)}},previous:previousProtocol},or={name:"emailAutolink",tokenize:function(A,B,H){let $,W;let K=this;return function(B){return!gfmAtext(B)||!previousEmail.call(K,K.previous)||previousUnbalanced(K.events)?H(B):(A.enter("literalAutolink"),A.enter("literalAutolinkEmail"),function atext(B){return gfmAtext(B)?(A.consume(B),atext):64===B?(A.consume(B),emailDomain):H(B)}(B))};function emailDomain(B){return 46===B?A.check(a7,emailDomainAfter,emailDomainDot)(B):45===B||95===B||a2(B)?(W=!0,A.consume(B),emailDomain):emailDomainAfter(B)}function emailDomainDot(B){return A.consume(B),$=!0,emailDomain}function emailDomainAfter(et){return W&&$&&a1(K.previous)?(A.exit("literalAutolinkEmail"),A.exit("literalAutolink"),B(et)):H(et)}},previous:previousEmail},ol={},oc=48;for(;oc<123;)ol[oc]=or,58==++oc?oc=65:91===oc&&(oc=97);function previousWww(A){return null===A||40===A||42===A||95===A||91===A||93===A||126===A||micromark_extension_gfm_autolink_literal_node_modules_micromark_util_character_markdownLineEndingOrSpace(A)}function previousProtocol(A){return!a1(A)}function previousEmail(A){return!(47===A||gfmAtext(A))}function gfmAtext(A){return 43===A||45===A||46===A||95===A||a2(A)}function previousUnbalanced(A){let B=A.length,H=!1;for(;B--;){let $=A[B][1];if(("labelLink"===$.type||"labelImage"===$.type)&&!$._balanced){H=!0;break}if($._gfmAutolinkLiteralWalkedInto){H=!1;break}}return A.length>0&&!H&&(A[A.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),H}function micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownLineEndingOrSpace(A){return null!==A&&(A<0||32===A)}function micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownSpace(A){return -2===A||-1===A||32===A}function micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function factorySpace(A,B,H,$){let W=$?$-1:Number.POSITIVE_INFINITY,K=0;return function($){return micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownSpace($)?(A.enter(H),function prefix($){return micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownSpace($)&&K++<W?(A.consume($),prefix):(A.exit(H),B($))}($)):B($)}}ol[43]=or,ol[45]=or,ol[46]=or,ol[95]=or,ol[72]=[or,ot],ol[104]=[or,ot],ol[87]=[or,oe],ol[119]=[or,oe],micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_footnote_node_modules_micromark_util_character_regexCheck(/\s/);let ou={partial:!0,tokenize:function(A,B,H){return function(B){return micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownSpace(B)?factorySpace(A,after,"linePrefix")(B):after(B)};function after(A){return null===A||null!==A&&A<-2?B(A):H(A)}}};function micromark_util_normalize_identifier_normalizeIdentifier(A){return A.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let od={tokenize:function(A,B,H){let $=this;return factorySpace(A,function(A){let W=$.events[$.events.length-1];return W&&"gfmFootnoteDefinitionIndent"===W[1].type&&4===W[2].sliceSerialize(W[1],!0).length?B(A):H(A)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(A,B,H){let $;let W=this,K=W.events.length,et=W.parser.gfmFootnotes||(W.parser.gfmFootnotes=[]);for(;K--;){let A=W.events[K][1];if("labelImage"===A.type){$=A;break}if("gfmFootnoteCall"===A.type||"labelLink"===A.type||"label"===A.type||"image"===A.type||"link"===A.type)break}return function(K){if(!$||!$._balanced)return H(K);let en=micromark_util_normalize_identifier_normalizeIdentifier(W.sliceSerialize({start:$.end,end:W.now()}));return 94===en.codePointAt(0)&&et.includes(en.slice(1))?(A.enter("gfmFootnoteCallLabelMarker"),A.consume(K),A.exit("gfmFootnoteCallLabelMarker"),B(K)):H(K)}}function resolveToPotentialGfmFootnoteCall(A,B){let H=A.length;for(;H--;)if("labelImage"===A[H][1].type&&"enter"===A[H][0]){A[H][1];break}A[H+1][1].type="data",A[H+3][1].type="gfmFootnoteCallLabelMarker";let $={type:"gfmFootnoteCall",start:Object.assign({},A[H+3][1].start),end:Object.assign({},A[A.length-1][1].end)},W={type:"gfmFootnoteCallMarker",start:Object.assign({},A[H+3][1].end),end:Object.assign({},A[H+3][1].end)};W.end.column++,W.end.offset++,W.end._bufferIndex++;let K={type:"gfmFootnoteCallString",start:Object.assign({},W.end),end:Object.assign({},A[A.length-1][1].start)},et={type:"chunkString",contentType:"string",start:Object.assign({},K.start),end:Object.assign({},K.end)},en=[A[H+1],A[H+2],["enter",$,B],A[H+3],A[H+4],["enter",W,B],["exit",W,B],["enter",K,B],["enter",et,B],["exit",et,B],["exit",K,B],A[A.length-2],A[A.length-1],["exit",$,B]];return A.splice(H,A.length-H+1,...en),A}function tokenizeGfmFootnoteCall(A,B,H){let $;let W=this,K=W.parser.gfmFootnotes||(W.parser.gfmFootnotes=[]),et=0;return function(B){return A.enter("gfmFootnoteCall"),A.enter("gfmFootnoteCallLabelMarker"),A.consume(B),A.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(B){return 94!==B?H(B):(A.enter("gfmFootnoteCallMarker"),A.consume(B),A.exit("gfmFootnoteCallMarker"),A.enter("gfmFootnoteCallString"),A.enter("chunkString").contentType="string",callData)}function callData(en){if(et>999||93===en&&!$||null===en||91===en||micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownLineEndingOrSpace(en))return H(en);if(93===en){A.exit("chunkString");let $=A.exit("gfmFootnoteCallString");return K.includes(micromark_util_normalize_identifier_normalizeIdentifier(W.sliceSerialize($)))?(A.enter("gfmFootnoteCallLabelMarker"),A.consume(en),A.exit("gfmFootnoteCallLabelMarker"),A.exit("gfmFootnoteCall"),B):H(en)}return micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownLineEndingOrSpace(en)||($=!0),et++,A.consume(en),92===en?callEscape:callData}function callEscape(B){return 91===B||92===B||93===B?(A.consume(B),et++,callData):callData(B)}}function tokenizeDefinitionStart(A,B,H){let $,W;let K=this,et=K.parser.gfmFootnotes||(K.parser.gfmFootnotes=[]),en=0;return function(B){return A.enter("gfmFootnoteDefinition")._container=!0,A.enter("gfmFootnoteDefinitionLabel"),A.enter("gfmFootnoteDefinitionLabelMarker"),A.consume(B),A.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(B){return 94===B?(A.enter("gfmFootnoteDefinitionMarker"),A.consume(B),A.exit("gfmFootnoteDefinitionMarker"),A.enter("gfmFootnoteDefinitionLabelString"),A.enter("chunkString").contentType="string",labelInside):H(B)}function labelInside(B){if(en>999||93===B&&!W||null===B||91===B||micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownLineEndingOrSpace(B))return H(B);if(93===B){A.exit("chunkString");let H=A.exit("gfmFootnoteDefinitionLabelString");return $=micromark_util_normalize_identifier_normalizeIdentifier(K.sliceSerialize(H)),A.enter("gfmFootnoteDefinitionLabelMarker"),A.consume(B),A.exit("gfmFootnoteDefinitionLabelMarker"),A.exit("gfmFootnoteDefinitionLabel"),labelAfter}return micromark_extension_gfm_footnote_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)||(W=!0),en++,A.consume(B),92===B?labelEscape:labelInside}function labelEscape(B){return 91===B||92===B||93===B?(A.consume(B),en++,labelInside):labelInside(B)}function labelAfter(B){return 58===B?(A.enter("definitionMarker"),A.consume(B),A.exit("definitionMarker"),et.includes($)||et.push($),factorySpace(A,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):H(B)}function whitespaceAfter(A){return B(A)}}function tokenizeDefinitionContinuation(A,B,H){return A.check(ou,B,A.attempt(od,B,H))}function gfmFootnoteDefinitionEnd(A){A.exit("gfmFootnoteDefinition")}function micromark_util_chunked_splice(A,B,H,$){let W;let K=A.length,et=0;if(B=B<0?-B>K?0:K+B:B>K?K:B,H=H>0?H:0,$.length<1e4)(W=Array.from($)).unshift(B,H),A.splice(...W);else for(H&&A.splice(B,H);et<$.length;)(W=$.slice(et,et+1e4)).unshift(B,0),A.splice(...W),et+=1e4,B+=1e4}micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let oh=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),op=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\s/);function micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function node_modules_micromark_util_classify_character_classifyCharacter(A){return null===A||null!==A&&(A<0||32===A)||op(A)?1:oh(A)?2:void 0}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(A){return null!==A&&A<-2}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(A){return null!==A&&(A<0||32===A)}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(A){return -2===A||-1===A||32===A}function micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function micromark_factory_space_factorySpace(A,B,H,$){let W=$?$-1:Number.POSITIVE_INFINITY,K=0;return function($){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace($)?(A.enter(H),function prefix($){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace($)&&K++<W?(A.consume($),prefix):(A.exit(H),B($))}($)):B($)}}micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\s/);let EditMap=class EditMap{constructor(){this.map=[]}add(A,B,H){!function(A,B,H,$){let W=0;if(0!==H||0!==$.length){for(;W<A.map.length;){if(A.map[W][0]===B){A.map[W][1]+=H,A.map[W][2].push(...$);return}W+=1}A.map.push([B,H,$])}}(this,A,B,H)}consume(A){if(this.map.sort(function(A,B){return A[0]-B[0]}),0===this.map.length)return;let B=this.map.length,H=[];for(;B>0;)B-=1,H.push(A.slice(this.map[B][0]+this.map[B][1]),this.map[B][2]),A.length=this.map[B][0];H.push(A.slice()),A.length=0;let $=H.pop();for(;$;){for(let B of $)A.push(B);$=H.pop()}this.map.length=0}};function tokenizeTable(A,B,H){let $;let W=this,K=0,et=0;return function(A){let B=W.events.length-1;for(;B>-1;){let A=W.events[B][1].type;if("lineEnding"===A||"linePrefix"===A)B--;else break}let $=B>-1?W.events[B][1].type:null,K="tableHead"===$||"tableRow"===$?bodyRowStart:headRowBefore;return K===bodyRowStart&&W.parser.lazy[W.now().line]?H(A):K(A)};function headRowBefore(B){return A.enter("tableHead"),A.enter("tableRow"),124===B||($=!0,et+=1),headRowBreak(B)}function headRowBreak(B){return null===B?H(B):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(B)?et>1?(et=0,W.interrupt=!0,A.exit("tableRow"),A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),headDelimiterStart):H(B):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(B)?micromark_factory_space_factorySpace(A,headRowBreak,"whitespace")(B):(et+=1,$&&($=!1,K+=1),124===B)?(A.enter("tableCellDivider"),A.consume(B),A.exit("tableCellDivider"),$=!0,headRowBreak):(A.enter("data"),headRowData(B))}function headRowData(B){return null===B||124===B||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?(A.exit("data"),headRowBreak(B)):(A.consume(B),92===B?headRowEscape:headRowData)}function headRowEscape(B){return 92===B||124===B?(A.consume(B),headRowData):headRowData(B)}function headDelimiterStart(B){return(W.interrupt=!1,W.parser.lazy[W.now().line])?H(B):(A.enter("tableDelimiterRow"),$=!1,micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(B))?micromark_factory_space_factorySpace(A,headDelimiterBefore,"linePrefix",W.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):headDelimiterBefore(B)}function headDelimiterBefore(B){return 45===B||58===B?headDelimiterValueBefore(B):124===B?($=!0,A.enter("tableCellDivider"),A.consume(B),A.exit("tableCellDivider"),headDelimiterCellBefore):H(B)}function headDelimiterCellBefore(B){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(B)?micromark_factory_space_factorySpace(A,headDelimiterValueBefore,"whitespace")(B):headDelimiterValueBefore(B)}function headDelimiterValueBefore(B){return 58===B?(et+=1,$=!0,A.enter("tableDelimiterMarker"),A.consume(B),A.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===B?(et+=1,headDelimiterLeftAlignmentAfter(B)):null===B||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(B)?headDelimiterCellAfter(B):H(B)}function headDelimiterLeftAlignmentAfter(B){return 45===B?(A.enter("tableDelimiterFiller"),function headDelimiterFiller(B){return 45===B?(A.consume(B),headDelimiterFiller):58===B?($=!0,A.exit("tableDelimiterFiller"),A.enter("tableDelimiterMarker"),A.consume(B),A.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(A.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(B))}(B)):H(B)}function headDelimiterRightAlignmentAfter(B){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(B)?micromark_factory_space_factorySpace(A,headDelimiterCellAfter,"whitespace")(B):headDelimiterCellAfter(B)}function headDelimiterCellAfter(W){return 124===W?headDelimiterBefore(W):null===W||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(W)?$&&K===et?(A.exit("tableDelimiterRow"),A.exit("tableHead"),B(W)):H(W):H(W)}function bodyRowStart(B){return A.enter("tableRow"),bodyRowBreak(B)}function bodyRowBreak(H){return 124===H?(A.enter("tableCellDivider"),A.consume(H),A.exit("tableCellDivider"),bodyRowBreak):null===H||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(H)?(A.exit("tableRow"),B(H)):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(H)?micromark_factory_space_factorySpace(A,bodyRowBreak,"whitespace")(H):(A.enter("data"),bodyRowData(H))}function bodyRowData(B){return null===B||124===B||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?(A.exit("data"),bodyRowBreak(B)):(A.consume(B),92===B?bodyRowEscape:bodyRowData)}function bodyRowEscape(B){return 92===B||124===B?(A.consume(B),bodyRowData):bodyRowData(B)}}function resolveTable(A,B){let H,$,W,K=-1,et=!0,en=0,er=[0,0,0,0],ei=[0,0,0,0],eo=!1,el=0,es=new EditMap;for(;++K<A.length;){let ec=A[K],eu=ec[1];"enter"===ec[0]?"tableHead"===eu.type?(eo=!1,0!==el&&(flushTableEnd(es,B,el,H,$),$=void 0,el=0),H={type:"table",start:Object.assign({},eu.start),end:Object.assign({},eu.end)},es.add(K,0,[["enter",H,B]])):"tableRow"===eu.type||"tableDelimiterRow"===eu.type?(et=!0,W=void 0,er=[0,0,0,0],ei=[0,K+1,0,0],eo&&(eo=!1,$={type:"tableBody",start:Object.assign({},eu.start),end:Object.assign({},eu.end)},es.add(K,0,[["enter",$,B]])),en="tableDelimiterRow"===eu.type?2:$?3:1):en&&("data"===eu.type||"tableDelimiterMarker"===eu.type||"tableDelimiterFiller"===eu.type)?(et=!1,0===ei[2]&&(0!==er[1]&&(ei[0]=ei[1],W=flushCell(es,B,er,en,void 0,W),er=[0,0,0,0]),ei[2]=K)):"tableCellDivider"===eu.type&&(et?et=!1:(0!==er[1]&&(ei[0]=ei[1],W=flushCell(es,B,er,en,void 0,W)),ei=[(er=ei)[1],K,0,0])):"tableHead"===eu.type?(eo=!0,el=K):"tableRow"===eu.type||"tableDelimiterRow"===eu.type?(el=K,0!==er[1]?(ei[0]=ei[1],W=flushCell(es,B,er,en,K,W)):0!==ei[1]&&(W=flushCell(es,B,ei,en,K,W)),en=0):en&&("data"===eu.type||"tableDelimiterMarker"===eu.type||"tableDelimiterFiller"===eu.type)&&(ei[3]=K)}for(0!==el&&flushTableEnd(es,B,el,H,$),es.consume(B.events),K=-1;++K<B.events.length;){let A=B.events[K];"enter"===A[0]&&"table"===A[1].type&&(A[1]._align=function(A,B){let H=!1,$=[];for(;B<A.length;){let W=A[B];if(H){if("enter"===W[0])"tableContent"===W[1].type&&$.push("tableDelimiterMarker"===A[B+1][1].type?"left":"none");else if("tableContent"===W[1].type){if("tableDelimiterMarker"===A[B-1][1].type){let A=$.length-1;$[A]="left"===$[A]?"center":"right"}}else if("tableDelimiterRow"===W[1].type)break}else"enter"===W[0]&&"tableDelimiterRow"===W[1].type&&(H=!0);B+=1}return $}(B.events,K))}return A}function flushCell(A,B,H,$,W,K){0!==H[0]&&(K.end=Object.assign({},getPoint(B.events,H[0])),A.add(H[0],0,[["exit",K,B]]));let et=getPoint(B.events,H[1]);if(K={type:1===$?"tableHeader":2===$?"tableDelimiter":"tableData",start:Object.assign({},et),end:Object.assign({},et)},A.add(H[1],0,[["enter",K,B]]),0!==H[2]){let W=getPoint(B.events,H[2]),K=getPoint(B.events,H[3]),et={type:"tableContent",start:Object.assign({},W),end:Object.assign({},K)};if(A.add(H[2],0,[["enter",et,B]]),2!==$){let $=B.events[H[2]],W=B.events[H[3]];if($[1].end=Object.assign({},W[1].end),$[1].type="chunkText",$[1].contentType="text",H[3]>H[2]+1){let B=H[2]+1,$=H[3]-H[2]-1;A.add(B,$,[])}}A.add(H[3]+1,0,[["exit",et,B]])}return void 0!==W&&(K.end=Object.assign({},getPoint(B.events,W)),A.add(W,0,[["exit",K,B]]),K=void 0),K}function flushTableEnd(A,B,H,$,W){let K=[],et=getPoint(B.events,H);W&&(W.end=Object.assign({},et),K.push(["exit",W,B])),$.end=Object.assign({},et),K.push(["exit",$,B]),A.add(H+1,0,K)}function getPoint(A,B){let H=A[B],$="enter"===H[0]?"start":"end";return H[1][$]}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(A){return -2===A||-1===A||32===A}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\s/);let om={name:"tasklistCheck",tokenize:function(A,B,H){let $=this;return function(B){return null===$.previous&&$._gfmTasklistFirstContentOfListItem?(A.enter("taskListCheck"),A.enter("taskListCheckMarker"),A.consume(B),A.exit("taskListCheckMarker"),inside):H(B)};function inside(B){return null!==B&&(B<0||32===B)?(A.enter("taskListCheckValueUnchecked"),A.consume(B),A.exit("taskListCheckValueUnchecked"),close):88===B||120===B?(A.enter("taskListCheckValueChecked"),A.consume(B),A.exit("taskListCheckValueChecked"),close):H(B)}function close(B){return 93===B?(A.enter("taskListCheckMarker"),A.consume(B),A.exit("taskListCheckMarker"),A.exit("taskListCheck"),after):H(B)}function after($){return null!==$&&$<-2?B($):micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace($)?A.check({tokenize:spaceThenNonSpace},B,H)($):H($)}}};function spaceThenNonSpace(A,B,H){return function(A,B,H,$){let W=$?$-1:Number.POSITIVE_INFINITY,K=0;return function($){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace($)?(A.enter(H),function prefix($){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace($)&&K++<W?(A.consume($),prefix):(A.exit(H),B($))}($)):B($)}}(A,function(A){return null===A?H(A):B(A)},"whitespace")}let of={};function remarkGfm(A){let B;let H=A||of,$=this.data(),W=$.micromarkExtensions||($.micromarkExtensions=[]),K=$.fromMarkdownExtensions||($.fromMarkdownExtensions=[]),et=$.toMarkdownExtensions||($.toMarkdownExtensions=[]);W.push(function(A){let B={},H=-1;for(;++H<A.length;)(function(A,B){let H;for(H in B){let $;let W=a0.call(A,H)?A[H]:void 0,K=W||(A[H]={}),et=B[H];if(et)for($ in et){a0.call(K,$)||(K[$]=[]);let A=et[$];(function(A,B){let H=-1,$=[];for(;++H<B.length;)("after"===B[H].add?A:$).push(B[H]);!function(A,B,H,$){let W;let K=A.length,et=0;if(B=B<0?-B>K?0:K+B:B>K?K:B,H=H>0?H:0,$.length<1e4)(W=Array.from($)).unshift(B,H),A.splice(...W);else for(H&&A.splice(B,H);et<$.length;)(W=$.slice(et,et+1e4)).unshift(B,0),A.splice(...W),et+=1e4,B+=1e4}(A,0,0,$)})(K[$],Array.isArray(A)?A:A?[A]:[])}}})(B,A[H]);return B}([{text:ol},{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(A){let B=(A||{}).singleTilde,H={name:"strikethrough",tokenize:function(A,H,$){let W=this.previous,K=this.events,et=0;return function(en){return 126===W&&"characterEscape"!==K[K.length-1][1].type?$(en):(A.enter("strikethroughSequenceTemporary"),function more(K){let en=node_modules_micromark_util_classify_character_classifyCharacter(W);if(126===K)return et>1?$(K):(A.consume(K),et++,more);if(et<2&&!B)return $(K);let er=A.exit("strikethroughSequenceTemporary"),ei=node_modules_micromark_util_classify_character_classifyCharacter(K);return er._open=!ei||2===ei&&!!en,er._close=!en||2===en&&!!ei,H(K)}(en))}},resolveAll:function(A,B){let H=-1;for(;++H<A.length;)if("enter"===A[H][0]&&"strikethroughSequenceTemporary"===A[H][1].type&&A[H][1]._close){let $=H;for(;$--;)if("exit"===A[$][0]&&"strikethroughSequenceTemporary"===A[$][1].type&&A[$][1]._open&&A[H][1].end.offset-A[H][1].start.offset==A[$][1].end.offset-A[$][1].start.offset){A[H][1].type="strikethroughSequence",A[$][1].type="strikethroughSequence";let W={type:"strikethrough",start:Object.assign({},A[$][1].start),end:Object.assign({},A[H][1].end)},K={type:"strikethroughText",start:Object.assign({},A[$][1].end),end:Object.assign({},A[H][1].start)},et=[["enter",W,B],["enter",A[$][1],B],["exit",A[$][1],B],["enter",K,B]],en=B.parser.constructs.insideSpan.null;en&&micromark_util_chunked_splice(et,et.length,0,function(A,B,H){let $=[],W=-1;for(;++W<A.length;){let K=A[W].resolveAll;K&&!$.includes(K)&&(B=K(B,H),$.push(K))}return B}(en,A.slice($+1,H),B)),micromark_util_chunked_splice(et,et.length,0,[["exit",K,B],["enter",A[H][1],B],["exit",A[H][1],B],["exit",W,B]]),micromark_util_chunked_splice(A,$-1,H-$+3,et),H=$+et.length-2;break}}for(H=-1;++H<A.length;)"strikethroughSequenceTemporary"===A[H][1].type&&(A[H][1].type="data");return A}};return null==B&&(B=!0),{text:{126:H},insideSpan:{null:[H]},attentionMarkers:{null:[126]}}}(H),{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:om}}])),K.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),et.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:aU,notInConstruct:aH},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:aU,notInConstruct:aH},{character:":",before:"[ps]",after:"\\/",inConstruct:aU,notInConstruct:aH}]},(B=!1,H&&H.firstLineBlank&&(B=!0),{handlers:{footnoteDefinition:function(A,H,$,W){let K=$.createTracker(W),et=K.move("[^"),en=$.enter("footnoteDefinition"),er=$.enter("label");return et+=K.move($.safe($.associationId(A),{before:et,after:"]"})),er(),et+=K.move("]:"),A.children&&A.children.length>0&&(K.shift(4),et+=K.move((B?"\n":" ")+$.indentLines($.containerFlow(A,K.current()),B?mapAll:mapExceptFirst))),en(),et},footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:az}],handlers:{delete:handleDelete}},function(A){let B=A||{},H=B.tableCellPadding,$=B.tablePipeAlign,W=B.stringLength,K=H?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(A,B,H){let $=aq.inlineCode(A,B,H);return H.stack.includes("tableCell")&&($=$.replace(/\|/g,"\\$&")),$},table:function(A,B,H,$){return serializeData(function(A,B,H){let $=A.children,W=-1,K=[],et=B.enter("table");for(;++W<$.length;)K[W]=handleTableRowAsData($[W],B,H);return et(),K}(A,H,$),A.align)},tableCell:handleTableCell,tableRow:function(A,B,H,$){let W=handleTableRowAsData(A,H,$),K=serializeData([W]);return K.slice(0,K.indexOf("\n"))}}};function handleTableCell(A,B,H,$){let W=H.enter("tableCell"),et=H.enter("phrasing"),en=H.containerPhrasing(A,{...$,before:K,after:K});return et(),W(),en}function serializeData(A,B){return function(A,B){let H=B||{},$=(H.align||[]).concat(),W=H.stringLength||defaultStringLength,K=[],et=[],en=[],er=[],ei=0,eo=-1;for(;++eo<A.length;){let B=[],$=[],K=-1;for(A[eo].length>ei&&(ei=A[eo].length);++K<A[eo].length;){var el;let et=null==(el=A[eo][K])?"":String(el);if(!1!==H.alignDelimiters){let A=W(et);$[K]=A,(void 0===er[K]||A>er[K])&&(er[K]=A)}B.push(et)}et[eo]=B,en[eo]=$}let es=-1;if("object"==typeof $&&"length"in $)for(;++es<ei;)K[es]=toAlignment($[es]);else{let A=toAlignment($);for(;++es<ei;)K[es]=A}es=-1;let ec=[],eu=[];for(;++es<ei;){let A=K[es],B="",$="";99===A?(B=":",$=":"):108===A?B=":":114===A&&($=":");let W=!1===H.alignDelimiters?1:Math.max(1,er[es]-B.length-$.length),et=B+"-".repeat(W)+$;!1!==H.alignDelimiters&&((W=B.length+W+$.length)>er[es]&&(er[es]=W),eu[es]=W),ec[es]=et}et.splice(1,0,ec),en.splice(1,0,eu),eo=-1;let ed=[];for(;++eo<et.length;){let A=et[eo],B=en[eo];es=-1;let $=[];for(;++es<ei;){let W=A[es]||"",et="",en="";if(!1!==H.alignDelimiters){let A=er[es]-(B[es]||0),H=K[es];114===H?et=" ".repeat(A):99===H?A%2?(et=" ".repeat(A/2+.5),en=" ".repeat(A/2-.5)):en=et=" ".repeat(A/2):en=" ".repeat(A)}!1===H.delimiterStart||es||$.push("|"),!1!==H.padding&&!(!1===H.alignDelimiters&&""===W)&&(!1!==H.delimiterStart||es)&&$.push(" "),!1!==H.alignDelimiters&&$.push(et),$.push(W),!1!==H.alignDelimiters&&$.push(en),!1!==H.padding&&$.push(" "),(!1!==H.delimiterEnd||es!==ei-1)&&$.push("|")}ed.push(!1===H.delimiterEnd?$.join("").replace(/ +$/,""):$.join(""))}return ed.join("\n")}(A,{align:B,alignDelimiters:$,padding:H,stringLength:W})}function handleTableRowAsData(A,B,H){let $=A.children,W=-1,K=[],et=B.enter("tableRow");for(;++W<$.length;)K[W]=handleTableCell($[W],A,B,H);return et(),K}}(H),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let og={};function use_markdown_node_modules_mdast_util_to_string_lib_one(A,B,H){if(A&&"object"==typeof A){if("value"in A)return"html"!==A.type||H?A.value:"";if(B&&"alt"in A&&A.alt)return A.alt;if("children"in A)return use_markdown_node_modules_mdast_util_to_string_lib_all(A.children,B,H)}return Array.isArray(A)?use_markdown_node_modules_mdast_util_to_string_lib_all(A,B,H):""}function use_markdown_node_modules_mdast_util_to_string_lib_all(A,B,H){let $=[],W=-1;for(;++W<A.length;)$[W]=use_markdown_node_modules_mdast_util_to_string_lib_one(A[W],B,H);return $.join("")}function node_modules_micromark_util_chunked_splice(A,B,H,$){let W;let K=A.length,et=0;if(B=B<0?-B>K?0:K+B:B>K?K:B,H=H>0?H:0,$.length<1e4)(W=Array.from($)).unshift(B,H),A.splice(...W);else for(H&&A.splice(B,H);et<$.length;)(W=$.slice(et,et+1e4)).unshift(B,0),A.splice(...W),et+=1e4,B+=1e4}function node_modules_micromark_util_chunked_push(A,B){return A.length>0?(node_modules_micromark_util_chunked_splice(A,A.length,0,B),A):B}let SpliceBuffer=class SpliceBuffer{constructor(A){this.left=A?[...A]:[],this.right=[]}get(A){if(A<0||A>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+A+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return A<this.left.length?this.left[A]:this.right[this.right.length-A+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(A,B){let H=null==B?Number.POSITIVE_INFINITY:B;return H<this.left.length?this.left.slice(A,H):A>this.left.length?this.right.slice(this.right.length-H+this.left.length,this.right.length-A+this.left.length).reverse():this.left.slice(A).concat(this.right.slice(this.right.length-H+this.left.length).reverse())}splice(A,B,H){let $=B||0;this.setCursor(Math.trunc(A));let W=this.right.splice(this.right.length-$,Number.POSITIVE_INFINITY);return H&&chunkedPush(this.left,H),W.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(A){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(A)}pushMany(A){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,A)}unshift(A){this.setCursor(0),this.right.push(A)}unshiftMany(A){this.setCursor(0),chunkedPush(this.right,A.reverse())}setCursor(A){if(A!==this.left.length&&(!(A>this.left.length)||0!==this.right.length)&&(!(A<0)||0!==this.left.length)){if(A<this.left.length){let B=this.left.splice(A,Number.POSITIVE_INFINITY);chunkedPush(this.right,B.reverse())}else{let B=this.right.splice(this.left.length+this.right.length-A,Number.POSITIVE_INFINITY);chunkedPush(this.left,B.reverse())}}}};function chunkedPush(A,B){let H=0;if(B.length<1e4)A.push(...B);else for(;H<B.length;)A.push(...B.slice(H,H+1e4)),H+=1e4}function subtokenize(A){let B,H,$,W,K,et,en;let er={},ei=-1,eo=new SpliceBuffer(A);for(;++ei<eo.length;){for(;(ei in er);)ei=er[ei];if(B=eo.get(ei),ei&&"chunkFlow"===B[1].type&&"listItemPrefix"===eo.get(ei-1)[1].type&&(($=0)<(et=B[1]._tokenizer.events).length&&"lineEndingBlank"===et[$][1].type&&($+=2),$<et.length&&"content"===et[$][1].type))for(;++$<et.length&&"content"!==et[$][1].type;)"chunkText"===et[$][1].type&&(et[$][1]._isInFirstContentOfListItem=!0,$++);if("enter"===B[0])B[1].contentType&&(Object.assign(er,function(A,B){let H,$;let W=A.get(B)[1],K=A.get(B)[2],et=B-1,en=[],er=W._tokenizer;!er&&(er=K.parser[W.contentType](W.start),W._contentTypeTextTrailing&&(er._contentTypeTextTrailing=!0));let ei=er.events,eo=[],el={},es=-1,ec=W,eu=0,ed=0,eh=[ed];for(;ec;){for(;A.get(++et)[1]!==ec;);en.push(et),!ec._tokenizer&&(H=K.sliceStream(ec),ec.next||H.push(null),$&&er.defineSkip(ec.start),ec._isInFirstContentOfListItem&&(er._gfmTasklistFirstContentOfListItem=!0),er.write(H),ec._isInFirstContentOfListItem&&(er._gfmTasklistFirstContentOfListItem=void 0)),$=ec,ec=ec.next}for(ec=W;++es<ei.length;)"exit"===ei[es][0]&&"enter"===ei[es-1][0]&&ei[es][1].type===ei[es-1][1].type&&ei[es][1].start.line!==ei[es][1].end.line&&(ed=es+1,eh.push(ed),ec._tokenizer=void 0,ec.previous=void 0,ec=ec.next);for(er.events=[],ec?(ec._tokenizer=void 0,ec.previous=void 0):eh.pop(),es=eh.length;es--;){let B=ei.slice(eh[es],eh[es+1]),H=en.pop();eo.push([H,H+B.length-1]),A.splice(H,2,B)}for(eo.reverse(),es=-1;++es<eo.length;)el[eu+eo[es][0]]=eu+eo[es][1],eu+=eo[es][1]-eo[es][0]-1;return el}(eo,ei)),ei=er[ei],en=!0);else if(B[1]._container){for($=ei,H=void 0;$--;)if("lineEnding"===(W=eo.get($))[1].type||"lineEndingBlank"===W[1].type)"enter"===W[0]&&(H&&(eo.get(H)[1].type="lineEndingBlank"),W[1].type="lineEnding",H=$);else if("linePrefix"===W[1].type||"listItemIndent"===W[1].type);else break;H&&(B[1].end={...eo.get(H)[1].start},(K=eo.slice(H,ei)).unshift(B),eo.splice(H,ei-H+1,K))}}return node_modules_micromark_util_chunked_splice(A,0,Number.POSITIVE_INFINITY,eo.slice(0)),!en}let o_={}.hasOwnProperty,oE=use_markdown_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),oy=use_markdown_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),ov=use_markdown_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/);function use_markdown_node_modules_micromark_util_character_asciiControl(A){return null!==A&&(A<32||127===A)}let oT=use_markdown_node_modules_micromark_util_character_regexCheck(/\d/),ob=use_markdown_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),oA=use_markdown_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);function use_markdown_node_modules_micromark_util_character_markdownLineEnding(A){return null!==A&&A<-2}function use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(A){return null!==A&&(A<0||32===A)}function use_markdown_node_modules_micromark_util_character_markdownSpace(A){return -2===A||-1===A||32===A}let oS=use_markdown_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),oC=use_markdown_node_modules_micromark_util_character_regexCheck(/\s/);function use_markdown_node_modules_micromark_util_character_regexCheck(A){return function(B){return null!==B&&B>-1&&A.test(String.fromCharCode(B))}}function use_markdown_node_modules_micromark_factory_space_factorySpace(A,B,H,$){let W=$?$-1:Number.POSITIVE_INFINITY,K=0;return function($){return use_markdown_node_modules_micromark_util_character_markdownSpace($)?(A.enter(H),function prefix($){return use_markdown_node_modules_micromark_util_character_markdownSpace($)&&K++<W?(A.consume($),prefix):(A.exit(H),B($))}($)):B($)}}let ox={tokenize:function(A){let B;let H=A.attempt(this.parser.constructs.contentInitial,function(B){if(null===B){A.consume(B);return}return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,H,"linePrefix")},function(H){return A.enter("paragraph"),function lineStart(H){let $=A.enter("chunkText",{contentType:"text",previous:B});return B&&(B.next=$),B=$,function data(B){if(null===B){A.exit("chunkText"),A.exit("paragraph"),A.consume(B);return}return use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.consume(B),A.exit("chunkText"),lineStart):(A.consume(B),data)}(H)}(H)});return H}},ow={tokenize:function(A){let B,H,$;let W=this,K=[],et=0;return start;function start(B){if(et<K.length){let H=K[et];return W.containerState=H[1],A.attempt(H[0].continuation,documentContinue,checkNewContainers)(B)}return checkNewContainers(B)}function documentContinue(A){if(et++,W.containerState._closeFlow){let H;W.containerState._closeFlow=void 0,B&&closeFlow();let $=W.events.length,K=$;for(;K--;)if("exit"===W.events[K][0]&&"chunkFlow"===W.events[K][1].type){H=W.events[K][1].end;break}exitContainers(et);let en=$;for(;en<W.events.length;)W.events[en][1].end={...H},en++;return node_modules_micromark_util_chunked_splice(W.events,K+1,0,W.events.slice($)),W.events.length=en,checkNewContainers(A)}return start(A)}function checkNewContainers(H){if(et===K.length){if(!B)return documentContinued(H);if(B.currentConstruct&&B.currentConstruct.concrete)return flowStart(H);W.interrupt=!!(B.currentConstruct&&!B._gfmTableDynamicInterruptHack)}return W.containerState={},A.check(oI,thereIsANewContainer,thereIsNoNewContainer)(H)}function thereIsANewContainer(A){return B&&closeFlow(),exitContainers(et),documentContinued(A)}function thereIsNoNewContainer(A){return W.parser.lazy[W.now().line]=et!==K.length,$=W.now().offset,flowStart(A)}function documentContinued(B){return W.containerState={},A.attempt(oI,containerContinue,flowStart)(B)}function containerContinue(A){return et++,K.push([W.currentConstruct,W.containerState]),documentContinued(A)}function flowStart($){if(null===$){B&&closeFlow(),exitContainers(0),A.consume($);return}return B=B||W.parser.flow(W.now()),A.enter("chunkFlow",{_tokenizer:B,contentType:"flow",previous:H}),function flowContinue(B){if(null===B){writeToChild(A.exit("chunkFlow"),!0),exitContainers(0),A.consume(B);return}return use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.consume(B),writeToChild(A.exit("chunkFlow")),et=0,W.interrupt=void 0,start):(A.consume(B),flowContinue)}($)}function writeToChild(A,K){let en=W.sliceStream(A);if(K&&en.push(null),A.previous=H,H&&(H.next=A),H=A,B.defineSkip(A.start),B.write(en),W.parser.lazy[A.start.line]){let A,H,K=B.events.length;for(;K--;)if(B.events[K][1].start.offset<$&&(!B.events[K][1].end||B.events[K][1].end.offset>$))return;let en=W.events.length,er=en;for(;er--;)if("exit"===W.events[er][0]&&"chunkFlow"===W.events[er][1].type){if(A){H=W.events[er][1].end;break}A=!0}for(exitContainers(et),K=en;K<W.events.length;)W.events[K][1].end={...H},K++;node_modules_micromark_util_chunked_splice(W.events,er+1,0,W.events.slice(en)),W.events.length=K}}function exitContainers(B){let H=K.length;for(;H-- >B;){let B=K[H];W.containerState=B[1],B[0].exit.call(W,A)}K.length=B}function closeFlow(){B.write([null]),H=void 0,B=void 0,W.containerState._closeFlow=void 0}}},oI={tokenize:function(A,B,H){return use_markdown_node_modules_micromark_factory_space_factorySpace(A,A.attempt(this.parser.constructs.document,B,H),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},oO={partial:!0,tokenize:function(A,B,H){return function(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,after,"linePrefix")(B):after(B)};function after(A){return null===A||use_markdown_node_modules_micromark_util_character_markdownLineEnding(A)?B(A):H(A)}}},oR={resolve:function(A){return subtokenize(A),A},tokenize:function(A,B){let H;return function(B){return A.enter("content"),H=A.enter("chunkContent",{contentType:"content"}),chunkInside(B)};function chunkInside(B){return null===B?contentEnd(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?A.check(oN,contentContinue,contentEnd)(B):(A.consume(B),chunkInside)}function contentEnd(H){return A.exit("chunkContent"),A.exit("content"),B(H)}function contentContinue(B){return A.consume(B),A.exit("chunkContent"),H.next=A.enter("chunkContent",{contentType:"content",previous:H}),H=H.next,chunkInside}}},oN={partial:!0,tokenize:function(A,B,H){let $=this;return function(B){return A.exit("chunkContent"),A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,prefixed,"linePrefix")};function prefixed(W){if(null===W||use_markdown_node_modules_micromark_util_character_markdownLineEnding(W))return H(W);let K=$.events[$.events.length-1];return!$.parser.constructs.disable.null.includes("codeIndented")&&K&&"linePrefix"===K[1].type&&K[2].sliceSerialize(K[1],!0).length>=4?B(W):A.interrupt($.parser.constructs.flow,H,B)(W)}}},oD={tokenize:function(A){let B=this,H=A.attempt(oO,function($){if(null===$){A.consume($);return}return A.enter("lineEndingBlank"),A.consume($),A.exit("lineEndingBlank"),B.currentConstruct=void 0,H},A.attempt(this.parser.constructs.flowInitial,afterConstruct,use_markdown_node_modules_micromark_factory_space_factorySpace(A,A.attempt(this.parser.constructs.flow,afterConstruct,A.attempt(oR,afterConstruct)),"linePrefix")));return H;function afterConstruct($){if(null===$){A.consume($);return}return A.enter("lineEnding"),A.consume($),A.exit("lineEnding"),B.currentConstruct=void 0,H}}},oL={resolveAll:createResolver()},oP=initializeFactory("string"),oM=initializeFactory("text");function initializeFactory(A){return{resolveAll:createResolver("text"===A?resolveAllLineSuffixes:void 0),tokenize:function(B){let H=this,$=this.parser.constructs[A],W=B.attempt($,start,notText);return start;function start(A){return atBreak(A)?W(A):notText(A)}function notText(A){if(null===A){B.consume(A);return}return B.enter("data"),B.consume(A),data}function data(A){return atBreak(A)?(B.exit("data"),W(A)):(B.consume(A),data)}function atBreak(A){if(null===A)return!0;let B=$[A],W=-1;if(B)for(;++W<B.length;){let A=B[W];if(!A.previous||A.previous.call(H,H.previous))return!0}return!1}}}}function createResolver(A){return function(B,H){let $,W=-1;for(;++W<=B.length;)void 0===$?B[W]&&"data"===B[W][1].type&&($=W,W++):B[W]&&"data"===B[W][1].type||(W!==$+2&&(B[$][1].end=B[W-1][1].end,B.splice($+2,W-$-2),W=$+2),$=void 0);return A?A(B,H):B}}function resolveAllLineSuffixes(A,B){let H=0;for(;++H<=A.length;)if((H===A.length||"lineEnding"===A[H][1].type)&&"data"===A[H-1][1].type){let $;let W=A[H-1][1],K=B.sliceStream(W),et=K.length,en=-1,er=0;for(;et--;){let A=K[et];if("string"==typeof A){for(en=A.length;32===A.charCodeAt(en-1);)er++,en--;if(en)break;en=-1}else if(-2===A)$=!0,er++;else if(-1===A);else{et++;break}}if(B._contentTypeTextTrailing&&H===A.length&&(er=0),er){let K={type:H===A.length||$||er<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:et?en:W.start._bufferIndex+en,_index:W.start._index+et,line:W.end.line,column:W.end.column-er,offset:W.end.offset-er},end:{...W.end}};W.end={...K.start},W.start.offset===W.end.offset?Object.assign(W,K):(A.splice(H,0,["enter",K,B],["exit",K,B]),H+=2)}H++}return A}let oF={name:"thematicBreak",tokenize:function(A,B,H){let $,W=0;return function(K){return A.enter("thematicBreak"),$=K,function atBreak(K){return K===$?(A.enter("thematicBreakSequence"),function sequence(B){return B===$?(A.consume(B),W++,sequence):(A.exit("thematicBreakSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,atBreak,"whitespace")(B):atBreak(B))}(K)):W>=3&&(null===K||use_markdown_node_modules_micromark_util_character_markdownLineEnding(K))?(A.exit("thematicBreak"),B(K)):H(K)}(K)}}},oB={continuation:{tokenize:function(A,B,H){let $=this;return $.containerState._closeFlow=void 0,A.check(oO,function(H){return $.containerState.furtherBlankLines=$.containerState.furtherBlankLines||$.containerState.initialBlankLine,use_markdown_node_modules_micromark_factory_space_factorySpace(A,B,"listItemIndent",$.containerState.size+1)(H)},function(H){return $.containerState.furtherBlankLines||!use_markdown_node_modules_micromark_util_character_markdownSpace(H)?($.containerState.furtherBlankLines=void 0,$.containerState.initialBlankLine=void 0,notInCurrentItem(H)):($.containerState.furtherBlankLines=void 0,$.containerState.initialBlankLine=void 0,A.attempt(oH,B,notInCurrentItem)(H))});function notInCurrentItem(W){return $.containerState._closeFlow=!0,$.interrupt=void 0,use_markdown_node_modules_micromark_factory_space_factorySpace(A,A.attempt(oB,B,H),"linePrefix",$.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W)}}},exit:function(A){A.exit(this.containerState.type)},name:"list",tokenize:function(A,B,H){let $=this,W=$.events[$.events.length-1],K=W&&"linePrefix"===W[1].type?W[2].sliceSerialize(W[1],!0).length:0,et=0;return function(B){let W=$.containerState.type||(42===B||43===B||45===B?"listUnordered":"listOrdered");if("listUnordered"===W?!$.containerState.marker||B===$.containerState.marker:oT(B)){if($.containerState.type||($.containerState.type=W,A.enter(W,{_container:!0})),"listUnordered"===W)return A.enter("listItemPrefix"),42===B||45===B?A.check(oF,H,atMarker)(B):atMarker(B);if(!$.interrupt||49===B)return A.enter("listItemPrefix"),A.enter("listItemValue"),function inside(B){return oT(B)&&++et<10?(A.consume(B),inside):(!$.interrupt||et<2)&&($.containerState.marker?B===$.containerState.marker:41===B||46===B)?(A.exit("listItemValue"),atMarker(B)):H(B)}(B)}return H(B)};function atMarker(B){return A.enter("listItemMarker"),A.consume(B),A.exit("listItemMarker"),$.containerState.marker=$.containerState.marker||B,A.check(oO,$.interrupt?H:onBlank,A.attempt(oU,endOfPrefix,otherPrefix))}function onBlank(A){return $.containerState.initialBlankLine=!0,K++,endOfPrefix(A)}function otherPrefix(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.enter("listItemPrefixWhitespace"),A.consume(B),A.exit("listItemPrefixWhitespace"),endOfPrefix):H(B)}function endOfPrefix(H){return $.containerState.size=K+$.sliceSerialize(A.exit("listItemPrefix"),!0).length,B(H)}}},oU={partial:!0,tokenize:function(A,B,H){let $=this;return use_markdown_node_modules_micromark_factory_space_factorySpace(A,function(A){let W=$.events[$.events.length-1];return!use_markdown_node_modules_micromark_util_character_markdownSpace(A)&&W&&"listItemPrefixWhitespace"===W[1].type?B(A):H(A)},"listItemPrefixWhitespace",$.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},oH={partial:!0,tokenize:function(A,B,H){let $=this;return use_markdown_node_modules_micromark_factory_space_factorySpace(A,function(A){let W=$.events[$.events.length-1];return W&&"listItemIndent"===W[1].type&&W[2].sliceSerialize(W[1],!0).length===$.containerState.size?B(A):H(A)},"listItemIndent",$.containerState.size+1)}},oz={continuation:{tokenize:function(A,B,H){let $=this;return function(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,contBefore,"linePrefix",$.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):contBefore(B)};function contBefore($){return A.attempt(oz,B,H)($)}}},exit:function(A){A.exit("blockQuote")},name:"blockQuote",tokenize:function(A,B,H){let $=this;return function(B){if(62===B){let H=$.containerState;return H.open||(A.enter("blockQuote",{_container:!0}),H.open=!0),A.enter("blockQuotePrefix"),A.enter("blockQuoteMarker"),A.consume(B),A.exit("blockQuoteMarker"),after}return H(B)};function after(H){return use_markdown_node_modules_micromark_util_character_markdownSpace(H)?(A.enter("blockQuotePrefixWhitespace"),A.consume(H),A.exit("blockQuotePrefixWhitespace"),A.exit("blockQuotePrefix"),B):(A.exit("blockQuotePrefix"),B(H))}}};function factoryDestination(A,B,H,$,W,K,et,en,er){let ei=er||Number.POSITIVE_INFINITY,eo=0;return function(B){return 60===B?(A.enter($),A.enter(W),A.enter(K),A.consume(B),A.exit(K),enclosedBefore):null===B||32===B||41===B||use_markdown_node_modules_micromark_util_character_asciiControl(B)?H(B):(A.enter($),A.enter(et),A.enter(en),A.enter("chunkString",{contentType:"string"}),raw(B))};function enclosedBefore(H){return 62===H?(A.enter(K),A.consume(H),A.exit(K),A.exit(W),A.exit($),B):(A.enter(en),A.enter("chunkString",{contentType:"string"}),enclosed(H))}function enclosed(B){return 62===B?(A.exit("chunkString"),A.exit(en),enclosedBefore(B)):null===B||60===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?H(B):(A.consume(B),92===B?enclosedEscape:enclosed)}function enclosedEscape(B){return 60===B||62===B||92===B?(A.consume(B),enclosed):enclosed(B)}function raw(W){return!eo&&(null===W||41===W||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(W))?(A.exit("chunkString"),A.exit(en),A.exit(et),A.exit($),B(W)):eo<ei&&40===W?(A.consume(W),eo++,raw):41===W?(A.consume(W),eo--,raw):null===W||32===W||40===W||use_markdown_node_modules_micromark_util_character_asciiControl(W)?H(W):(A.consume(W),92===W?rawEscape:raw)}function rawEscape(B){return 40===B||41===B||92===B?(A.consume(B),raw):raw(B)}}function factoryLabel(A,B,H,$,W,K){let et;let en=this,er=0;return function(B){return A.enter($),A.enter(W),A.consume(B),A.exit(W),A.enter(K),atBreak};function atBreak(ei){return er>999||null===ei||91===ei||93===ei&&!et||94===ei&&!er&&"_hiddenFootnoteSupport"in en.parser.constructs?H(ei):93===ei?(A.exit(K),A.enter(W),A.consume(ei),A.exit(W),A.exit($),B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(ei)?(A.enter("lineEnding"),A.consume(ei),A.exit("lineEnding"),atBreak):(A.enter("chunkString",{contentType:"string"}),labelInside(ei))}function labelInside(B){return null===B||91===B||93===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)||er++>999?(A.exit("chunkString"),atBreak(B)):(A.consume(B),et||(et=!use_markdown_node_modules_micromark_util_character_markdownSpace(B)),92===B?labelEscape:labelInside)}function labelEscape(B){return 91===B||92===B||93===B?(A.consume(B),er++,labelInside):labelInside(B)}}function factoryTitle(A,B,H,$,W,K){let et;return function(B){return 34===B||39===B||40===B?(A.enter($),A.enter(W),A.consume(B),A.exit(W),et=40===B?41:B,begin):H(B)};function begin(H){return H===et?(A.enter(W),A.consume(H),A.exit(W),A.exit($),B):(A.enter(K),atBreak(H))}function atBreak(B){return B===et?(A.exit(K),begin(et)):null===B?H(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,atBreak,"linePrefix")):(A.enter("chunkString",{contentType:"string"}),inside(B))}function inside(B){return B===et||null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("chunkString"),atBreak(B)):(A.consume(B),92===B?escape:inside)}function escape(B){return B===et||92===B?(A.consume(B),inside):inside(B)}}function factoryWhitespace(A,B){let H;return function start($){return use_markdown_node_modules_micromark_util_character_markdownLineEnding($)?(A.enter("lineEnding"),A.consume($),A.exit("lineEnding"),H=!0,start):use_markdown_node_modules_micromark_util_character_markdownSpace($)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,start,H?"linePrefix":"lineSuffix")($):B($)}}function node_modules_micromark_util_normalize_identifier_normalizeIdentifier(A){return A.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let oG={partial:!0,tokenize:function(A,B,H){return function(B){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?factoryWhitespace(A,beforeMarker)(B):H(B)};function beforeMarker(B){return factoryTitle(A,titleAfter,H,"definitionTitle","definitionTitleMarker","definitionTitleString")(B)}function titleAfter(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,titleAfterOptionalWhitespace,"whitespace")(B):titleAfterOptionalWhitespace(B)}function titleAfterOptionalWhitespace(A){return null===A||use_markdown_node_modules_micromark_util_character_markdownLineEnding(A)?B(A):H(A)}}},oj={name:"codeIndented",tokenize:function(A,B,H){let $=this;return function(B){return A.enter("codeIndented"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,afterPrefix,"linePrefix",5)(B)};function afterPrefix(B){let W=$.events[$.events.length-1];return W&&"linePrefix"===W[1].type&&W[2].sliceSerialize(W[1],!0).length>=4?function atBreak(B){return null===B?after(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?A.attempt(oV,atBreak,after)(B):(A.enter("codeFlowValue"),function inside(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("codeFlowValue"),atBreak(B)):(A.consume(B),inside)}(B))}(B):H(B)}function after(H){return A.exit("codeIndented"),B(H)}}},oV={partial:!0,tokenize:function(A,B,H){let $=this;return furtherStart;function furtherStart(B){return $.parser.lazy[$.now().line]?H(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),furtherStart):use_markdown_node_modules_micromark_factory_space_factorySpace(A,afterPrefix,"linePrefix",5)(B)}function afterPrefix(A){let W=$.events[$.events.length-1];return W&&"linePrefix"===W[1].type&&W[2].sliceSerialize(W[1],!0).length>=4?B(A):use_markdown_node_modules_micromark_util_character_markdownLineEnding(A)?furtherStart(A):H(A)}}},o$={name:"setextUnderline",resolveTo:function(A,B){let H,$,W,K=A.length;for(;K--;)if("enter"===A[K][0]){if("content"===A[K][1].type){H=K;break}"paragraph"===A[K][1].type&&($=K)}else"content"===A[K][1].type&&A.splice(K,1),W||"definition"!==A[K][1].type||(W=K);let et={type:"setextHeading",start:{...A[H][1].start},end:{...A[A.length-1][1].end}};return A[$][1].type="setextHeadingText",W?(A.splice($,0,["enter",et,B]),A.splice(W+1,0,["exit",A[H][1],B]),A[H][1].end={...A[W][1].end}):A[H][1]=et,A.push(["exit",et,B]),A},tokenize:function(A,B,H){let $;let W=this;return function(B){let K,et=W.events.length;for(;et--;)if("lineEnding"!==W.events[et][1].type&&"linePrefix"!==W.events[et][1].type&&"content"!==W.events[et][1].type){K="paragraph"===W.events[et][1].type;break}return!W.parser.lazy[W.now().line]&&(W.interrupt||K)?(A.enter("setextHeadingLine"),$=B,A.enter("setextHeadingLineSequence"),function inside(B){return B===$?(A.consume(B),inside):(A.exit("setextHeadingLineSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,after,"lineSuffix")(B):after(B))}(B)):H(B)};function after($){return null===$||use_markdown_node_modules_micromark_util_character_markdownLineEnding($)?(A.exit("setextHeadingLine"),B($)):H($)}}},oQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oq=["pre","script","style","textarea"],oY={partial:!0,tokenize:function(A,B,H){return function($){return A.enter("lineEnding"),A.consume($),A.exit("lineEnding"),A.attempt(oO,B,H)}}},oW={partial:!0,tokenize:function(A,B,H){let $=this;return function(B){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),after):H(B)};function after(A){return $.parser.lazy[$.now().line]?H(A):B(A)}}},oX={partial:!0,tokenize:function(A,B,H){let $=this;return function(B){return null===B?H(B):(A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),lineStart)};function lineStart(A){return $.parser.lazy[$.now().line]?H(A):B(A)}}},oK={concrete:!0,name:"codeFenced",tokenize:function(A,B,H){let $;let W=this,K={partial:!0,tokenize:function(A,B,H){let K=0;return function(B){return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),start};function start(B){return A.enter("codeFencedFence"),use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,beforeSequenceClose,"linePrefix",W.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):beforeSequenceClose(B)}function beforeSequenceClose(B){return B===$?(A.enter("codeFencedFenceSequence"),function sequenceClose(B){return B===$?(K++,A.consume(B),sequenceClose):K>=en?(A.exit("codeFencedFenceSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,sequenceCloseAfter,"whitespace")(B):sequenceCloseAfter(B)):H(B)}(B)):H(B)}function sequenceCloseAfter($){return null===$||use_markdown_node_modules_micromark_util_character_markdownLineEnding($)?(A.exit("codeFencedFence"),B($)):H($)}}},et=0,en=0;return function(B){return function(B){let K=W.events[W.events.length-1];return et=K&&"linePrefix"===K[1].type?K[2].sliceSerialize(K[1],!0).length:0,$=B,A.enter("codeFenced"),A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),function sequenceOpen(B){return B===$?(en++,A.consume(B),sequenceOpen):en<3?H(B):(A.exit("codeFencedFenceSequence"),use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,infoBefore,"whitespace")(B):infoBefore(B))}(B)}(B)};function infoBefore(K){return null===K||use_markdown_node_modules_micromark_util_character_markdownLineEnding(K)?(A.exit("codeFencedFence"),W.interrupt?B(K):A.check(oX,atNonLazyBreak,after)(K)):(A.enter("codeFencedFenceInfo"),A.enter("chunkString",{contentType:"string"}),function info(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("chunkString"),A.exit("codeFencedFenceInfo"),infoBefore(B)):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.exit("chunkString"),A.exit("codeFencedFenceInfo"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,metaBefore,"whitespace")(B)):96===B&&B===$?H(B):(A.consume(B),info)}(K))}function metaBefore(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?infoBefore(B):(A.enter("codeFencedFenceMeta"),A.enter("chunkString",{contentType:"string"}),function meta(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("chunkString"),A.exit("codeFencedFenceMeta"),infoBefore(B)):96===B&&B===$?H(B):(A.consume(B),meta)}(B))}function atNonLazyBreak(B){return A.attempt(K,after,contentBefore)(B)}function contentBefore(B){return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),contentStart}function contentStart(B){return et>0&&use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,beforeContentChunk,"linePrefix",et+1)(B):beforeContentChunk(B)}function beforeContentChunk(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?A.check(oX,atNonLazyBreak,after)(B):(A.enter("codeFlowValue"),function contentChunk(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("codeFlowValue"),beforeContentChunk(B)):(A.consume(B),contentChunk)}(B))}function after(H){return A.exit("codeFenced"),B(H)}}},oZ=document.createElement("i");function decodeNamedCharacterReference(A){let B="&"+A+";";oZ.innerHTML=B;let H=oZ.textContent;return(59!==H.charCodeAt(H.length-1)||"semi"===A)&&H!==B&&H}let oJ={name:"characterReference",tokenize:function(A,B,H){let $,W;let K=this,et=0;return function(B){return A.enter("characterReference"),A.enter("characterReferenceMarker"),A.consume(B),A.exit("characterReferenceMarker"),open};function open(B){return 35===B?(A.enter("characterReferenceMarkerNumeric"),A.consume(B),A.exit("characterReferenceMarkerNumeric"),numeric):(A.enter("characterReferenceValue"),$=31,W=oy,value(B))}function numeric(B){return 88===B||120===B?(A.enter("characterReferenceMarkerHexadecimal"),A.consume(B),A.exit("characterReferenceMarkerHexadecimal"),A.enter("characterReferenceValue"),$=6,W=ob,value):(A.enter("characterReferenceValue"),$=7,W=oT,value(B))}function value(en){if(59===en&&et){let $=A.exit("characterReferenceValue");return W!==oy||decodeNamedCharacterReference(K.sliceSerialize($))?(A.enter("characterReferenceMarker"),A.consume(en),A.exit("characterReferenceMarker"),A.exit("characterReference"),B):H(en)}return W(en)&&et++<$?(A.consume(en),value):H(en)}}},o0={name:"characterEscape",tokenize:function(A,B,H){return function(B){return A.enter("characterEscape"),A.enter("escapeMarker"),A.consume(B),A.exit("escapeMarker"),inside};function inside($){return oA($)?(A.enter("characterEscapeValue"),A.consume($),A.exit("characterEscapeValue"),A.exit("characterEscape"),B):H($)}}},o1={name:"lineEnding",tokenize:function(A,B){return function(H){return A.enter("lineEnding"),A.consume(H),A.exit("lineEnding"),use_markdown_node_modules_micromark_factory_space_factorySpace(A,B,"linePrefix")}}};function micromark_util_resolve_all_resolveAll(A,B,H){let $=[],W=-1;for(;++W<A.length;){let K=A[W].resolveAll;K&&!$.includes(K)&&(B=K(B,H),$.push(K))}return B}let o2={name:"labelEnd",resolveAll:function(A){let B=-1,H=[];for(;++B<A.length;){let $=A[B][1];if(H.push(A[B]),"labelImage"===$.type||"labelLink"===$.type||"labelEnd"===$.type){let A="labelImage"===$.type?4:2;$.type="data",B+=A}}return A.length!==H.length&&node_modules_micromark_util_chunked_splice(A,0,A.length,H),A},resolveTo:function(A,B){let H,$,W,K,et=A.length,en=0;for(;et--;)if(H=A[et][1],$){if("link"===H.type||"labelLink"===H.type&&H._inactive)break;"enter"===A[et][0]&&"labelLink"===H.type&&(H._inactive=!0)}else if(W){if("enter"===A[et][0]&&("labelImage"===H.type||"labelLink"===H.type)&&!H._balanced&&($=et,"labelLink"!==H.type)){en=2;break}}else"labelEnd"===H.type&&(W=et);let er={type:"labelLink"===A[$][1].type?"link":"image",start:{...A[$][1].start},end:{...A[A.length-1][1].end}},ei={type:"label",start:{...A[$][1].start},end:{...A[W][1].end}},eo={type:"labelText",start:{...A[$+en+2][1].end},end:{...A[W-2][1].start}};return K=node_modules_micromark_util_chunked_push(K=[["enter",er,B],["enter",ei,B]],A.slice($+1,$+en+3)),K=node_modules_micromark_util_chunked_push(K,[["enter",eo,B]]),K=node_modules_micromark_util_chunked_push(K,micromark_util_resolve_all_resolveAll(B.parser.constructs.insideSpan.null,A.slice($+en+4,W-3),B)),K=node_modules_micromark_util_chunked_push(K,[["exit",eo,B],A[W-2],A[W-1],["exit",ei,B]]),K=node_modules_micromark_util_chunked_push(K,A.slice(W+1)),K=node_modules_micromark_util_chunked_push(K,[["exit",er,B]]),node_modules_micromark_util_chunked_splice(A,$,A.length,K),A},tokenize:function(A,B,H){let $,W;let K=this,et=K.events.length;for(;et--;)if(("labelImage"===K.events[et][1].type||"labelLink"===K.events[et][1].type)&&!K.events[et][1]._balanced){$=K.events[et][1];break}return function(B){return $?$._inactive?labelEndNok(B):(W=K.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier(K.sliceSerialize({start:$.end,end:K.now()}))),A.enter("labelEnd"),A.enter("labelMarker"),A.consume(B),A.exit("labelMarker"),A.exit("labelEnd"),after):H(B)};function after(B){return 40===B?A.attempt(o3,labelEndOk,W?labelEndOk:labelEndNok)(B):91===B?A.attempt(o4,labelEndOk,W?referenceNotFull:labelEndNok)(B):W?labelEndOk(B):labelEndNok(B)}function referenceNotFull(B){return A.attempt(o5,labelEndOk,labelEndNok)(B)}function labelEndOk(A){return B(A)}function labelEndNok(A){return $._balanced=!0,H(A)}}},o3={tokenize:function(A,B,H){return function(B){return A.enter("resource"),A.enter("resourceMarker"),A.consume(B),A.exit("resourceMarker"),resourceBefore};function resourceBefore(B){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?factoryWhitespace(A,resourceOpen)(B):resourceOpen(B)}function resourceOpen(B){return 41===B?resourceEnd(B):factoryDestination(A,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(B)}function resourceDestinationAfter(B){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?factoryWhitespace(A,resourceBetween)(B):resourceEnd(B)}function resourceDestinationMissing(A){return H(A)}function resourceBetween(B){return 34===B||39===B||40===B?factoryTitle(A,resourceTitleAfter,H,"resourceTitle","resourceTitleMarker","resourceTitleString")(B):resourceEnd(B)}function resourceTitleAfter(B){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?factoryWhitespace(A,resourceEnd)(B):resourceEnd(B)}function resourceEnd($){return 41===$?(A.enter("resourceMarker"),A.consume($),A.exit("resourceMarker"),A.exit("resource"),B):H($)}}},o4={tokenize:function(A,B,H){let $=this;return function(B){return factoryLabel.call($,A,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(B)};function referenceFullAfter(A){return $.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier($.sliceSerialize($.events[$.events.length-1][1]).slice(1,-1)))?B(A):H(A)}function referenceFullMissing(A){return H(A)}}},o5={tokenize:function(A,B,H){return function(B){return A.enter("reference"),A.enter("referenceMarker"),A.consume(B),A.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen($){return 93===$?(A.enter("referenceMarker"),A.consume($),A.exit("referenceMarker"),A.exit("reference"),B):H($)}}},o6={name:"labelStartImage",resolveAll:o2.resolveAll,tokenize:function(A,B,H){let $=this;return function(B){return A.enter("labelImage"),A.enter("labelImageMarker"),A.consume(B),A.exit("labelImageMarker"),open};function open(B){return 91===B?(A.enter("labelMarker"),A.consume(B),A.exit("labelMarker"),A.exit("labelImage"),after):H(B)}function after(A){return 94===A&&"_hiddenFootnoteSupport"in $.parser.constructs?H(A):B(A)}}};function use_markdown_node_modules_micromark_util_classify_character_classifyCharacter(A){return null===A||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(A)||oC(A)?1:oS(A)?2:void 0}let o8={name:"attention",resolveAll:function(A,B){let H,$,W,K,et,en,er,ei,eo=-1;for(;++eo<A.length;)if("enter"===A[eo][0]&&"attentionSequence"===A[eo][1].type&&A[eo][1]._close){for(H=eo;H--;)if("exit"===A[H][0]&&"attentionSequence"===A[H][1].type&&A[H][1]._open&&B.sliceSerialize(A[H][1]).charCodeAt(0)===B.sliceSerialize(A[eo][1]).charCodeAt(0)){if((A[H][1]._close||A[eo][1]._open)&&(A[eo][1].end.offset-A[eo][1].start.offset)%3&&!((A[H][1].end.offset-A[H][1].start.offset+A[eo][1].end.offset-A[eo][1].start.offset)%3))continue;en=A[H][1].end.offset-A[H][1].start.offset>1&&A[eo][1].end.offset-A[eo][1].start.offset>1?2:1;let el={...A[H][1].end},es={...A[eo][1].start};movePoint(el,-en),movePoint(es,en),K={type:en>1?"strongSequence":"emphasisSequence",start:el,end:{...A[H][1].end}},et={type:en>1?"strongSequence":"emphasisSequence",start:{...A[eo][1].start},end:es},W={type:en>1?"strongText":"emphasisText",start:{...A[H][1].end},end:{...A[eo][1].start}},$={type:en>1?"strong":"emphasis",start:{...K.start},end:{...et.end}},A[H][1].end={...K.start},A[eo][1].start={...et.end},er=[],A[H][1].end.offset-A[H][1].start.offset&&(er=node_modules_micromark_util_chunked_push(er,[["enter",A[H][1],B],["exit",A[H][1],B]])),er=node_modules_micromark_util_chunked_push(er,[["enter",$,B],["enter",K,B],["exit",K,B],["enter",W,B]]),er=node_modules_micromark_util_chunked_push(er,micromark_util_resolve_all_resolveAll(B.parser.constructs.insideSpan.null,A.slice(H+1,eo),B)),er=node_modules_micromark_util_chunked_push(er,[["exit",W,B],["enter",et,B],["exit",et,B],["exit",$,B]]),A[eo][1].end.offset-A[eo][1].start.offset?(ei=2,er=node_modules_micromark_util_chunked_push(er,[["enter",A[eo][1],B],["exit",A[eo][1],B]])):ei=0,node_modules_micromark_util_chunked_splice(A,H-1,eo-H+3,er),eo=H+er.length-ei-2;break}}for(eo=-1;++eo<A.length;)"attentionSequence"===A[eo][1].type&&(A[eo][1].type="data");return A},tokenize:function(A,B){let H;let $=this.parser.constructs.attentionMarkers.null,W=this.previous,K=use_markdown_node_modules_micromark_util_classify_character_classifyCharacter(W);return function(et){return H=et,A.enter("attentionSequence"),function inside(et){if(et===H)return A.consume(et),inside;let en=A.exit("attentionSequence"),er=use_markdown_node_modules_micromark_util_classify_character_classifyCharacter(et),ei=!er||2===er&&K||$.includes(et),eo=!K||2===K&&er||$.includes(W);return en._open=!!(42===H?ei:ei&&(K||!eo)),en._close=!!(42===H?eo:eo&&(er||!ei)),B(et)}(et)}}};function movePoint(A,B){A.column+=B,A.offset+=B,A._bufferIndex+=B}let o9={name:"labelStartLink",resolveAll:o2.resolveAll,tokenize:function(A,B,H){let $=this;return function(B){return A.enter("labelLink"),A.enter("labelMarker"),A.consume(B),A.exit("labelMarker"),A.exit("labelLink"),after};function after(A){return 94===A&&"_hiddenFootnoteSupport"in $.parser.constructs?H(A):B(A)}}},o7={42:oB,43:oB,45:oB,48:oB,49:oB,50:oB,51:oB,52:oB,53:oB,54:oB,55:oB,56:oB,57:oB,62:oz},le={91:{name:"definition",tokenize:function(A,B,H){let $;let W=this;return function(B){return A.enter("definition"),factoryLabel.call(W,A,labelAfter,H,"definitionLabel","definitionLabelMarker","definitionLabelString")(B)};function labelAfter(B){return($=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(W.sliceSerialize(W.events[W.events.length-1][1]).slice(1,-1)),58===B)?(A.enter("definitionMarker"),A.consume(B),A.exit("definitionMarker"),markerAfter):H(B)}function markerAfter(B){return use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?factoryWhitespace(A,destinationBefore)(B):destinationBefore(B)}function destinationBefore(B){return factoryDestination(A,destinationAfter,H,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(B)}function destinationAfter(B){return A.attempt(oG,after,after)(B)}function after(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,afterWhitespace,"whitespace")(B):afterWhitespace(B)}function afterWhitespace(K){return null===K||use_markdown_node_modules_micromark_util_character_markdownLineEnding(K)?(A.exit("definition"),W.parser.defined.push($),B(K)):H(K)}}}},lt={[-2]:oj,[-1]:oj,32:oj},ln={35:{name:"headingAtx",resolve:function(A,B){let H,$,W=A.length-2,K=3;return"whitespace"===A[3][1].type&&(K+=2),W-2>K&&"whitespace"===A[W][1].type&&(W-=2),"atxHeadingSequence"===A[W][1].type&&(K===W-1||W-4>K&&"whitespace"===A[W-2][1].type)&&(W-=K+1===W?2:4),W>K&&(H={type:"atxHeadingText",start:A[K][1].start,end:A[W][1].end},$={type:"chunkText",start:A[K][1].start,end:A[W][1].end,contentType:"text"},node_modules_micromark_util_chunked_splice(A,K,W-K+1,[["enter",H,B],["enter",$,B],["exit",$,B],["exit",H,B]])),A},tokenize:function(A,B,H){let $=0;return function(W){return A.enter("atxHeading"),A.enter("atxHeadingSequence"),function sequenceOpen(W){return 35===W&&$++<6?(A.consume(W),sequenceOpen):null===W||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(W)?(A.exit("atxHeadingSequence"),function atBreak(H){return 35===H?(A.enter("atxHeadingSequence"),function sequenceFurther(B){return 35===B?(A.consume(B),sequenceFurther):(A.exit("atxHeadingSequence"),atBreak(B))}(H)):null===H||use_markdown_node_modules_micromark_util_character_markdownLineEnding(H)?(A.exit("atxHeading"),B(H)):use_markdown_node_modules_micromark_util_character_markdownSpace(H)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,atBreak,"whitespace")(H):(A.enter("atxHeadingText"),function data(B){return null===B||35===B||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?(A.exit("atxHeadingText"),atBreak(B)):(A.consume(B),data)}(H))}(W)):H(W)}(W)}}},42:oF,45:[o$,oF],60:{concrete:!0,name:"htmlFlow",resolveTo:function(A){let B=A.length;for(;B--&&("enter"!==A[B][0]||"htmlFlow"!==A[B][1].type););return B>1&&"linePrefix"===A[B-2][1].type&&(A[B][1].start=A[B-2][1].start,A[B+1][1].start=A[B-2][1].start,A.splice(B-2,2)),A},tokenize:function(A,B,H){let $,W,K,et,en;let er=this;return function(B){return A.enter("htmlFlow"),A.enter("htmlFlowData"),A.consume(B),open};function open(et){return 33===et?(A.consume(et),declarationOpen):47===et?(A.consume(et),W=!0,tagCloseStart):63===et?(A.consume(et),$=3,er.interrupt?B:continuationDeclarationInside):oE(et)?(A.consume(et),K=String.fromCharCode(et),tagName):H(et)}function declarationOpen(W){return 45===W?(A.consume(W),$=2,commentOpenInside):91===W?(A.consume(W),$=5,et=0,cdataOpenInside):oE(W)?(A.consume(W),$=4,er.interrupt?B:continuationDeclarationInside):H(W)}function commentOpenInside($){return 45===$?(A.consume($),er.interrupt?B:continuationDeclarationInside):H($)}function cdataOpenInside($){let W="CDATA[";return $===W.charCodeAt(et++)?(A.consume($),et===W.length)?er.interrupt?B:continuation:cdataOpenInside:H($)}function tagCloseStart(B){return oE(B)?(A.consume(B),K=String.fromCharCode(B),tagName):H(B)}function tagName(et){if(null===et||47===et||62===et||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(et)){let en=47===et,ei=K.toLowerCase();return!en&&!W&&oq.includes(ei)?($=1,er.interrupt?B(et):continuation(et)):oQ.includes(K.toLowerCase())?($=6,en)?(A.consume(et),basicSelfClosing):er.interrupt?B(et):continuation(et):($=7,er.interrupt&&!er.parser.lazy[er.now().line]?H(et):W?function completeClosingTagAfter(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),completeClosingTagAfter):completeEnd(B)}(et):completeAttributeNameBefore(et))}return 45===et||oy(et)?(A.consume(et),K+=String.fromCharCode(et),tagName):H(et)}function basicSelfClosing($){return 62===$?(A.consume($),er.interrupt?B:continuation):H($)}function completeAttributeNameBefore(B){return 47===B?(A.consume(B),completeEnd):58===B||95===B||oE(B)?(A.consume(B),completeAttributeName):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),completeAttributeNameBefore):completeEnd(B)}function completeAttributeName(B){return 45===B||46===B||58===B||95===B||oy(B)?(A.consume(B),completeAttributeName):completeAttributeNameAfter(B)}function completeAttributeNameAfter(B){return 61===B?(A.consume(B),completeAttributeValueBefore):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),completeAttributeNameAfter):completeAttributeNameBefore(B)}function completeAttributeValueBefore(B){return null===B||60===B||61===B||62===B||96===B?H(B):34===B||39===B?(A.consume(B),en=B,completeAttributeValueQuoted):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),completeAttributeValueBefore):function completeAttributeValueUnquoted(B){return null===B||34===B||39===B||47===B||60===B||61===B||62===B||96===B||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?completeAttributeNameAfter(B):(A.consume(B),completeAttributeValueUnquoted)}(B)}function completeAttributeValueQuoted(B){return B===en?(A.consume(B),en=null,completeAttributeValueQuotedAfter):null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?H(B):(A.consume(B),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(A){return 47===A||62===A||use_markdown_node_modules_micromark_util_character_markdownSpace(A)?completeAttributeNameBefore(A):H(A)}function completeEnd(B){return 62===B?(A.consume(B),completeAfter):H(B)}function completeAfter(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?continuation(B):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),completeAfter):H(B)}function continuation(B){return 45===B&&2===$?(A.consume(B),continuationCommentInside):60===B&&1===$?(A.consume(B),continuationRawTagOpen):62===B&&4===$?(A.consume(B),continuationClose):63===B&&3===$?(A.consume(B),continuationDeclarationInside):93===B&&5===$?(A.consume(B),continuationCdataInside):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)&&(6===$||7===$)?(A.exit("htmlFlowData"),A.check(oY,continuationAfter,continuationStart)(B)):null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("htmlFlowData"),continuationStart(B)):(A.consume(B),continuation)}function continuationStart(B){return A.check(oW,continuationStartNonLazy,continuationAfter)(B)}function continuationStartNonLazy(B){return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),continuationBefore}function continuationBefore(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?continuationStart(B):(A.enter("htmlFlowData"),continuation(B))}function continuationCommentInside(B){return 45===B?(A.consume(B),continuationDeclarationInside):continuation(B)}function continuationRawTagOpen(B){return 47===B?(A.consume(B),K="",continuationRawEndTag):continuation(B)}function continuationRawEndTag(B){if(62===B){let H=K.toLowerCase();return oq.includes(H)?(A.consume(B),continuationClose):continuation(B)}return oE(B)&&K.length<8?(A.consume(B),K+=String.fromCharCode(B),continuationRawEndTag):continuation(B)}function continuationCdataInside(B){return 93===B?(A.consume(B),continuationDeclarationInside):continuation(B)}function continuationDeclarationInside(B){return 62===B?(A.consume(B),continuationClose):45===B&&2===$?(A.consume(B),continuationDeclarationInside):continuation(B)}function continuationClose(B){return null===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("htmlFlowData"),continuationAfter(B)):(A.consume(B),continuationClose)}function continuationAfter(H){return A.exit("htmlFlow"),B(H)}}},61:o$,95:oF,96:oK,126:oK},li={38:oJ,92:o0},lo={[-5]:o1,[-4]:o1,[-3]:o1,33:o6,38:oJ,42:o8,60:[{name:"autolink",tokenize:function(A,B,H){let $=0;return function(B){return A.enter("autolink"),A.enter("autolinkMarker"),A.consume(B),A.exit("autolinkMarker"),A.enter("autolinkProtocol"),open};function open(B){return oE(B)?(A.consume(B),schemeOrEmailAtext):64===B?H(B):emailAtext(B)}function schemeOrEmailAtext(B){return 43===B||45===B||46===B||oy(B)?($=1,function schemeInsideOrEmailAtext(B){return 58===B?(A.consume(B),$=0,urlInside):(43===B||45===B||46===B||oy(B))&&$++<32?(A.consume(B),schemeInsideOrEmailAtext):($=0,emailAtext(B))}(B)):emailAtext(B)}function urlInside($){return 62===$?(A.exit("autolinkProtocol"),A.enter("autolinkMarker"),A.consume($),A.exit("autolinkMarker"),A.exit("autolink"),B):null===$||32===$||60===$||use_markdown_node_modules_micromark_util_character_asciiControl($)?H($):(A.consume($),urlInside)}function emailAtext(B){return 64===B?(A.consume(B),emailAtSignOrDot):ov(B)?(A.consume(B),emailAtext):H(B)}function emailAtSignOrDot(W){return oy(W)?function emailLabel(W){return 46===W?(A.consume(W),$=0,emailAtSignOrDot):62===W?(A.exit("autolinkProtocol").type="autolinkEmail",A.enter("autolinkMarker"),A.consume(W),A.exit("autolinkMarker"),A.exit("autolink"),B):function emailValue(B){if((45===B||oy(B))&&$++<63){let H=45===B?emailValue:emailLabel;return A.consume(B),H}return H(B)}(W)}(W):H(W)}}},{name:"htmlText",tokenize:function(A,B,H){let $,W,K;let et=this;return function(B){return A.enter("htmlText"),A.enter("htmlTextData"),A.consume(B),open};function open(B){return 33===B?(A.consume(B),declarationOpen):47===B?(A.consume(B),tagCloseStart):63===B?(A.consume(B),instruction):oE(B)?(A.consume(B),tagOpen):H(B)}function declarationOpen(B){return 45===B?(A.consume(B),commentOpenInside):91===B?(A.consume(B),W=0,cdataOpenInside):oE(B)?(A.consume(B),declaration):H(B)}function commentOpenInside(B){return 45===B?(A.consume(B),commentEnd):H(B)}function comment(B){return null===B?H(B):45===B?(A.consume(B),commentClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=comment,lineEndingBefore(B)):(A.consume(B),comment)}function commentClose(B){return 45===B?(A.consume(B),commentEnd):comment(B)}function commentEnd(A){return 62===A?end(A):45===A?commentClose(A):comment(A)}function cdataOpenInside(B){let $="CDATA[";return B===$.charCodeAt(W++)?(A.consume(B),W===$.length?cdata:cdataOpenInside):H(B)}function cdata(B){return null===B?H(B):93===B?(A.consume(B),cdataClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=cdata,lineEndingBefore(B)):(A.consume(B),cdata)}function cdataClose(B){return 93===B?(A.consume(B),cdataEnd):cdata(B)}function cdataEnd(B){return 62===B?end(B):93===B?(A.consume(B),cdataEnd):cdata(B)}function declaration(B){return null===B||62===B?end(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=declaration,lineEndingBefore(B)):(A.consume(B),declaration)}function instruction(B){return null===B?H(B):63===B?(A.consume(B),instructionClose):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=instruction,lineEndingBefore(B)):(A.consume(B),instruction)}function instructionClose(A){return 62===A?end(A):instruction(A)}function tagCloseStart(B){return oE(B)?(A.consume(B),tagClose):H(B)}function tagClose(B){return 45===B||oy(B)?(A.consume(B),tagClose):function tagCloseBetween(B){return use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=tagCloseBetween,lineEndingBefore(B)):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),tagCloseBetween):end(B)}(B)}function tagOpen(B){return 45===B||oy(B)?(A.consume(B),tagOpen):47===B||62===B||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?tagOpenBetween(B):H(B)}function tagOpenBetween(B){return 47===B?(A.consume(B),end):58===B||95===B||oE(B)?(A.consume(B),tagOpenAttributeName):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=tagOpenBetween,lineEndingBefore(B)):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),tagOpenBetween):end(B)}function tagOpenAttributeName(B){return 45===B||46===B||58===B||95===B||oy(B)?(A.consume(B),tagOpenAttributeName):function tagOpenAttributeNameAfter(B){return 61===B?(A.consume(B),tagOpenAttributeValueBefore):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=tagOpenAttributeNameAfter,lineEndingBefore(B)):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),tagOpenAttributeNameAfter):tagOpenBetween(B)}(B)}function tagOpenAttributeValueBefore(B){return null===B||60===B||61===B||62===B||96===B?H(B):34===B||39===B?(A.consume(B),$=B,tagOpenAttributeValueQuoted):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=tagOpenAttributeValueBefore,lineEndingBefore(B)):use_markdown_node_modules_micromark_util_character_markdownSpace(B)?(A.consume(B),tagOpenAttributeValueBefore):(A.consume(B),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(B){return B===$?(A.consume(B),$=void 0,tagOpenAttributeValueQuotedAfter):null===B?H(B):use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(K=tagOpenAttributeValueQuoted,lineEndingBefore(B)):(A.consume(B),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(B){return null===B||34===B||39===B||60===B||61===B||96===B?H(B):47===B||62===B||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(B)?tagOpenBetween(B):(A.consume(B),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(A){return 47===A||62===A||use_markdown_node_modules_micromark_util_character_markdownLineEndingOrSpace(A)?tagOpenBetween(A):H(A)}function end($){return 62===$?(A.consume($),A.exit("htmlTextData"),A.exit("htmlText"),B):H($)}function lineEndingBefore(B){return A.exit("htmlTextData"),A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(B){return use_markdown_node_modules_micromark_util_character_markdownSpace(B)?use_markdown_node_modules_micromark_factory_space_factorySpace(A,lineEndingAfterPrefix,"linePrefix",et.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):lineEndingAfterPrefix(B)}function lineEndingAfterPrefix(B){return A.enter("htmlTextData"),K(B)}}}],91:o9,92:[{name:"hardBreakEscape",tokenize:function(A,B,H){return function(B){return A.enter("hardBreakEscape"),A.consume(B),after};function after($){return use_markdown_node_modules_micromark_util_character_markdownLineEnding($)?(A.exit("hardBreakEscape"),B($)):H($)}}},o0],93:o2,95:o8,96:{name:"codeText",previous:function(A){return 96!==A||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(A){let B,H,$=A.length-4,W=3;if(("lineEnding"===A[3][1].type||"space"===A[W][1].type)&&("lineEnding"===A[$][1].type||"space"===A[$][1].type)){for(B=W;++B<$;)if("codeTextData"===A[B][1].type){A[W][1].type="codeTextPadding",A[$][1].type="codeTextPadding",W+=2,$-=2;break}}for(B=W-1,$++;++B<=$;)void 0===H?B!==$&&"lineEnding"!==A[B][1].type&&(H=B):(B===$||"lineEnding"===A[B][1].type)&&(A[H][1].type="codeTextData",B!==H+2&&(A[H][1].end=A[B-1][1].end,A.splice(H+2,B-H-2),$-=B-H-2,B=H+2),H=void 0);return A},tokenize:function(A,B,H){let $,W,K=0;return function(B){return A.enter("codeText"),A.enter("codeTextSequence"),function sequenceOpen(B){return 96===B?(A.consume(B),K++,sequenceOpen):(A.exit("codeTextSequence"),between(B))}(B)};function between(et){return null===et?H(et):32===et?(A.enter("space"),A.consume(et),A.exit("space"),between):96===et?(W=A.enter("codeTextSequence"),$=0,function sequenceClose(H){return 96===H?(A.consume(H),$++,sequenceClose):$===K?(A.exit("codeTextSequence"),A.exit("codeText"),B(H)):(W.type="codeTextData",data(H))}(et)):use_markdown_node_modules_micromark_util_character_markdownLineEnding(et)?(A.enter("lineEnding"),A.consume(et),A.exit("lineEnding"),between):(A.enter("codeTextData"),data(et))}function data(B){return null===B||32===B||96===B||use_markdown_node_modules_micromark_util_character_markdownLineEnding(B)?(A.exit("codeTextData"),between(B)):(A.consume(B),data)}}}},ll={null:[o8,oL]},lc={null:[42,95]},lu={null:[]},ld=/[\0\t\n\r]/g;function decodeNumericCharacterReference(A,B){let H=Number.parseInt(A,B);return H<9||11===H||H>13&&H<32||H>126&&H<160||H>55295&&H<57344||H>64975&&H<65008||(65535&H)==65535||(65535&H)==65534||H>1114111?"�":String.fromCodePoint(H)}let lh=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(A,B,H){if(B)return B;let $=H.charCodeAt(0);if(35===$){let A=H.charCodeAt(1),B=120===A||88===A;return decodeNumericCharacterReference(H.slice(B?2:1),B?16:10)}return decodeNamedCharacterReference(H)||A}function stringifyPosition(A){return A&&"object"==typeof A?"position"in A||"type"in A?unist_util_stringify_position_lib_position(A.position):"start"in A||"end"in A?unist_util_stringify_position_lib_position(A):"line"in A||"column"in A?unist_util_stringify_position_lib_point(A):"":""}function unist_util_stringify_position_lib_point(A){return index(A&&A.line)+":"+index(A&&A.column)}function unist_util_stringify_position_lib_position(A){return unist_util_stringify_position_lib_point(A&&A.start)+"-"+unist_util_stringify_position_lib_point(A&&A.end)}function index(A){return A&&"number"==typeof A?A:1}let lp={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(A){return{line:A.line,column:A.column,offset:A.offset}}function defaultOnError(A,B){if(A)throw Error("Cannot close `"+A.type+"` ("+stringifyPosition({start:A.start,end:A.end})+"): a different token (`"+B.type+"`, "+stringifyPosition({start:B.start,end:B.end})+") is open");throw Error("Cannot close document, a token (`"+B.type+"`, "+stringifyPosition({start:B.start,end:B.end})+") is still open")}function remarkParse(A){let B=this;B.parser=function(H){var $,W;let K,et,en,er;return"string"!=typeof($={...B.data("settings"),...A,extensions:B.data("micromarkExtensions")||[],mdastExtensions:B.data("fromMarkdownExtensions")||[]})&&(W=$,$=void 0),(function(A){let B={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}),listItemValue:function(A){if(this.data.expectingFirstListItemValue){let B=this.stack[this.stack.length-2];B.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(A){let B=this.stack[this.stack.length-1];if(!B.depth){let H=this.sliceSerialize(A).length;B.depth=H}},autolink:closer(),autolinkEmail:function(A){onexitdata.call(this,A);let B=this.stack[this.stack.length-1];B.url="mailto:"+this.sliceSerialize(A)},autolinkProtocol:function(A){onexitdata.call(this,A);let B=this.stack[this.stack.length-1];B.url=this.sliceSerialize(A)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(A){let B;let H=this.sliceSerialize(A),$=this.data.characterReferenceType;if($)B=decodeNumericCharacterReference(H,"characterReferenceMarkerNumeric"===$?10:16),this.data.characterReferenceType=void 0;else{let A=decodeNamedCharacterReference(H);B=A}let W=this.stack[this.stack.length-1];W.value+=B},characterReference:function(A){let B=this.stack.pop();B.position.end=mdast_util_from_markdown_lib_point(A.end)},codeFenced:closer(function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.lang=A},codeFencedFenceMeta:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.meta=A},codeFlowValue:onexitdata,codeIndented:closer(function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.value=A.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.value=A}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.url=A},definitionLabelString:function(A){let B=this.resume(),H=this.stack[this.stack.length-1];H.label=B,H.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(A)).toLowerCase()},definitionTitleString:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.title=A},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.value=A}),htmlFlowData:onexitdata,htmlText:closer(function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.value=A}),htmlTextData:onexitdata,image:closer(function(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let B=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=B,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}),label:function(){let A=this.stack[this.stack.length-1],B=this.resume(),H=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===H.type){let B=A.children;H.children=B}else H.alt=B},labelText:function(A){let B=this.sliceSerialize(A),H=this.stack[this.stack.length-2];H.label=B.replace(lh,decode),H.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(B).toLowerCase()},lineEnding:function(A){let H=this.stack[this.stack.length-1];if(this.data.atHardBreak){let B=H.children[H.children.length-1];B.position.end=mdast_util_from_markdown_lib_point(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&B.canContainEols.includes(H.type)&&(onenterdata.call(this,A),onexitdata.call(this,A))},link:closer(function(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let B=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=B,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(A){let B=this.resume(),H=this.stack[this.stack.length-1];H.label=B,H.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.url=A},resourceTitleString:function(){let A=this.resume(),B=this.stack[this.stack.length-1];B.title=A},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(A){let B=this.stack[this.stack.length-1];B.depth=61===this.sliceSerialize(A).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(A,B){let H=-1;for(;++H<B.length;){let $=B[H];Array.isArray($)?configure(A,$):function(A,B){let H;for(H in B)if(lp.call(B,H))switch(H){case"canContainEols":{let $=B[H];$&&A[H].push(...$);break}case"transforms":{let $=B[H];$&&A[H].push(...$);break}case"enter":case"exit":{let $=B[H];$&&Object.assign(A[H],$)}}}(A,$)}})(B,(A||{}).mdastExtensions||[]);let H={};return function(A){let $={type:"root",children:[]},W={stack:[$],tokenStack:[],config:B,enter,exit,buffer,resume,data:H},K=[],et=-1;for(;++et<A.length;)if("listOrdered"===A[et][1].type||"listUnordered"===A[et][1].type){if("enter"===A[et][0])K.push(et);else{let B=K.pop();et=function(A,B,H){let $,W,K,et,en=B-1,er=-1,ei=!1;for(;++en<=H;){let B=A[en];switch(B[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===B[0]?er++:er--,et=void 0;break;case"lineEndingBlank":"enter"===B[0]&&(!$||et||er||K||(K=en),et=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:et=void 0}if(!er&&"enter"===B[0]&&"listItemPrefix"===B[1].type||-1===er&&"exit"===B[0]&&("listUnordered"===B[1].type||"listOrdered"===B[1].type)){if($){let et=en;for(W=void 0;et--;){let B=A[et];if("lineEnding"===B[1].type||"lineEndingBlank"===B[1].type){if("exit"===B[0])continue;W&&(A[W][1].type="lineEndingBlank",ei=!0),B[1].type="lineEnding",W=et}else if("linePrefix"===B[1].type||"blockQuotePrefix"===B[1].type||"blockQuotePrefixWhitespace"===B[1].type||"blockQuoteMarker"===B[1].type||"listItemIndent"===B[1].type);else break}K&&(!W||K<W)&&($._spread=!0),$.end=Object.assign({},W?A[W][1].start:B[1].end),A.splice(W||en,0,["exit",$,B[2]]),en++,H++}if("listItemPrefix"===B[1].type){let W={type:"listItem",_spread:!1,start:Object.assign({},B[1].start),end:void 0};$=W,A.splice(en,0,["enter",W,B[2]]),en++,H++,K=void 0,et=!0}}}return A[B][1]._spread=ei,H}(A,B,et)}}for(et=-1;++et<A.length;){let H=B[A[et][0]];lp.call(H,A[et][1].type)&&H[A[et][1].type].call(Object.assign({sliceSerialize:A[et][2].sliceSerialize},W),A[et][1])}if(W.tokenStack.length>0){let A=W.tokenStack[W.tokenStack.length-1],B=A[1]||defaultOnError;B.call(W,void 0,A[0])}for($.position={start:mdast_util_from_markdown_lib_point(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<B.transforms.length;)$=B.transforms[et]($)||$;return $};function opener(A,B){return function(H){enter.call(this,A(H),H),B&&B.call(this,H)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(A,B,H){let $=this.stack[this.stack.length-1],W=$.children;W.push(A),this.stack.push(A),this.tokenStack.push([B,H||void 0]),A.position={start:mdast_util_from_markdown_lib_point(B.start),end:void 0}}function closer(A){return function(B){A&&A.call(this,B),exit.call(this,B)}}function exit(A,B){let H=this.stack.pop(),$=this.tokenStack.pop();if($){if($[0].type!==A.type){if(B)B.call(this,A,$[0]);else{let B=$[1]||defaultOnError;B.call(this,A,$[0])}}}else throw Error("Cannot close `"+A.type+"` ("+stringifyPosition({start:A.start,end:A.end})+"): it’s not open");H.position.end=mdast_util_from_markdown_lib_point(A.end)}function resume(){return function(A,B){let H="boolean"!=typeof og.includeImageAlt||og.includeImageAlt,$="boolean"!=typeof og.includeHtml||og.includeHtml;return use_markdown_node_modules_mdast_util_to_string_lib_one(A,H,$)}(this.stack.pop())}function onenterdata(A){let B=this.stack[this.stack.length-1],H=B.children,$=H[H.length-1];$&&"text"===$.type||(($={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(A.start),end:void 0},H.push($)),this.stack.push($)}function onexitdata(A){let B=this.stack.pop();B.value+=this.sliceSerialize(A),B.position.end=mdast_util_from_markdown_lib_point(A.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(A){this.data.characterReferenceType=A.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(A){return{type:"list",ordered:"listOrdered"===A.type,start:null,spread:A._spread,children:[]}}})(W)(function(A){for(;!subtokenize(A););return A}((function(A){let B=function(A){let B={},H=-1;for(;++H<A.length;)(function(A,B){let H;for(H in B){let $;let W=o_.call(A,H)?A[H]:void 0,K=W||(A[H]={}),et=B[H];if(et)for($ in et){o_.call(K,$)||(K[$]=[]);let A=et[$];(function(A,B){let H=-1,$=[];for(;++H<B.length;)("after"===B[H].add?A:$).push(B[H]);node_modules_micromark_util_chunked_splice(A,0,0,$)})(K[$],Array.isArray(A)?A:A?[A]:[])}}})(B,A[H]);return B}([eJ,...(A||{}).extensions||[]]),H={constructs:B,content:create(ox),defined:[],document:create(ow),flow:create(oD),lazy:{},string:create(oP),text:create(oM)};return H;function create(A){return function(B){return function(A,B,H){let $={_bufferIndex:-1,_index:0,line:H&&H.line||1,column:H&&H.column||1,offset:H&&H.offset||0},W={},K=[],et=[],en=[],er={attempt:constructFactory(function(A,B){addResult(A,B.from)}),check:constructFactory(onsuccessfulcheck),consume:function(A){use_markdown_node_modules_micromark_util_character_markdownLineEnding(A)?($.line++,$.column=1,$.offset+=-3===A?2:1,accountForPotentialSkip()):-1!==A&&($.column++,$.offset++),$._bufferIndex<0?$._index++:($._bufferIndex++,$._bufferIndex===et[$._index].length&&($._bufferIndex=-1,$._index++)),ei.previous=A},enter:function(A,B){let H=B||{};return H.type=A,H.start=now(),ei.events.push(["enter",H,ei]),en.push(H),H},exit:function(A){let B=en.pop();return B.end=now(),ei.events.push(["exit",B,ei]),B},interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},ei={code:null,containerState:{},defineSkip:function(A){W[A.line]=A.column,accountForPotentialSkip()},events:[],now,parser:A,previous:null,sliceSerialize:function(A,B){return function(A,B){let H,$=-1,W=[];for(;++$<A.length;){let K;let et=A[$];if("string"==typeof et)K=et;else switch(et){case -5:K="\r";break;case -4:K="\n";break;case -3:K="\r\n";break;case -2:K=B?" ":"	";break;case -1:if(!B&&H)continue;K=" ";break;default:K=String.fromCharCode(et)}H=-2===et,W.push(K)}return W.join("")}(sliceStream(A),B)},sliceStream,write:function(A){return(et=node_modules_micromark_util_chunked_push(et,A),function(){let A;for(;$._index<et.length;){var B;let H=et[$._index];if("string"==typeof H)for(A=$._index,$._bufferIndex<0&&($._bufferIndex=0);$._index===A&&$._bufferIndex<H.length;)B=H.charCodeAt($._bufferIndex),eo=eo(B);else eo=eo(H)}}(),null!==et[et.length-1])?[]:(addResult(B,0),ei.events=micromark_util_resolve_all_resolveAll(K,ei.events,ei),ei.events)}},eo=B.tokenize.call(ei,er);return B.resolveAll&&K.push(B),ei;function sliceStream(A){return function(A,B){let H;let $=B.start._index,W=B.start._bufferIndex,K=B.end._index,et=B.end._bufferIndex;if($===K)H=[A[$].slice(W,et)];else{if(H=A.slice($,K),W>-1){let A=H[0];"string"==typeof A?H[0]=A.slice(W):H.shift()}et>0&&H.push(A[K].slice(0,et))}return H}(et,A)}function now(){let{_bufferIndex:A,_index:B,line:H,column:W,offset:K}=$;return{_bufferIndex:A,_index:B,line:H,column:W,offset:K}}function onsuccessfulcheck(A,B){B.restore()}function constructFactory(A,B){return function(H,W,K){let et,eo,el,es;return Array.isArray(H)?handleListOfConstructs(H):"tokenize"in H?handleListOfConstructs([H]):function(A){let B=null!==A&&H[A],$=null!==A&&H.null,W=[...Array.isArray(B)?B:B?[B]:[],...Array.isArray($)?$:$?[$]:[]];return handleListOfConstructs(W)(A)};function handleListOfConstructs(A){return(et=A,eo=0,0===A.length)?K:handleConstruct(A[eo])}function handleConstruct(A){return function(H){return(es=function(){let A=now(),B=ei.previous,H=ei.currentConstruct,W=ei.events.length,K=Array.from(en);return{from:W,restore:function(){$=A,ei.previous=B,ei.currentConstruct=H,ei.events.length=W,en=K,accountForPotentialSkip()}}}(),el=A,A.partial||(ei.currentConstruct=A),A.name&&ei.parser.constructs.disable.null.includes(A.name))?nok(H):A.tokenize.call(B?Object.assign(Object.create(ei),B):ei,er,ok,nok)(H)}}function ok(B){return A(el,es),W}function nok(A){return(es.restore(),++eo<et.length)?handleConstruct(et[eo]):K}}}function addResult(A,B){A.resolveAll&&!K.includes(A)&&K.push(A),A.resolve&&node_modules_micromark_util_chunked_splice(ei.events,B,ei.events.length-B,A.resolve(ei.events.slice(B),ei)),A.resolveTo&&(ei.events=A.resolveTo(ei.events,ei))}function accountForPotentialSkip(){$.line in W&&$.column<2&&($.column=W[$.line],$.offset+=W[$.line]-1)}}(H,A,B)}}})(W).document().write((et=1,en="",er=!0,function(A,B,H){let $,W,ei,eo,el;let es=[];for(A=en+("string"==typeof A?A.toString():new TextDecoder(B||void 0).decode(A)),ei=0,en="",er&&(65279===A.charCodeAt(0)&&ei++,er=void 0);ei<A.length;){if(ld.lastIndex=ei,eo=($=ld.exec(A))&&void 0!==$.index?$.index:A.length,el=A.charCodeAt(eo),!$){en=A.slice(ei);break}if(10===el&&ei===eo&&K)es.push(-3),K=void 0;else switch(K&&(es.push(-5),K=void 0),ei<eo&&(es.push(A.slice(ei,eo)),et+=eo-ei),el){case 0:es.push(65533),et++;break;case 9:for(W=4*Math.ceil(et/4),es.push(-2);et++<W;)es.push(-1);break;case 10:es.push(-4),et=1;break;default:K=!0,et=1}ei=eo+1}return H&&(K&&es.push(-5),en&&es.push(en),es.push(null)),es})(H,$,!0))))}}function normalizeUri(A){let B=[],H=-1,$=0,W=0;for(;++H<A.length;){let K=A.charCodeAt(H),et="";if(37===K&&oy(A.charCodeAt(H+1))&&oy(A.charCodeAt(H+2)))W=2;else if(K<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(K))||(et=String.fromCharCode(K));else if(K>55295&&K<57344){let B=A.charCodeAt(H+1);K<56320&&B>56319&&B<57344?(et=String.fromCharCode(K,B),W=1):et="�"}else et=String.fromCharCode(K);et&&(B.push(A.slice($,H),encodeURIComponent(et)),$=H+W+1,et=""),W&&(H+=W,W=0)}return B.join("")+A.slice($)}function defaultFootnoteBackContent(A,B){let H=[{type:"text",value:"↩"}];return B>1&&H.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(B)}]}),H}function defaultFootnoteBackLabel(A,B){return"Back to reference "+(A+1)+(B>1?"-"+B:"")}let use_markdown_node_modules_unist_util_is_lib_convert=function(A){if(null==A)return use_markdown_node_modules_unist_util_is_lib_ok;if("function"==typeof A)return use_markdown_node_modules_unist_util_is_lib_castFactory(A);if("object"==typeof A)return Array.isArray(A)?function(A){let B=[],H=-1;for(;++H<A.length;)B[H]=use_markdown_node_modules_unist_util_is_lib_convert(A[H]);return use_markdown_node_modules_unist_util_is_lib_castFactory(function(...A){let H=-1;for(;++H<B.length;)if(B[H].apply(this,A))return!0;return!1})}(A):use_markdown_node_modules_unist_util_is_lib_castFactory(function(B){let H;for(H in A)if(B[H]!==A[H])return!1;return!0});if("string"==typeof A)return use_markdown_node_modules_unist_util_is_lib_castFactory(function(B){return B&&B.type===A});throw Error("Expected function, string, or object as test")};function use_markdown_node_modules_unist_util_is_lib_castFactory(A){return function(B,H,$){var W;return!!(null!==(W=B)&&"object"==typeof W&&"type"in W&&A.call(this,B,"number"==typeof H?H:void 0,$||void 0))}}function use_markdown_node_modules_unist_util_is_lib_ok(){return!0}let lm=[],lf=unist_util_position_lib_point("end"),lg=unist_util_position_lib_point("start");function unist_util_position_lib_point(A){return function(B){let H=B&&B.position&&B.position[A]||{};if("number"==typeof H.line&&H.line>0&&"number"==typeof H.column&&H.column>0)return{line:H.line,column:H.column,offset:"number"==typeof H.offset&&H.offset>-1?H.offset:void 0}}}function revert(A,B){let H=B.referenceType,$="]";if("collapsed"===H?$+="[]":"full"===H&&($+="["+(B.label||B.identifier)+"]"),"imageReference"===B.type)return[{type:"text",value:"!["+B.alt+$}];let W=A.all(B),K=W[0];K&&"text"===K.type?K.value="["+K.value:W.unshift({type:"text",value:"["});let et=W[W.length-1];return et&&"text"===et.type?et.value+=$:W.push({type:"text",value:$}),W}function listItemLoose(A){let B=A.spread;return null==B?A.children.length>1:B}function trimLine(A,B,H){let $=0,W=A.length;if(B){let B=A.codePointAt($);for(;9===B||32===B;)$++,B=A.codePointAt($)}if(H){let B=A.codePointAt(W-1);for(;9===B||32===B;)W--,B=A.codePointAt(W-1)}return W>$?A.slice($,W):""}let l_={blockquote:function(A,B){let H={type:"element",tagName:"blockquote",properties:{},children:A.wrap(A.all(B),!0)};return A.patch(B,H),A.applyData(B,H)},break:function(A,B){let H={type:"element",tagName:"br",properties:{},children:[]};return A.patch(B,H),[A.applyData(B,H),{type:"text",value:"\n"}]},code:function(A,B){let H=B.value?B.value+"\n":"",$={};B.lang&&($.className=["language-"+B.lang]);let W={type:"element",tagName:"code",properties:$,children:[{type:"text",value:H}]};return B.meta&&(W.data={meta:B.meta}),A.patch(B,W),W={type:"element",tagName:"pre",properties:{},children:[W=A.applyData(B,W)]},A.patch(B,W),W},delete:function(A,B){let H={type:"element",tagName:"del",properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},emphasis:function(A,B){let H={type:"element",tagName:"em",properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},footnoteReference:function(A,B){let H;let $="string"==typeof A.options.clobberPrefix?A.options.clobberPrefix:"user-content-",W=String(B.identifier).toUpperCase(),K=normalizeUri(W.toLowerCase()),et=A.footnoteOrder.indexOf(W),en=A.footnoteCounts.get(W);void 0===en?(en=0,A.footnoteOrder.push(W),H=A.footnoteOrder.length):H=et+1,en+=1,A.footnoteCounts.set(W,en);let er={type:"element",tagName:"a",properties:{href:"#"+$+"fn-"+K,id:$+"fnref-"+K+(en>1?"-"+en:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(H)}]};A.patch(B,er);let ei={type:"element",tagName:"sup",properties:{},children:[er]};return A.patch(B,ei),A.applyData(B,ei)},heading:function(A,B){let H={type:"element",tagName:"h"+B.depth,properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},html:function(A,B){if(A.options.allowDangerousHtml){let H={type:"raw",value:B.value};return A.patch(B,H),A.applyData(B,H)}},imageReference:function(A,B){let H=String(B.identifier).toUpperCase(),$=A.definitionById.get(H);if(!$)return revert(A,B);let W={src:normalizeUri($.url||""),alt:B.alt};null!==$.title&&void 0!==$.title&&(W.title=$.title);let K={type:"element",tagName:"img",properties:W,children:[]};return A.patch(B,K),A.applyData(B,K)},image:function(A,B){let H={src:normalizeUri(B.url)};null!==B.alt&&void 0!==B.alt&&(H.alt=B.alt),null!==B.title&&void 0!==B.title&&(H.title=B.title);let $={type:"element",tagName:"img",properties:H,children:[]};return A.patch(B,$),A.applyData(B,$)},inlineCode:function(A,B){let H={type:"text",value:B.value.replace(/\r?\n|\r/g," ")};A.patch(B,H);let $={type:"element",tagName:"code",properties:{},children:[H]};return A.patch(B,$),A.applyData(B,$)},linkReference:function(A,B){let H=String(B.identifier).toUpperCase(),$=A.definitionById.get(H);if(!$)return revert(A,B);let W={href:normalizeUri($.url||"")};null!==$.title&&void 0!==$.title&&(W.title=$.title);let K={type:"element",tagName:"a",properties:W,children:A.all(B)};return A.patch(B,K),A.applyData(B,K)},link:function(A,B){let H={href:normalizeUri(B.url)};null!==B.title&&void 0!==B.title&&(H.title=B.title);let $={type:"element",tagName:"a",properties:H,children:A.all(B)};return A.patch(B,$),A.applyData(B,$)},listItem:function(A,B,H){let $=A.all(B),W=H?function(A){let B=!1;if("list"===A.type){B=A.spread||!1;let H=A.children,$=-1;for(;!B&&++$<H.length;)B=listItemLoose(H[$])}return B}(H):listItemLoose(B),K={},et=[];if("boolean"==typeof B.checked){let A;let H=$[0];H&&"element"===H.type&&"p"===H.tagName?A=H:(A={type:"element",tagName:"p",properties:{},children:[]},$.unshift(A)),A.children.length>0&&A.children.unshift({type:"text",value:" "}),A.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:B.checked,disabled:!0},children:[]}),K.className=["task-list-item"]}let en=-1;for(;++en<$.length;){let A=$[en];(W||0!==en||"element"!==A.type||"p"!==A.tagName)&&et.push({type:"text",value:"\n"}),"element"!==A.type||"p"!==A.tagName||W?et.push(A):et.push(...A.children)}let er=$[$.length-1];er&&(W||"element"!==er.type||"p"!==er.tagName)&&et.push({type:"text",value:"\n"});let ei={type:"element",tagName:"li",properties:K,children:et};return A.patch(B,ei),A.applyData(B,ei)},list:function(A,B){let H={},$=A.all(B),W=-1;for("number"==typeof B.start&&1!==B.start&&(H.start=B.start);++W<$.length;){let A=$[W];if("element"===A.type&&"li"===A.tagName&&A.properties&&Array.isArray(A.properties.className)&&A.properties.className.includes("task-list-item")){H.className=["contains-task-list"];break}}let K={type:"element",tagName:B.ordered?"ol":"ul",properties:H,children:A.wrap($,!0)};return A.patch(B,K),A.applyData(B,K)},paragraph:function(A,B){let H={type:"element",tagName:"p",properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},root:function(A,B){let H={type:"root",children:A.wrap(A.all(B))};return A.patch(B,H),A.applyData(B,H)},strong:function(A,B){let H={type:"element",tagName:"strong",properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},table:function(A,B){let H=A.all(B),$=H.shift(),W=[];if($){let H={type:"element",tagName:"thead",properties:{},children:A.wrap([$],!0)};A.patch(B.children[0],H),W.push(H)}if(H.length>0){let $={type:"element",tagName:"tbody",properties:{},children:A.wrap(H,!0)},K=lg(B.children[1]),et=lf(B.children[B.children.length-1]);K&&et&&($.position={start:K,end:et}),W.push($)}let K={type:"element",tagName:"table",properties:{},children:A.wrap(W,!0)};return A.patch(B,K),A.applyData(B,K)},tableCell:function(A,B){let H={type:"element",tagName:"td",properties:{},children:A.all(B)};return A.patch(B,H),A.applyData(B,H)},tableRow:function(A,B,H){let $=H?H.children:void 0,W=$?$.indexOf(B):1,K=0===W?"th":"td",et=H&&"table"===H.type?H.align:void 0,en=et?et.length:B.children.length,er=-1,ei=[];for(;++er<en;){let H=B.children[er],$={},W=et?et[er]:void 0;W&&($.align=W);let en={type:"element",tagName:K,properties:$,children:[]};H&&(en.children=A.all(H),A.patch(H,en),en=A.applyData(H,en)),ei.push(en)}let eo={type:"element",tagName:"tr",properties:{},children:A.wrap(ei,!0)};return A.patch(B,eo),A.applyData(B,eo)},text:function(A,B){let H={type:"text",value:function(A){let B=String(A),H=/\r?\n|\r/g,$=H.exec(B),W=0,K=[];for(;$;)K.push(trimLine(B.slice(W,$.index),W>0,!0),$[0]),W=$.index+$[0].length,$=H.exec(B);return K.push(trimLine(B.slice(W),W>0,!1)),K.join("")}(String(B.value))};return A.patch(B,H),A.applyData(B,H)},thematicBreak:function(A,B){let H={type:"element",tagName:"hr",properties:{},children:[]};return A.patch(B,H),A.applyData(B,H)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let lE={}.hasOwnProperty,ly={};function state_patch(A,B){A.position&&(B.position=function(A){let B=lg(A),H=lf(A);if(B&&H)return{start:B,end:H}}(A))}function applyData(A,B){let H=B;if(A&&A.data){let B=A.data.hName,$=A.data.hChildren,W=A.data.hProperties;if("string"==typeof B){if("element"===H.type)H.tagName=B;else{let A="children"in H?H.children:[H];H={type:"element",tagName:B,properties:{},children:A}}}"element"===H.type&&W&&Object.assign(H.properties,n6(W)),"children"in H&&H.children&&null!=$&&(H.children=$)}return H}function defaultUnknownHandler(A,B){let H=B.data||{},$="value"in B&&!(lE.call(H,"hProperties")||lE.call(H,"hChildren"))?{type:"text",value:B.value}:{type:"element",tagName:"div",properties:{},children:A.all(B)};return A.patch(B,$),A.applyData(B,$)}function wrap(A,B){let H=[],$=-1;for(B&&H.push({type:"text",value:"\n"});++$<A.length;)$&&H.push({type:"text",value:"\n"}),H.push(A[$]);return B&&A.length>0&&H.push({type:"text",value:"\n"}),H}function trimMarkdownSpaceStart(A){let B=0,H=A.charCodeAt(B);for(;9===H||32===H;)B++,H=A.charCodeAt(B);return A.slice(B)}function toHast(A,B){let H=function(A,B){var H,$;let W,K,et;let en=B||ly,er=new Map,ei=new Map,eo=new Map,el={...l_,...en.handlers},es={all:function(A){let B=[];if("children"in A){let H=A.children,$=-1;for(;++$<H.length;){let W=es.one(H[$],A);if(W){if($&&"break"===H[$-1].type&&(Array.isArray(W)||"text"!==W.type||(W.value=trimMarkdownSpaceStart(W.value)),!Array.isArray(W)&&"element"===W.type)){let A=W.children[0];A&&"text"===A.type&&(A.value=trimMarkdownSpaceStart(A.value))}Array.isArray(W)?B.push(...W):B.push(W)}}}return B},applyData,definitionById:er,footnoteById:ei,footnoteCounts:eo,footnoteOrder:[],handlers:el,one:function(A,B){let H=A.type,$=es.handlers[H];if(lE.call(es.handlers,H)&&$)return $(es,A,B);if(es.options.passThrough&&es.options.passThrough.includes(H)){if("children"in A){let{children:B,...H}=A,$=n6(H);return $.children=es.all(A),$}return n6(A)}let W=es.options.unknownHandler||defaultUnknownHandler;return W(es,A,B)},options:en,patch:state_patch,wrap};return"function"==typeof(H=function(A){if("definition"===A.type||"footnoteDefinition"===A.type){let B="definition"===A.type?er:ei,H=String(A.identifier).toUpperCase();B.has(H)||B.set(H,A)}})&&"function"!=typeof $?(K=void 0,et=H,W=$):(K=H,et=$,W=void 0),function(A,B,H,$){let W;"function"==typeof B&&"function"!=typeof H?($=H,H=B):W=B;let K=use_markdown_node_modules_unist_util_is_lib_convert(W),et=$?-1:1;(function factory(A,W,en){let er=A&&"object"==typeof A?A:{};if("string"==typeof er.type){let B="string"==typeof er.tagName?er.tagName:"string"==typeof er.name?er.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+A.type+(B?"<"+B+">":"")+")"})}return visit;function visit(){var er;let ei,eo,el,es=lm;if((!B||K(A,W,en[en.length-1]||void 0))&&!1===(es=Array.isArray(er=H(A,en))?er:"number"==typeof er?[!0,er]:null==er?lm:[er])[0])return es;if("children"in A&&A.children&&A.children&&"skip"!==es[0])for(eo=($?A.children.length:-1)+et,el=en.concat(A);eo>-1&&eo<A.children.length;){let B=A.children[eo];if(!1===(ei=factory(B,eo,el)())[0])return ei;eo="number"==typeof ei[1]?ei[1]:eo+et}return es}})(A,void 0,[])()}(A,K,function(A,B){let H=B[B.length-1],$=H?H.children.indexOf(A):void 0;return et(A,$,H)},W),es}(A,B),$=H.one(A,void 0),W=function(A){let B="string"==typeof A.options.clobberPrefix?A.options.clobberPrefix:"user-content-",H=A.options.footnoteBackContent||defaultFootnoteBackContent,$=A.options.footnoteBackLabel||defaultFootnoteBackLabel,W=A.options.footnoteLabel||"Footnotes",K=A.options.footnoteLabelTagName||"h2",et=A.options.footnoteLabelProperties||{className:["sr-only"]},en=[],er=-1;for(;++er<A.footnoteOrder.length;){let W=A.footnoteById.get(A.footnoteOrder[er]);if(!W)continue;let K=A.all(W),et=String(W.identifier).toUpperCase(),ei=normalizeUri(et.toLowerCase()),eo=0,el=[],es=A.footnoteCounts.get(et);for(;void 0!==es&&++eo<=es;){el.length>0&&el.push({type:"text",value:" "});let A="string"==typeof H?H:H(er,eo);"string"==typeof A&&(A={type:"text",value:A}),el.push({type:"element",tagName:"a",properties:{href:"#"+B+"fnref-"+ei+(eo>1?"-"+eo:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof $?$:$(er,eo),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}let ec=K[K.length-1];if(ec&&"element"===ec.type&&"p"===ec.tagName){let A=ec.children[ec.children.length-1];A&&"text"===A.type?A.value+=" ":ec.children.push({type:"text",value:" "}),ec.children.push(...el)}else K.push(...el);let eu={type:"element",tagName:"li",properties:{id:B+"fn-"+ei},children:A.wrap(K,!0)};A.patch(W,eu),en.push(eu)}if(0!==en.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:K,properties:{...n6(et),id:"footnote-label"},children:[{type:"text",value:W}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:A.wrap(en,!0)},{type:"text",value:"\n"}]}}(H),K=Array.isArray($)?{type:"root",children:$}:$||{type:"root",children:[]};return W&&K.children.push({type:"text",value:"\n"},W),K}function remarkRehype(A,B){return A&&"run"in A?async function(H,$){let W=toHast(H,{file:$,...B});await A.run(W,$)}:function(H,$){return toHast(H,{file:$,...A||B})}}function bail(A){if(A)throw A}var lv=H(94470);function isPlainObject(A){if("object"!=typeof A||null===A)return!1;let B=Object.getPrototypeOf(A);return(null===B||B===Object.prototype||null===Object.getPrototypeOf(B))&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)}let VFileMessage=class VFileMessage extends Error{constructor(A,B,H){super(),"string"==typeof B&&(H=B,B=void 0);let $="",W={},K=!1;if(B&&(W="line"in B&&"column"in B?{place:B}:"start"in B&&"end"in B?{place:B}:"type"in B?{ancestors:[B],place:B.position}:{...B}),"string"==typeof A?$=A:!W.cause&&A&&(K=!0,$=A.message,W.cause=A),!W.ruleId&&!W.source&&"string"==typeof H){let A=H.indexOf(":");-1===A?W.ruleId=H:(W.source=H.slice(0,A),W.ruleId=H.slice(A+1))}if(!W.place&&W.ancestors&&W.ancestors){let A=W.ancestors[W.ancestors.length-1];A&&(W.place=A.position)}let et=W.place&&"start"in W.place?W.place.start:W.place;this.ancestors=W.ancestors||void 0,this.cause=W.cause||void 0,this.column=et?et.column:void 0,this.fatal=void 0,this.file,this.message=$,this.line=et?et.line:void 0,this.name=stringifyPosition(W.place)||"1:1",this.place=W.place||void 0,this.reason=this.message,this.ruleId=W.ruleId||void 0,this.source=W.source||void 0,this.stack=K&&W.cause&&"string"==typeof W.cause.stack?W.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let lT={basename:function(A,B){let H;if(void 0!==B&&"string"!=typeof B)throw TypeError('"ext" argument must be a string');assertPath(A);let $=0,W=-1,K=A.length;if(void 0===B||0===B.length||B.length>A.length){for(;K--;)if(47===A.codePointAt(K)){if(H){$=K+1;break}}else W<0&&(H=!0,W=K+1);return W<0?"":A.slice($,W)}if(B===A)return"";let et=-1,en=B.length-1;for(;K--;)if(47===A.codePointAt(K)){if(H){$=K+1;break}}else et<0&&(H=!0,et=K+1),en>-1&&(A.codePointAt(K)===B.codePointAt(en--)?en<0&&(W=K):(en=-1,W=et));return $===W?W=et:W<0&&(W=A.length),A.slice($,W)},dirname:function(A){let B;if(assertPath(A),0===A.length)return".";let H=-1,$=A.length;for(;--$;)if(47===A.codePointAt($)){if(B){H=$;break}}else B||(B=!0);return H<0?47===A.codePointAt(0)?"/":".":1===H&&47===A.codePointAt(0)?"//":A.slice(0,H)},extname:function(A){let B;assertPath(A);let H=A.length,$=-1,W=0,K=-1,et=0;for(;H--;){let en=A.codePointAt(H);if(47===en){if(B){W=H+1;break}continue}$<0&&(B=!0,$=H+1),46===en?K<0?K=H:1!==et&&(et=1):K>-1&&(et=-1)}return K<0||$<0||0===et||1===et&&K===$-1&&K===W+1?"":A.slice(K,$)},join:function(...A){let B,H=-1;for(;++H<A.length;)assertPath(A[H]),A[H]&&(B=void 0===B?A[H]:B+"/"+A[H]);return void 0===B?".":function(A){assertPath(A);let B=47===A.codePointAt(0),H=function(A,B){let H,$,W="",K=0,et=-1,en=0,er=-1;for(;++er<=A.length;){if(er<A.length)H=A.codePointAt(er);else if(47===H)break;else H=47;if(47===H){if(et===er-1||1===en);else if(et!==er-1&&2===en){if(W.length<2||2!==K||46!==W.codePointAt(W.length-1)||46!==W.codePointAt(W.length-2)){if(W.length>2){if(($=W.lastIndexOf("/"))!==W.length-1){$<0?(W="",K=0):K=(W=W.slice(0,$)).length-1-W.lastIndexOf("/"),et=er,en=0;continue}}else if(W.length>0){W="",K=0,et=er,en=0;continue}}B&&(W=W.length>0?W+"/..":"..",K=2)}else W.length>0?W+="/"+A.slice(et+1,er):W=A.slice(et+1,er),K=er-et-1;et=er,en=0}else 46===H&&en>-1?en++:en=-1}return W}(A,!B);return 0!==H.length||B||(H="."),H.length>0&&47===A.codePointAt(A.length-1)&&(H+="/"),B?"/"+H:H}(B)},sep:"/"};function assertPath(A){if("string"!=typeof A)throw TypeError("Path must be a string. Received "+JSON.stringify(A))}let lb={cwd:function(){return"/"}};function isUrl(A){return!!(null!==A&&"object"==typeof A&&"href"in A&&A.href&&"protocol"in A&&A.protocol&&void 0===A.auth)}let lk=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(A){let B,H;B=A?isUrl(A)?{path:A}:"string"==typeof A||A&&"object"==typeof A&&"byteLength"in A&&"byteOffset"in A?{value:A}:A:{},this.cwd="cwd"in B?"":lb.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let $=-1;for(;++$<lk.length;){let A=lk[$];A in B&&void 0!==B[A]&&null!==B[A]&&(this[A]="history"===A?[...B[A]]:B[A])}for(H in B)lk.includes(H)||(this[H]=B[H])}get basename(){return"string"==typeof this.path?lT.basename(this.path):void 0}set basename(A){assertNonEmpty(A,"basename"),assertPart(A,"basename"),this.path=lT.join(this.dirname||"",A)}get dirname(){return"string"==typeof this.path?lT.dirname(this.path):void 0}set dirname(A){lib_assertPath(this.basename,"dirname"),this.path=lT.join(A||"",this.basename)}get extname(){return"string"==typeof this.path?lT.extname(this.path):void 0}set extname(A){if(assertPart(A,"extname"),lib_assertPath(this.dirname,"extname"),A){if(46!==A.codePointAt(0))throw Error("`extname` must start with `.`");if(A.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=lT.join(this.dirname,this.stem+(A||""))}get path(){return this.history[this.history.length-1]}set path(A){isUrl(A)&&(A=function(A){if("string"==typeof A)A=new URL(A);else if(!isUrl(A)){let B=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+A+"`");throw B.code="ERR_INVALID_ARG_TYPE",B}if("file:"!==A.protocol){let A=TypeError("The URL must be of scheme file");throw A.code="ERR_INVALID_URL_SCHEME",A}return function(A){if(""!==A.hostname){let A=TypeError('File URL host must be "localhost" or empty on darwin');throw A.code="ERR_INVALID_FILE_URL_HOST",A}let B=A.pathname,H=-1;for(;++H<B.length;)if(37===B.codePointAt(H)&&50===B.codePointAt(H+1)){let A=B.codePointAt(H+2);if(70===A||102===A){let A=TypeError("File URL path must not include encoded / characters");throw A.code="ERR_INVALID_FILE_URL_PATH",A}}return decodeURIComponent(B)}(A)}(A)),assertNonEmpty(A,"path"),this.path!==A&&this.history.push(A)}get stem(){return"string"==typeof this.path?lT.basename(this.path,this.extname):void 0}set stem(A){assertNonEmpty(A,"stem"),assertPart(A,"stem"),this.path=lT.join(this.dirname||"",A+(this.extname||""))}fail(A,B,H){let $=this.message(A,B,H);throw $.fatal=!0,$}info(A,B,H){let $=this.message(A,B,H);return $.fatal=void 0,$}message(A,B,H){let $=new VFileMessage(A,B,H);return this.path&&($.name=this.path+":"+$.name,$.file=this.path),$.fatal=!1,this.messages.push($),$}toString(A){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let B=new TextDecoder(A||void 0);return B.decode(this.value)}};function assertPart(A,B){if(A&&A.includes(lT.sep))throw Error("`"+B+"` cannot be a path: did not expect `"+lT.sep+"`")}function assertNonEmpty(A,B){if(!A)throw Error("`"+B+"` cannot be empty")}function lib_assertPath(A,B){if(!A)throw Error("Setting `"+B+"` requires `path` to be set too")}let CallableInstance=function(A){let B=this.constructor,H=B.prototype,$=H[A],apply=function(){return $.apply(apply,arguments)};return Object.setPrototypeOf(apply,H),apply},lA={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let A=[],B={run:function(...B){let H=-1,$=B.pop();if("function"!=typeof $)throw TypeError("Expected function as last argument, not "+$);(function next(W,...K){let et=A[++H],en=-1;if(W){$(W);return}for(;++en<B.length;)(null===K[en]||void 0===K[en])&&(K[en]=B[en]);B=K,et?(function(A,B){let H;return function(...B){let $;let W=A.length>B.length;W&&B.push(done);try{$=A.apply(this,B)}catch(A){if(W&&H)throw A;return done(A)}W||($ instanceof Promise?$.then(then,done):$ instanceof Error?done($):then($))};function done(A,...$){H||(H=!0,B(A,...$))}function then(A){done(null,A)}})(et,next)(...K):$(null,...K)})(null,...B)},use:function(H){if("function"!=typeof H)throw TypeError("Expected `middelware` to be a function, not "+H);return A.push(H),B}};return B}()}copy(){let A=new Processor,B=-1;for(;++B<this.attachers.length;){let H=this.attachers[B];A.use(...H)}return A.data(lv(!0,{},this.namespace)),A}data(A,B){return"string"==typeof A?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[A]=B,this):lA.call(this.namespace,A)&&this.namespace[A]||void 0:A?(assertUnfrozen("data",this.frozen),this.namespace=A,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[A,...B]=this.attachers[this.freezeIndex];if(!1===B[0])continue;!0===B[0]&&(B[0]=void 0);let H=A.call(this,...B);"function"==typeof H&&this.transformers.use(H)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(A){this.freeze();let B=vfile(A),H=this.parser||this.Parser;return assertParser("parse",H),H(String(B),B)}process(A,B){let H=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),B?executor(void 0,B):new Promise(executor);function executor($,W){let K=vfile(A),et=H.parse(K);function realDone(A,H){A||!H?W(A):$?$(H):B(void 0,H)}H.run(et,K,function(A,B,$){if(A||!B||!$)return realDone(A);let W=H.stringify(B,$);"string"==typeof W||W&&"object"==typeof W&&"byteLength"in W&&"byteOffset"in W?$.value=W:$.result=W,realDone(A,$)})}}processSync(A){let B,H=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(A,function(A,$){H=!0,bail(A),B=$}),assertDone("processSync","process",H),B}run(A,B,H){assertNode(A),this.freeze();let $=this.transformers;return H||"function"!=typeof B||(H=B,B=void 0),H?executor(void 0,H):new Promise(executor);function executor(W,K){let et=vfile(B);$.run(A,et,function(B,$,et){let en=$||A;B?K(B):W?W(en):H(void 0,en,et)})}}runSync(A,B){let H,$=!1;return this.run(A,B,function(A,B){bail(A),H=B,$=!0}),assertDone("runSync","run",$),H}stringify(A,B){this.freeze();let H=vfile(B),$=this.compiler||this.Compiler;return assertCompiler("stringify",$),assertNode(A),$(A,H)}use(A,...B){let H=this.attachers,$=this.namespace;if(assertUnfrozen("use",this.frozen),null==A);else if("function"==typeof A)addPlugin(A,B);else if("object"==typeof A)Array.isArray(A)?addList(A):addPreset(A);else throw TypeError("Expected usable value, not `"+A+"`");return this;function addPreset(A){if(!("plugins"in A)&&!("settings"in A))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(A.plugins),A.settings&&($.settings=lv(!0,$.settings,A.settings))}function addList(A){let B=-1;if(null==A);else if(Array.isArray(A))for(;++B<A.length;){let H=A[B];!function(A){if("function"==typeof A)addPlugin(A,[]);else if("object"==typeof A){if(Array.isArray(A)){let[B,...H]=A;addPlugin(B,H)}else addPreset(A)}else throw TypeError("Expected usable value, not `"+A+"`")}(H)}else throw TypeError("Expected a list of plugins, not `"+A+"`")}function addPlugin(A,B){let $=-1,W=-1;for(;++$<H.length;)if(H[$][0]===A){W=$;break}if(-1===W)H.push([A,...B]);else if(B.length>0){let[$,...K]=B,et=H[W][1];isPlainObject(et)&&isPlainObject($)&&($=lv(!0,et,$)),H[W]=[A,$,...K]}}}};let lS=new Processor().freeze();function assertParser(A,B){if("function"!=typeof B)throw TypeError("Cannot `"+A+"` without `parser`")}function assertCompiler(A,B){if("function"!=typeof B)throw TypeError("Cannot `"+A+"` without `compiler`")}function assertUnfrozen(A,B){if(B)throw Error("Cannot call `"+A+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(A){if(!isPlainObject(A)||"string"!=typeof A.type)throw TypeError("Expected node, got `"+A+"`")}function assertDone(A,B,H){if(!H)throw Error("`"+A+"` finished async. Use `"+B+"` instead")}function vfile(A){return A&&"object"==typeof A&&"message"in A&&"messages"in A?A:new VFile(A)}var lC={exports:{}},lx={};lC.exports=function(){if(eG)return lx;eG=1;var A=Symbol.for("react.element"),B=Symbol.for("react.fragment"),H=Object.prototype.hasOwnProperty,$=e3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function x(B,K,et){var en,er={},ei=null,eo=null;for(en in void 0!==et&&(ei=""+et),void 0!==K.key&&(ei=""+K.key),void 0!==K.ref&&(eo=K.ref),K)H.call(K,en)&&!W.hasOwnProperty(en)&&(er[en]=K[en]);if(B&&B.defaultProps)for(en in K=B.defaultProps)void 0===er[en]&&(er[en]=K[en]);return{$$typeof:A,type:B,key:ei,ref:eo,props:er,_owner:$.current}}return lx.Fragment=B,lx.jsx=x,lx.jsxs=x,lx}();var lw=lC.exports;async function use_markdown_mr(A){let B=await lS().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(A);return String(B)}var scroll_b=function(A){return function(){let B={type:A,getType:()=>A,toString:()=>A};return(A,H)=>({...B,...void 0!==A&&{payload:A},...void 0!==H&&{meta:H}})}},lI="@iiif/IMPORT_ENTITIES",lO="@iiif/MODIFY_ENTITY_FIELD",lR="@iiif/REORDER_ENTITY_FIELD",lN="@iiif/ADD_REFERENCE",lD="@iiif/UPDATE_REFERENCE",lL="@iiif/REMOVE_REFERENCE",lP="@iiif/ADD_METADATA",lM="@iiif/REMOVE_METADATA",lF="@iiif/UPDATE_METADATA",lB="@iiif/REORDER_METADATA",lU=scroll_b(lI)(),lH=scroll_b(lO)(),lz=scroll_b(lR)(),lG=scroll_b(lN)(),lj=scroll_b(lL)(),lV=scroll_b(lD)(),l$=scroll_b(lP)(),lQ=scroll_b(lF)(),lq={importEntities:lU,modifyEntityField:lH,reorderEntityField:lz,addReference:lG,removeReference:lj,updateReference:lV,addMetadata:l$,removeMetadata:scroll_b(lM)(),updateMetadata:lQ,reorderMetadata:scroll_b(lB)()},lY="@iiif/ADD_MAPPING",lW="@iiif/ADD_MAPPINGS",lX=scroll_b(lY)(),lK=scroll_b(lW)(),lZ="RESOURCE_ERROR",lJ="RESOURCE_LOADING",l0="RESOURCE_READY",l1="@iiif/REQUEST_RESOURCE",l2="@iiif/REQUEST_ERROR",l3="@iiif/REQUEST_MISMATCH",l4="@iiif/REQUEST_COMPLETE",l5=scroll_b(l1)(),l6=scroll_b(l2)(),l8=scroll_b(l3)(),l9=scroll_b(l4)(),l7="@iiif/BATCH",se=scroll_b(l7)(),scroll_er=(A,B)=>{let{entities:H,resource:$,mapping:W}=Fe(B);if(void 0===$.id)return[l6({id:A,message:"ID is not defined in resource."})];let K=[lU({entities:H}),lK({mapping:W})];return $.id!==A&&(K.push(lX({id:A,type:$.type})),K.push(l8({requestId:A,actualId:$.id}))),K.push(l9({id:A})),K},sn=Number.isNaN||function(A){return"number"==typeof A&&A!=A};function scroll_be(A,B){if(!Array.isArray(A)||!Array.isArray(B))return A===B;if(A.length!==B.length)return!1;for(let W=0;W<A.length;W++){var H,$;if(!((H=A[W])===($=B[W])||sn(H)&&sn($)))return!1}return!0}function scroll_G(A,B,H){let $=A.iiif.requests[B],W=A.iiif.mapping[B];if(!W||!A.iiif.entities[W][$.resourceUri])return;let K=A.iiif.entities[W][$.resourceUri];if(K&&K[tb]){let A=K[tb].find(A=>A[tk]===K.id);return chunk_AXOUQGO3_oe(K,A)}return K}function scroll_we(A,B,{waitTimeout:H=30}={}){return($,W)=>{let K=A.getStore(),et=K.getState(),en=et.iiif.requests[$];if(en){if(en.loadingState===l0){let A=scroll_G(et,$);if(A)return A}switch(en.loadingState){case lZ:break;case lJ:return(async()=>{let A,B=!1;try{let W=await Promise.race([new Promise((H,W)=>{B||(A=K.subscribe(()=>{let A=K.getState();if(A.iiif.requests[$].loadingState===lZ){W();return}if(A.iiif.requests[$].loadingState===l0){let B=scroll_G(A,$);B?H(B):W()}}))}),new Promise((A,$)=>setTimeout(()=>{B=!0,$()},6e4*H))]);if(A&&A(),W)return W}catch{A&&A()}})()}}A.dispatch(l5({id:$}));let l=B=>{if(!B)return;B.id||B["@id"]||(B["@type"]&&(B["@id"]=$),B.id=$);let H=scroll_er($,B);return A.dispatch(se({actions:H})),scroll_G(K.getState(),$)};try{let H=B($,W);return H&&"function"==typeof H.then?(async()=>{try{return l(await H)}catch(B){throw A.dispatch(l6({id:$,message:B.toString()})),B}})():l(H)}catch(B){throw A.dispatch(l6({id:$,message:B.toString()})),B}}}function scroll_it(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let sr={};var scroll_Ae=A=>{let B;let H=new Set,i=(A,$)=>{let W="function"==typeof A?A(B):A;if(!Object.is(W,B)){let A=B;B=$??("object"!=typeof W||null===W)?W:Object.assign({},B,W),H.forEach(H=>H(B,A))}},n=()=>B,$={setState:i,getState:n,getInitialState:()=>W,subscribe:A=>(H.add(A),()=>H.delete(A)),destroy:()=>{(sr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),H.clear()}},W=B=A(i,n,$);return $},scroll_ir=A=>A?scroll_Ae(A):scroll_Ae,so="@iiif/SET_META_VALUE",sl="@iiif/SET_META_VALUE_DYNAMIC",sc="@iiif/UNSET_META_VALUE",su={setMetaValue:scroll_b(so)(),setMetaValueDynamic:scroll_b(sl)(),unsetMetaValue:scroll_b(sc)()};let sd={};var scroll_cr=(A,B)=>(H,$,W)=>(W.dispatch=B=>(H(H=>A(H,B),!1,B),B),W.dispatchFromDevtools=!0,{dispatch:(...A)=>W.dispatch(...A),...B}),sh=new Map,scroll_Q=A=>{let B=sh.get(A);return B?Object.fromEntries(Object.entries(B.stores).map(([A,B])=>[A,B.getState()])):{}},scroll_dr=(A,B,H)=>{if(void 0===A)return{type:"untracked",connection:B.connect(H)};let $=sh.get(H.name);if($)return{type:"tracked",store:A,...$};let W={connection:B.connect(H),stores:{}};return sh.set(H.name,W),{type:"tracked",store:A,...W}},scroll_pr=(A,B={})=>(H,$,W)=>{let K;let{enabled:et,anonymousActionType:en,store:er,...ei}=B;try{K=(et??(sd?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!K)return(sd?"production":void 0)!=="production"&&et&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),A(H,$,W);let{connection:eo,...el}=scroll_dr(er,K,ei),es=!0;W.setState=(A,B,K)=>{let et=H(A,B);if(!es)return et;let el=void 0===K?{type:en||"anonymous"}:"string"==typeof K?{type:K}:K;return void 0===er?null==eo||eo.send(el,$()):null==eo||eo.send({...el,type:`${er}/${el.type}`},{...scroll_Q(ei.name),[er]:W.getState()}),et};let m=(...A)=>{let B=es;es=!1,H(...A),es=B},ec=A(W.setState,$,W);if("untracked"===el.type?null==eo||eo.init(ec):(el.stores[el.store]=W,null==eo||eo.init(Object.fromEntries(Object.entries(el.stores).map(([A,B])=>[A,A===el.store?ec:B.getState()])))),W.dispatchFromDevtools&&"function"==typeof W.dispatch){let A=!1,B=W.dispatch;W.dispatch=(...H)=>{(sd?"production":void 0)==="production"||"__setState"!==H[0].type||A||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),B(...H)}}return eo.subscribe(A=>{var B;switch(A.type){case"ACTION":if("string"!=typeof A.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return scroll_J(A.payload,A=>{if("__setState"===A.type){if(void 0===er){m(A.state);return}1!==Object.keys(A.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let B=A.state[er];if(null==B)return;JSON.stringify(W.getState())!==JSON.stringify(B)&&m(B);return}W.dispatchFromDevtools&&"function"==typeof W.dispatch&&W.dispatch(A)});case"DISPATCH":switch(A.payload.type){case"RESET":return m(ec),void 0===er?null==eo?void 0:eo.init(W.getState()):null==eo?void 0:eo.init(scroll_Q(ei.name));case"COMMIT":if(void 0===er){null==eo||eo.init(W.getState());break}return null==eo?void 0:eo.init(scroll_Q(ei.name));case"ROLLBACK":return scroll_J(A.state,A=>{if(void 0===er){m(A),null==eo||eo.init(W.getState());return}m(A[er]),null==eo||eo.init(scroll_Q(ei.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return scroll_J(A.state,A=>{if(void 0===er){m(A);return}JSON.stringify(W.getState())!==JSON.stringify(A[er])&&m(A[er])});case"IMPORT_STATE":{let{nextLiftedState:H}=A.payload,$=null==(B=H.computedStates.slice(-1)[0])?void 0:B.state;if(!$)return;m(void 0===er?$:$[er]),null==eo||eo.send(null,H);break}case"PAUSE_RECORDING":return es=!es}return}}),ec},scroll_J=(A,B)=>{let H;try{H=JSON.parse(A)}catch(A){console.error("[zustand devtools middleware] Could not parse the received json",A)}void 0!==H&&B(H)},scroll_hr=A=>(B,H,$)=>{let W=$.subscribe;return $.subscribe=(A,B,H)=>{let K=A;if(B){let W=(null==H?void 0:H.equalityFn)||Object.is,et=A($.getState());K=H=>{let $=A(H);if(!W(et,$)){let A=et;B(et=$,A)}},null!=H&&H.fireImmediately&&B(et,et)}return W(K)},A(B,H,$)};function scroll_K(A,B,H,$){return!(!A[H]||!A[H][B]||!A[H][B][$]||!Array.isArray(A[H][B][$]))}function scroll_f(A){return A.payload}function scroll_ee(A,B){return typeof A>"u"?B:A}function scroll_lt(A={}){let B=Object.keys(A);return function(H={},$){let W=!1,K={};for(let et=0;et<B.length;et++){let en=B[et];K[en]=A[en](H[en],$),W=W||K[en]!==H[en]}return W?K:H}}var sp=scroll_lt({mapping:(A={},B)=>{switch(B.type){case lY:return{...A,[B.payload.id]:B.payload.type};case lW:return{...A,...B.payload.mapping};default:return A}},entities:(A=scroll_it(),B)=>{var H;let r=(H,$)=>({...A,[scroll_f(B).type]:{...A[scroll_f(B).type],[scroll_f(B).id]:{...H,...$}}});switch(B.type){case lO:{if(!A[scroll_f(B).type]||!A[scroll_f(B).type][scroll_f(B).id])return A;let H=A[scroll_f(B).type][scroll_f(B).id];return"string"==typeof H?A:r(H,{[scroll_f(B).key]:scroll_f(B).value})}case lR:{if(!scroll_K(A,scroll_f(B).id,scroll_f(B).type,scroll_f(B).key))return A;let H=A[scroll_f(B).type][scroll_f(B).id];if("string"==typeof H)return A;let $=Array.from(H[scroll_f(B).key]),[W]=$.splice(scroll_f(B).startIndex,1);return $.splice(scroll_f(B).endIndex,0,W),r(H,{[scroll_f(B).key]:$})}case lI:{let H=Object.keys(scroll_f(B).entities),$={...A};for(let W of H){let H=scroll_f(B).entities[W],K={...A[W]||{}},et=!1,en=Object.keys(H||{})||[];if(H&&en){for(let B of en)et=!0,K[B]=A[W][B]?function(A,B){let H={},$=[];for(let[W,K]of Object.entries(A||{})){$.push(W);let A=(B||{})[W];if(!A||0===A.length){H[W]=K;continue}H[W]=A}for(let[A,W]of Object.entries(B||{}))-1===$.indexOf(A)&&(H[A]=W);return H}(A[W][B],H[B]):H[B];et&&($[W]=K)}}return $}case lN:{if(!scroll_K(A,scroll_f(B).id,scroll_f(B).type,scroll_f(B).key))return A;let H=A[scroll_f(B).type][scroll_f(B).id],$=Array.from(H[scroll_f(B).key]);return $.splice(scroll_ee(scroll_f(B).index,$.length+1),0,scroll_f(B).reference),r(H,{[scroll_f(B).key]:$})}case lD:case lL:{if(!scroll_K(A,scroll_f(B).id,scroll_f(B).type,scroll_f(B).key))return A;let $=A[scroll_f(B).type][scroll_f(B).id],W=Array.from($[scroll_f(B).key]),K=scroll_ee(scroll_f(B).index,W.findIndex(A=>A&&A.id===scroll_f(B).reference.id));return -1===K||(null==(H=W[K])?void 0:H.id)!==scroll_f(B).reference.id?A:(B.type===lD?W.splice(K,1,scroll_f(B).reference):W.splice(K,1),r($,{[scroll_f(B).key]:W}))}case lP:{let H=A[scroll_f(B).type][scroll_f(B).id];if(!H)return A;let $=Array.from(H.metadata||[]),W=scroll_f(B);return $.splice(scroll_ee(B.payload.beforeIndex,$.length+1),0,{label:W.label,value:W.label}),r(H,{metadata:$})}case lB:{let H=A[scroll_f(B).type][scroll_f(B).id];if("string"==typeof H||!H)return A;let $=Array.from(H.metadata||[]),[W]=$.splice(scroll_f(B).startIndex,1);return $.splice(scroll_f(B).endIndex,0,W),r(H,{metadata:$})}case lF:case lM:{let H=A[scroll_f(B).type][scroll_f(B).id],$=Array.from(H.metadata||[]),W=scroll_f(B).atIndex;return typeof W>"u"||-1===W||!$[W]?A:(B.type===lF?$.splice(W,1,{label:scroll_f(B).label,value:scroll_f(B).value}):$.splice(W,1),r(H,{metadata:$}))}default:return A}},requests:(A={},B)=>{switch(B.type){case l1:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...A,[B.payload.id]:{requestUri:B.payload.id,loadingState:lJ,uriMismatch:!1,resourceUri:B.payload.id}};case l3:return{...A,[B.payload.requestId]:{...A[B.payload.requestId]||{},uriMismatch:!0,resourceUri:B.payload.actualId},[B.payload.actualId]:{requestUri:B.payload.requestId,loadingState:A[B.payload.requestId].loadingState,uriMismatch:!0,resourceUri:B.payload.actualId}};case l2:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:lZ,error:B.payload.message}};case l4:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:l0,error:void 0}}}return A},meta:(A={},B)=>{let{id:H,updateValue:$,value:W,meta:K,key:et}=B&&B.payload||{};switch(B.type){case so:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:W}}};case sl:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:$(A[H]&&A[H][K]?A[H][K][et]:void 0)}}};case sc:return A[H]&&A[H][K]&&A[H][K][et]?{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:void 0}}}:A;default:return A}}}),sm=Object.defineProperty,Rr=(A,B,H)=>B in A?sm(A,B,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[B]=H,scroll_T=(A,B,H)=>(Rr(A,"symbol"!=typeof B?B+"":B,H),H);function scroll_R(A,B,H,$=!0){B[s_]=B[s_]||[],B[s_].push(A);let W=new Map;Object.defineProperty(B,A,{enumerable:$,get(){if(typeof B[sf][A]>"u")return;let $=B[sf][A];if(!$)return $;let K=H.get(B[sf][A],{parent:this.id?{id:this.id,type:this.type}:void 0});return W.has(K)||(W.clear(),W.set(K,scroll_L(K,H))),W.get(K)},set($){B[sf][A]!==$&&(this[sg]?H.modifyEntityField({id:this.id,type:this.type},A,function scroll_ct(A){return Array.isArray(A)?A.map(A=>scroll_ct(A)):A&&A.type?{id:A.id,type:A.type}:A}($)):this[sf][A]=$)}})}var sf=Symbol.for("_refs_"),sg=Symbol.for("_reactive_"),s_=Symbol.for("_defined_"),sE=Symbol.for("_parent_");function scroll_L(A,B,H=!1,$){if(Array.isArray(A))return A.map(A=>scroll_L(A,B,H));if(!A||!A.type||!A.id)return A;let W=function(A,B=!1,H){let $={id:"",type:"unknown",[s_]:[],[sf]:{},[sE]:null,[sg]:null,is(A){return"string"==typeof A?this.id===A:!!A.id&&A.id===this.id},reactive(){if(!this[sg])return this[sg]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let A=this.unwrap();for(let B of Object.keys(A||{}))this[s_].includes(B)?this[sf][B]=A[B]:this[B]=A[B]}},unreactive(){this[sg]&&(this[sg](),this[sg]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let B=this[sE];return A.get(this.id,{parent:B?{id:B,type:"unknown"}:void 0})},toPresentation3(){return A.toPresentation3(this.unwrap())},toPresentation2(){return A.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(B,H=!0){return A.subscribe(()=>this.id?A.get(this.id):null,B,H)}};return scroll_R("items",$,A),scroll_R("annotations",$,A),scroll_R("structures",$,A),scroll_R("seeAlso",$,A),scroll_R("rendering",$,A),scroll_R("partOf",$,A),scroll_R("start",$,A,!1),scroll_R("supplementary",$,A),scroll_R("homepage",$,A),scroll_R("thumbnail",$,A),scroll_R("placeholderCanvas",$,A,!1),scroll_R("accompanyingCanvas",$,A,!1),scroll_R("provider",$,A),scroll_R("body",$,A),scroll_R("logo",$,A),$}(B,H),K=Object.create(W),et=Object.assign(K,A);return H&&et.reactive(),et}function scroll_Ie(A){switch(A){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return A}var sy=class{constructor(A,B){var H;scroll_T(this,"options"),scroll_T(this,"store"),scroll_T(this,"emitter"),scroll_T(this,"isBatching",!1),scroll_T(this,"batchQueue",[]),scroll_T(this,"remoteFetcher"),scroll_T(this,"staticFetcher"),scroll_T(this,"defaultFetcher",A=>fetch(A).then(A=>A.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},A||{}),this.store=B||function(A={}){var B;let{enableDevtools:H=!1,iiifStoreName:$="iiif",defaultState:W={iiif:{entities:scroll_it(),meta:{},mapping:{},requests:{}}},customReducers:K={}}=A,et=(B=scroll_lt({[$]:sp,...K}),(A,H)=>H&&H.type===l7?H.payload.actions.reduce(B,A):H&&"@iiif/BATCH_IMPORT"===H.type?{...A,iiif:{...A.iiif,...H.payload.state}}:B(A,H)),en="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?scroll_pr:(A,B)=>A;return scroll_ir(scroll_hr(en(scroll_cr(et,W),{enabled:H})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:H=H||new Map,on:function(A,B){var $=H.get(A);$?$.push(B):H.set(A,[B])},off:function(A,B){var $=H.get(A);$&&(B?$.splice($.indexOf(B)>>>0,1):H.set(A,[]))},emit:function(A,B){var $=H.get(A);$&&$.slice().map(function(A){A(B)}),($=H.get("*"))&&$.slice().map(function(H){H(A,B)})}},this.remoteFetcher=scroll_we(this,this.options.customFetcher),this.staticFetcher=scroll_we(this,(A,B)=>B)}batch(A){this.isBatching=!0;try{A(this),this.isBatching=!1,this.dispatch(se({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}async asyncBatch(A){this.isBatching=!0;try{await A(this),this.isBatching=!1,this.dispatch(se({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}modifyEntityField(A,B,H){this.dispatch(lq.modifyEntityField({id:A.id,type:A.type,key:B,value:H}))}dispatch(A){if(this.isBatching)this.batchQueue.push(A);else{if(A.type===l7){for(let B of A.payload.actions)this.emitter.emit(B.type,{action:B,state:this.store.getState()});this.store.dispatch(A);let B=this.getState();for(let H of A.payload.actions)this.emitter.emit(`after:${H.type}`,{action:H,state:B});return}this.emitter.emit(A.type,{action:A,state:this.store.getState()}),this.store.dispatch(A);let B=this.store.getState();this.emitter.emit(`after:${A.type}`,{action:A,state:B});return}}on(A,B){return this.emitter.on(A,B),()=>{this.emitter.off(A,B)}}serialize(A,B){return $e(this.getState().iiif,A,B)}toPresentation2(A){return this.serialize(A,tP)}toPresentation3(A){return this.serialize(A,tM)}hydrate(A,B,H={}){return this.get(A,B,{...H,skipSelfReturn:!1})}get(A,B,H={}){"string"!=typeof B&&(H=B||{},B=void 0);let{skipSelfReturn:$=!0}=H||{},W=H.parent?"string"==typeof H.parent?H.parent:H.parent.id:void 0;if(Array.isArray(A))return A.map(A=>this.get(A,H));let K=this.getState();if(chunk_W3DWL6UZ_v(A)&&!H.preserveSpecificResources&&(A=A.source),"string"==typeof A){let H=scroll_Ie(B||K.iiif.mapping[A]);if(!H)return $?null:{id:A,type:"unknown"};A={id:A,type:H}}if(A&&A.partOf&&!W&&!H.skipPartOfCheck){let B=Array.isArray(A.partOf)?A.partOf[0]:A.partOf;B&&("string"==typeof B&&(W=B),"string"==typeof B.id&&(W=B.id))}let et=scroll_Ie(B||(null==A?void 0:A.type)),en=null==A?void 0:A.id,er=K.iiif.entities[et];if(!er){let B=K.iiif.requests[en];return B&&B.resourceUri!==en?this.get(B.resourceUri,H):$?null:A}let ei=er[A.id];if(ei&&ei[tb]){let A=ei[tb].find(A=>W?A[tk]===W:A[tk]===ei.id);return chunk_AXOUQGO3_oe(ei,A)}return er[A.id]||($?null:A)}select(A){return A(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(A,B){if(typeof A>"u")return this.get(B,{skipSelfReturn:!1});if("function"==typeof A)try{let H=A(this.get(B,{skipSelfReturn:!1})),n=A=>this.deep(A,H);return n.size=Array.isArray(H)?H.length:1,n}catch{let n=A=>this.deep(A,void 0);return n.size=0,n}let r=B=>this.deep(B,A);return r.size=Array.isArray(A)?A.length:1,r}loadManifest(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}loadCollection(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}load(A,B){let H="string"==typeof A?A:A.id;return B?Promise.resolve(this.staticFetcher(H,B)):Promise.resolve(this.remoteFetcher(H))}loadSync(A,B){let H="string"==typeof A?A:A.id;return this.staticFetcher(H,B)}loadManifestSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}loadCollectionSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}areInputsEqual(A,B){return scroll_be(A,B)}subscribe(A,B,H){return typeof H>"u"&&(typeof B>"u"||!1===B||!0===B)&&(H=B,B=A,A=A=>A),this.store.subscribe(A,A=>B(A,this),{equalityFn:scroll_be,fireImmediately:!H})}async ensureLoaded(A){let B="string"==typeof A?A:A.id;this.requestStatus(B)||await this.load(B)}requestStatus(A){return this.select(B=>B.iiif.requests[A])}getResourceMeta(A,B){let H=this.getState().iiif.meta[A];if(H)return B?H[B]:H}getObject(A,B,H={}){let{reactive:$,...W}=H;return scroll_L(this.get(A,B,W),this,$)}async loadObject(A,B){return scroll_L(await this.load(A,B),this)}async loadManifestObject(A,B){return scroll_L(await this.loadManifest(A,B),this)}async loadCollectionObject(A,B){return scroll_L(await this.loadCollection(A,B),this)}wrapObject(A){return scroll_L(this.get(A,{skipSelfReturn:!1}),this)}isWrapped(A){return!!A[s_]}setMetaValue([A,B,H],$){this.dispatch("function"==typeof $?su.setMetaValueDynamic({id:A,meta:B,key:H,updateValue:$}):su.setMetaValue({id:A,meta:B,key:H,value:$}))}};let sv={activeLanguages:void 0,annotations:[],manifest:void 0,options:{offset:0,figure:{display:"image-viewer",aspectRatio:100/61.8,width:"38.2%"},language:{defaultLanguages:void 0,enabled:!1,options:[]}},searchActiveMatch:void 0,searchMatches:void 0,searchString:void 0,vault:new sy};function kr(A,B){switch(B.type){case"updateAnnotations":return{...A,annotations:B.payload};case"updateActiveLanguages":return{...A,activeLanguages:B.payload};case"updateSearchActiveMatch":return{...A,searchActiveMatch:B.payload};case"updateSearchMatches":return{...A,searchMatches:B.payload};case"updateSearchString":return{...A,searchString:B.payload};default:return A}}let sT=(0,e3.createContext)({dispatch:()=>null,state:sv}),scroll_Tr=A=>{var B;let{children:H,manifest:$}=A,W={...sv.options,...A.options},K=(null==(B=W.language)?void 0:B.defaultLanguages)||[],[et,en]=(0,e3.useReducer)(kr,{...sv,activeLanguages:K,options:W});return e3.createElement(sT.Provider,{value:{state:{...et,manifest:$,options:W},dispatch:en}},H)},Mr=(A,B="none")=>{if(!A)return null;if("string"==typeof A)return[A];if(!A[B]){let B=Object.getOwnPropertyNames(A);if(B.length>0)return A[B[0]]}return A[B]&&Array.isArray(A[B])?A[B]:null},scroll_Z=(A,B="none",H=", ")=>{let $=Mr(A,B);return Array.isArray($)?$.join(`${H}`):$};function scroll_W(A,B){let H=Object.keys(A).filter(A=>B.includes(A)?null:A),$={};return H.forEach(B=>{$[B]=A[B]}),$}let{styled:sb,css:sk,keyframes:sA,createTheme:sS}=(0,e2.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),sC=sb("span",{}),scroll_ut=A=>{let{as:B,label:H}=A,$=scroll_W(A,["as","label"]);return e3.createElement(sC,{as:B,...$},scroll_Z(H,$.lang))},zr=(A,B="200,",H="full")=>{let $;Array.isArray(A)&&(A=A[0]);let{id:W,service:K}=A;if(!K)return W;if(Array.isArray(A.service)&&A.service.length>0&&($=K[0]),$){if($["@id"])return`${$["@id"]}/${H}/${B}/0/default.jpg`;if($.id)return`${$.id}/${H}/${B}/0/default.jpg`}},sx=sb("img",{objectFit:"cover"}),Fr=A=>{let B;let H=(0,e3.useRef)(null),{contentResource:$,altAsLabel:W,region:K="full"}=A;W&&(B=scroll_Z(W));let et=scroll_W(A,["contentResource","altAsLabel"]),{type:en,id:er,width:ei=200,height:eo=200,duration:el}=$;(0,e3.useEffect)(()=>{if(!er&&!H.current||["Image"].includes(en)||!er.includes("m3u8"))return;let A=new nZ.ZP;return H.current&&(A.attachMedia(H.current),A.on(nZ.ZP.Events.MEDIA_ATTACHED,function(){A.loadSource(er)})),A.on(nZ.ZP.Events.ERROR,function(B,H){if(H.fatal)switch(H.type){case nZ.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${B} network error encountered, try to recover`),A.startLoad();break;case nZ.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${B} media error encountered, try to recover`),A.recoverMediaError();break;default:A.destroy()}}),()=>{A&&(A.detachMedia(),A.destroy())}},[er,en]);let es=(0,e3.useCallback)(()=>{if(!H.current)return;let A=0,B=30;if(el&&(B=el),!er.split("#t=")&&el&&(A=.1*el),er.split("#t=").pop()){let B=er.split("#t=").pop();B&&(A=parseInt(B.split(",")[0]))}let $=H.current;$.autoplay=!0,$.currentTime=A,setTimeout(()=>es(),1e3*B)},[el,er]);(0,e3.useEffect)(()=>es(),[es]);let ec=zr($,`${ei},${eo}`,K);switch(en){case"Image":return e3.createElement(sx,{as:"img",alt:B,css:{width:ei,height:eo},key:er,src:ec,...et});case"Video":return e3.createElement(sx,{as:"video",css:{width:ei,height:eo},disablePictureInPicture:!0,key:er,loop:!0,muted:!0,onPause:es,ref:H,src:er});default:return console.warn(`Resource type: ${en} is not valid or not yet supported in Primitives.`),e3.createElement(e3.Fragment,null)}};sb("a",{});let sw={delimiter:", "},sI=(0,e3.createContext)(void 0),Br=()=>{let A=(0,e3.useContext)(sI);if(void 0===A)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return A},Vr=({children:A,initialState:B=sw})=>{let H=Ur(B,"delimiter");return e3.createElement(sI.Provider,{value:{delimiter:H}},A)},Ur=(A,B)=>Object.hasOwn(A,B)?A[B].toString():void 0,sO=sb("span",{}),scroll_ke=A=>{let{as:B,markup:H}=A,{delimiter:$}=Br();if(!H)return e3.createElement(e3.Fragment,null);let W=scroll_W(A,["as","markup"]),K={__html:nK(scroll_Z(H,W.lang,$),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return e3.createElement(sO,{as:B,...W,dangerouslySetInnerHTML:K})},jr=A=>e3.useContext(sI)?e3.createElement(scroll_ke,{...A}):e3.createElement(Vr,null,e3.createElement(scroll_ke,{...A}));sb("span",{}),sb("dl",{}),sb("li",{}),sb("ul",{}),sb("li",{}),sb("ul",{}),sb("dl",{}),sb("li",{}),sb("ul",{});let Wr=A=>{let{as:B,summary:H}=A,$=scroll_W(A,["as","customValueDelimiter","summary"]);return e3.createElement(jr,{as:B,markup:H,...$})},qr=A=>{let{thumbnail:B,region:H}=A,$=scroll_W(A,["thumbnail"]);return e3.createElement(e3.Fragment,null,B&&B.map(A=>e3.createElement(Fr,{contentResource:A,key:A.id,region:H,...$})))},sR=sb("div",{display:"flex",flexDirection:"row",alignItems:"center",background:"$primary",filter:"drop-shadow(2px 2px 5px #0002)",borderRadius:"2rem"}),sN=sb("div",{position:"absolute",zIndex:10,overflow:"hidden",height:"2rem",justifyContent:"space-between"}),sD=sb("header",{fontSize:"1",paddingBottom:"1.618rem",position:"relative",display:"flex",justifyContent:"space-between",zIndex:2,".clover-scroll-header-label":{fontWeight:"400",fontSize:"1.25rem"}}),sL=sb("section",{margin:"0",gap:"1rem",position:"relative",zIndex:0}),sP=sA({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),sM=sA({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),sF=sb(n0.Eh,{fill:"$secondaryAlt"}),sB=sb(n0.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),sU=sb(n0.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:sM},'&[data-side="bottom"]':{animationName:sP},'&[data-align="end"]':{[`& ${sF}`]:{margin:"0 0.7rem"}}}),sH=sb(n0.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),sz=sb(n0.fC,{boxSizing:"content-box"}),sG=sb("div",{width:"2rem",height:"2rem",[`${sH}`]:{background:"$primary",width:"inherit",height:"inherit",display:"flex",justifyContent:"center",borderRadius:"2rem",padding:"0",justifyItems:"center",flexDirection:"column",alignItems:"center","&:hover":{background:"$accent"},svg:{fill:"$secondary"}},[`${sU}`]:{"> label":{fontSize:"0.8333rem",display:"flex",marginBottom:"0.5rem"}}}),sj=sb("div",{width:"1rem",height:"1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted",border:"1px solid $secondaryAlt",display:"inline-flex",fontSize:"0.7222rem",alignContent:"center",justifyContent:"center",textAlign:"center",flexDirection:"column"}),sV=sb(nJ.z$,{marginTop:"-1px"}),s$=sb(nJ.fC,{display:"flex",alignContent:"center",alignItems:"center",gap:"0.5rem",backgroundColor:"transparent",border:"none",fontFamily:"inherit",fontSize:"1rem",marginTop:"0.25rem","&[data-state='checked']":{[`${sj}`]:{backgroundColor:"$accent",borderColor:"$accent",color:"$secondary"}}}),on=({lang:A,isChecked:B})=>{var H;let{state:$,dispatch:W}=(0,e3.useContext)(sT),{activeLanguages:K,options:et}=$,{language:en}=et,er=((null==(H=null==en?void 0:en.options)?void 0:H.find(B=>Object.keys(B)[0]===A))||A)[A]||A;return e3.createElement(s$,{checked:B,onCheckedChange:B=>{let H=B&&void 0!==K?[...K,A]:null==K?void 0:K.filter(B=>B!==A);W({type:"updateActiveLanguages",payload:H})}},e3.createElement(sj,null,e3.createElement(sV,null,"✓")),er)},sQ=sb("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),scroll_k=A=>e3.createElement(sQ,{...A,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},A.children);scroll_k.Title=({children:A})=>e3.createElement("title",null,A),scroll_k.Add=()=>e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),scroll_k.Audio=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),e3.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),e3.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),scroll_k.Close=()=>e3.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),scroll_k.Download=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),scroll_k.Image=()=>e3.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),scroll_k.Video=()=>e3.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let scroll_V=({children:A})=>e3.createElement(sz,null,A);scroll_V.Trigger=A=>e3.createElement(sH,{...A},A.children),scroll_V.Content=A=>e3.createElement(sU,{...A,sideOffset:5,collisionPadding:21},e3.createElement(sF,null),e3.createElement(sB,null,e3.createElement(scroll_k,{isSmall:!0},e3.createElement(scroll_k.Close,null))),A.children),sb("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${sQ}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}});let fn=A=>{let B=A.split("-")[0];return["ar","fa","ur","ps","dv","sd","ug","ku","he","yi","jrb","jpr","nqo"].includes(B)?"RTL":"LTR"};function scroll_yt(A){let B=new Set;return function r(A){Array.isArray(A)?A.forEach(r):A&&"object"==typeof A&&(A.language&&B.add(A.language),Object.values(A).forEach(r))}(A),Array.from(B)}let gn=({title:A,style:B={}})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:B},e3.createElement("title",null,A),e3.createElement("path",{d:"m455.77,49.65c-.53-.94-1.53-1.52-2.61-1.52h-1.46c-.9,0-1.76.41-2.33,1.11-7.48,9.2-14.92,20.42-22.14,33.34-.49.87-.51,1.93-.05,2.82,14.51,28.46,28.67,57.32,28.8,70.41-.1.12-.38.35-.96.57-.05.02-.1.04-.15.06-11.86,5.21-25.25,8.74-37.93,11.77-35.75,8.37-68.11,12.45-98.93,12.45-37.86,0-69.49-6.59-91.47-19.05-24.29-13.77-36.6-34.28-36.6-60.96,0-12.24,2.79-26.82,8.29-43.33.49-1.48-.23-3.1-1.67-3.71l-11.65-4.95c-1.43-.61-3.09-.02-3.82,1.35-11.8,22.23-17.54,45.74-17.54,71.9,0,35.09,14.3,62.03,42.49,80.08,24.82,15.89,60.52,24.29,103.24,24.29,57.18,0,132.5-18.87,159.14-35.1.42-.25.77-.61,1.02-1.03,8.99-15.08,15.86-28.36,15.86-50.18,0-35.58-22.59-78.13-29.52-90.32Z"}),e3.createElement("path",{d:"m321.24,273.28c-1.26-.92-3.01-.72-4.03.45-8.38,9.62-16.7,20.51-23.73,29.88-.95,1.27-.75,3.06.46,4.09,2.19,1.86,4.38,3.71,6.55,5.54,9.53,8.05,18.54,15.66,27.7,24.35.58.55,1.32.82,2.06.82.69,0,1.38-.24,1.95-.72,9.71-8.28,17.81-17.85,24.79-29.26.71-1.16.55-2.65-.39-3.63-11.73-12.33-23.62-22.94-35.36-31.52Z"}),e3.createElement("path",{d:"m256.38,433.6l-90-218c-4.64-11.23-17.5-16.58-28.73-11.94-5.41,2.23-9.71,6.53-11.94,11.94l-90,218c-4.69,11.21.59,24.1,11.8,28.79,11.21,4.69,24.1-.59,28.79-11.8.03-.07.06-.14.08-.2l18.33-44.39h102.67l18.33,44.39c3.4,8.24,11.43,13.61,20.34,13.61,12.15,0,21.99-9.86,21.99-22.01,0-2.88-.57-5.73-1.67-8.39h0Zm-143.5-71.6l33.17-80.35,33.17,80.35h-66.34Z"})),yn=()=>{let{state:A}=(0,e3.useContext)(sT),{activeLanguages:B,annotations:H}=A,$=H?scroll_yt(H):[];return e3.createElement(sG,null,e3.createElement(scroll_V,null,e3.createElement(scroll_V.Trigger,null,e3.createElement(gn,{title:"language",style:{width:"18px",height:"18px"}})),e3.createElement(scroll_V.Content,null,e3.createElement("label",null,"Language"),$.map(A=>e3.createElement(on,{isChecked:null==B?void 0:B.includes(A),key:A,lang:A})))))},sq="255, 197, 32";sb("span",{fontWeight:"700"}),sb("div",{display:"flex",gap:"0.25rem"});let sY=sb("div",{fontSize:"0.9rem !important",color:"$secondaryAlt",margin:"0 0.5em"});sb("div",{display:"flex",flexDirection:"column",button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"2rem",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${sq}, 0.2)`,borderColor:`rgba(${sq}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${sq}, 0.2)`}}}});let sW=sb("input",{margin:"0",background:"none",zIndex:"2",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",fontFamily:"inherit",outline:"none !important",border:"none !important",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",flexGrow:"0",width:"2rem"}),sX=sb("button",{position:"absolute",zIndex:"3",border:"none",background:"transparent",color:"$secondary !important",fill:"$secondary !important",stroke:"$secondary !important",transition:"$all",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:"2rem",height:"2rem",width:"2rem",svg:{color:"inherit",fill:"inherit",stroke:"inherit"}}),sK=sb("button",{opacity:"1",alignSelf:"center",margin:"0 0.25rem",fill:"$secondary",flexShrink:"0",border:"none",background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:"2rem",height:"2rem",width:"2rem",svg:{color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),sZ=sb("form",{display:"flex",justifyContent:"space-between",transition:"$all",flexGrow:"1",height:"2rem",variants:{isPanelExpanded:{true:{[`${sX}`]:{marginLeft:"0",cursor:"text"},[`${sW}`]:{width:"100%",padding:"0 1rem 0 2rem",cursor:"text"}},false:{"&:hover":{backgroundColor:"$accent !important",borderRadius:"2rem"},[`${sX}`]:{cursor:"pointer"},[`${sW}`]:{cursor:"pointer","&::placeholder":{color:"transparent !important"}}}}}}),sJ=sb("div",{display:"flex",alignItems:"center",gap:"0.25rem","&[data-active=true]":{paddingRight:"0.5rem"},button:{fontSize:"0.9em",fill:"$secondary",color:"$secondary",stroke:"$secondary",backgroundColor:"transparent",border:"none",svg:{fill:"inherit",color:"inherit",stroke:"inherit",width:"1.25em"}}}),bn=({activeIndex:A,searchString:B,total:H})=>{let $=0===H?e3.createElement(e3.Fragment,null,"No results for ",e3.createElement("strong",null,B)):e3.createElement(e3.Fragment,null,A+1," of ",H," results for ",e3.createElement("strong",null,B));return e3.createElement(sY,null,$)},scroll_Te=({title:A,style:B={}})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:B},e3.createElement("title",null,A),e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),s0={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},An=()=>{let[A,B]=(0,e3.useState)(0),{dispatch:H,state:$}=(0,e3.useContext)(sT),{activeLanguages:W,annotations:K,searchString:et=""}=$,en=new n1.Z.Document(s0),er=[];null==K||K.forEach(A=>{var B;null==(B=null==A?void 0:A.body)||B.forEach(A=>{var B;if(!(null!=W&&W.includes(String(A.language))))return;let H=null==(B=null==A?void 0:A.value)?void 0:B.replace(/\n/g,"");er.push(null==A?void 0:A.id),en.add({id:null==A?void 0:A.id,content:H})})});let ei=null==en?void 0:en.search(et).reduce((A,B)=>[...new Set([...A,...B.result])],[]),eo=function(A,B){let H=RegExp(B,"gi"),$={total:0,matches:[]};return A.forEach(A=>{let B=A.body.id,W=A.body.value,K=[],et=0,en;for(console.log(en);null!==(en=H.exec(W));)et++,K.push(`${B}/${et}`);et>0&&($.total+=et,$.matches.push({[B]:K}))}),$}(ei.map(A=>null==K?void 0:K.filter(B=>B.body.find(B=>B.id===A)).map(B=>{let H=B.body.findIndex(B=>B.id===A);return{...B,body:B.body[H]}}).shift()),et),el=eo.matches.flatMap(A=>Object.values(A).flat());return(0,e3.useEffect)(()=>{B(0),H({type:"updateSearchMatches",payload:eo}),H({type:"updateSearchActiveMatch",payload:void 0})},[et]),(0,e3.useEffect)(()=>{H({type:"updateSearchActiveMatch",payload:el[A]})},[A,et]),e3.createElement(sJ,{"data-active":!!et},et&&e3.createElement(bn,{activeIndex:A,searchString:et,total:eo.total}),(null==eo?void 0:eo.total)!==0&&e3.createElement(e3.Fragment,null,e3.createElement("button",{onClick:()=>B(A=>A>0?A-1:el.length-1)},e3.createElement(scroll_Te,{title:"previous",style:{transform:"rotate(90deg)"}})),e3.createElement("button",{onClick:()=>B(A=>A<el.length-1?A+1:0)},e3.createElement(scroll_Te,{title:"next",style:{transform:"rotate(270deg)"}}))))},Rn=()=>e3.createElement("svg",{style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,"search"),e3.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Cn=()=>e3.createElement("svg",{style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,"close"),e3.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),In=({togglePanel:A,isPanelExpanded:B})=>{let{dispatch:H,state:$}=(0,e3.useContext)(sT),{searchString:W}=$,K=(0,e3.useRef)(null),s=()=>K.current===document.activeElement&&A(!0),l=()=>{var B;null==(B=K.current)||B.blur(),d(),A(!1),H({payload:"",type:"updateSearchString"}),H({payload:void 0,type:"updateSearchActiveMatch"})},d=()=>{K.current&&(K.current.value="")},p=A=>{"Escape"===A.key&&(A.preventDefault(),l())};return(0,e3.useEffect)(()=>(null==document||document.addEventListener("keydown",p),()=>{null==document||document.removeEventListener("keydown",p)}),[]),(0,e3.useEffect)(()=>{if(null!=K&&K.current)return K.current.addEventListener("focus",s),K.current.addEventListener("blur",s),()=>{K.current&&(K.current.removeEventListener("focus",s),K.current.removeEventListener("blur",s))}},[]),e3.createElement(sZ,{id:"scroll-search",autoComplete:"off",isPanelExpanded:B,"data-testid":"scroll-panel-search-form"},e3.createElement(sX,{onClick:A=>{var B;A.preventDefault(),null==(B=null==K?void 0:K.current)||B.focus()}},e3.createElement(Rn,null)),e3.createElement(sW,{ref:K,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:W,onChange:A=>{var B;H({payload:null==(B=null==A?void 0:A.target)?void 0:B.value,type:"updateSearchString"})}}),e3.createElement(sK,{"aria-disabled":!B,"aria-label":"Close search panel",onClick:A=>{A.preventDefault(),l()},disabled:!B},e3.createElement(Cn,null)))},s1=sb("div",{display:"flex",position:"relative",zIndex:"1",maxWidth:"100%",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),kn=({width:A,isFixed:B})=>{let H=(0,e3.useRef)(null),[$,W]=e3.useState(!1),{state:K}=(0,e3.useContext)(sT),{options:et}=K,{offset:en,language:er}=et,ei=null==er?void 0:er.enabled,eo=ei?4.5:2;return e3.createElement(sN,{ref:H,"data-testid":"scroll-panel",style:{display:$?"unset":"inline-flex",left:$||B?"unset":`calc(${A}px - ${eo}rem)`,marginLeft:$?`-${A}px`:B?`-${eo}rem`:"unset",width:$?A:`${eo}rem`,...B?{position:"fixed",top:B?en:0}:{}}},!$&&ei&&e3.createElement(yn,null),e3.createElement(sR,null,e3.createElement(In,{togglePanel:function(A){W(A)},isPanelExpanded:$}),e3.createElement(s1,{"data-testid":"scroll-panel-results","data-panel-expanded":$,isPanelExpanded:$},$&&e3.createElement(An,null))))},Tn=({label:A})=>{let{state:B}=(0,e3.useContext)(sT),{options:H}=B,{offset:$}=H,W=(0,e3.useRef)(null),[K,et]=(0,e3.useState)(0),[en,er]=(0,e3.useState)(!1);return(0,e3.useEffect)(()=>{let A=W.current;if(!A)return;let B=new ResizeObserver(A=>{for(let B of A)B.contentRect&&et(B.contentRect.width)});return B.observe(A),()=>{B.disconnect()}},[]),(0,e3.useEffect)(()=>{let d=()=>{let A=W.current;A&&(A.getBoundingClientRect().top<=$?er(!0):er(!1))};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),e3.createElement(sD,{ref:W},e3.createElement(scroll_ut,{label:A,className:"clover-scroll-header-label"}),e3.createElement("div",null,e3.createElement(kn,{width:K,isFixed:en})))},s2=sb("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),s3=sb("div",{transition:"$all",flexShrink:0}),s4=sb("div",{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"flex-start","> div":{display:"flex",flexDirection:"row",gap:"2.618rem","> div":{width:"calc(100% / var(--num-items))",boxSizing:"border-box"}}}),s5=sb("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",width:"61.8%",zIndex:0,marginLeft:"38.2%",display:"flex",justifyContent:"flex-end","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"calc(100% -  2.618em)",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),s6=sb("div",{display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${s3}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),s8=sb(n2.o,{}),s9=sb("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,gap:"0.382rem",em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),zn=({canvas:A,canvasInfo:{current:B,total:H}})=>e3.createElement("figcaption",null,e3.createElement("em",null,B," / ",H),(null==A?void 0:A.label)&&e3.createElement(scroll_ut,{label:null==A?void 0:A.label}),(null==A?void 0:A.summary)&&e3.createElement(Wr,{summary:null==A?void 0:A.summary,as:"p"})),s7=window.OpenSeadragon;if(!s7&&!(s7=e0))throw Error("OpenSeadragon is missing.");let ce="http://www.w3.org/2000/svg";s7.Viewer&&(s7.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_Et(this)),this._svgOverlayInfo});let scroll_Et=function(A){let B=this;this._viewer=A,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(ce,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(ce,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){B.resize()}),this._viewer.addHandler("open",function(){B.resize()}),this._viewer.addHandler("rotate",function(){B.resize()}),this._viewer.addHandler("flip",function(){B.resize()}),this._viewer.addHandler("resize",function(){B.resize()}),this.resize()};scroll_Et.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let A=this._viewer.viewport.pixelFromPoint(new s7.Point(0,0),!0),B=this._viewer.viewport.getZoom(!0),H=this._viewer.viewport.getRotation(),$=this._viewer.viewport.getFlip(),W=this._viewer.viewport._containerInnerSize.x,K=W*B,et=K;$&&(K=-K,A.x=-A.x+W),this._node.setAttribute("transform","translate("+A.x+","+A.y+") scale("+K+","+et+") rotate("+H+")")},onClick:function(A,B){new s7.MouseTracker({element:A,clickHandler:B}).setTracking(!0)}};let Fn=A=>fetch(`${A.replace(/\/$/,"")}/info.json`).then(A=>A.json()).then(A=>A).catch(B=>{console.error(`The IIIF tilesource ${A.replace(/\/$/,"")}/info.json failed to load: ${B}`)}),Nn=A=>{let B,H;return Array.isArray(A)&&(B=A[0])&&(H="@id"in B?B["@id"]:B.id),H};var ct=((ev=ct||{}).TiledImage="tiledImage",ev.SimpleImage="simpleImage",ev);let Bn=A=>{let B=Array.isArray(null==A?void 0:A.service)&&(null==A?void 0:A.service.length)>0,H=B?Nn(null==A?void 0:A.service):null==A?void 0:A.id,$=B?ct.TiledImage:ct.SimpleImage;return{uri:H,imageType:$}},Vn=(A,B)=>{let H=B?ct.TiledImage:ct.SimpleImage;return{uri:A,imageType:H}},cn=sb("div",{display:"flex",flexDirection:"column",alignItems:"center"}),ca=sb("p",{fontWeight:"bold",fontSize:"x-large"}),co=sb("span",{fontSize:"medium"}),Wn=({error:A})=>{let{message:B}=A;return e3.createElement(cn,{role:"alert"},e3.createElement(ca,{"data-testid":"headline"},"Something went wrong"),B&&e3.createElement(co,null,`Error message: ${B}`," "))},cl=sb("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),cc=sb("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),cu=sb("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${cl}`]:{display:"block"}},false:{[`${cl}`]:{display:"none"}}}}}),cd={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},ch=(eT=null==(eV=null==(ej=null==cd?void 0:cd.informationPanel)?void 0:ej.vtt)?void 0:eV.autoScroll,et={...cd.informationPanel.vtt.autoScroll},"object"==typeof eT&&(et="enabled"in eT?eT:{enabled:!0,settings:eT}),!1===eT&&(et.enabled=!1),function({behavior:A,block:B}){let H=["auto","instant","smooth"],$=["center","end","nearest","start"];if(!H.includes(A))throw TypeError(`'${A}' not in ${H.join(" | ")}`);if(!$.includes(B))throw TypeError(`'${B}' not in ${$.join(" | ")}`)}(et.settings),et),cp={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:cd,customDisplays:[],plugins:[],isAutoScrollEnabled:ch.enabled,isAutoScrolling:!1,isInformationOpen:null==(e$=null==cd?void 0:cd.informationPanel)?void 0:e$.open,isLoaded:!1,isUserScrolling:void 0,vault:new sy,contentSearchVault:new sy,openSeadragonViewer:null,viewerId:esm_browser_v4()},cm=e3.createContext(cp),cf=e3.createContext(cp);function scroll_Oe(){let A=e3.useContext(cm);if(void 0===A)throw Error("useViewerState must be used within a ViewerProvider");return A}function scroll_xt(){let A=e3.useContext(cf);if(void 0===A)throw Error("useViewerDispatch must be used within a ViewerProvider");return A}let cg=sb("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),scroll_z=({className:A,id:B,label:H,children:$})=>{let W=H.toLowerCase().replace(/\s/g,"-");return e3.createElement(cg,{id:B,className:A,"data-testid":"openseadragon-button","data-button":W},e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${B}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",{id:`${B}-svg-title`},H),$))},c_=sb("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),ri=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),ni=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),ii=()=>e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),oi=()=>e3.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),scroll_$e=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e3.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ai=({_cloverViewerHasPlaceholder:A,config:B})=>{let H=scroll_Oe(),{activeCanvas:$,plugins:W,vault:K,openSeadragonViewer:et}=H,en=K.get({id:$,type:"Canvas"});return(0,e3.useEffect)(()=>{if(!et)return;let A=et.viewport.getRotation();et.addHandler("home",()=>{et.viewport.setRotation(A)})},[et]),e3.createElement(c_,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:A},B.showZoomControl&&e3.createElement(e3.Fragment,null,e3.createElement(scroll_z,{id:B.zoomInButton,label:"zoom in"},e3.createElement(ri,null)),e3.createElement(scroll_z,{id:B.zoomOutButton,label:"zoom out"},e3.createElement(ni,null))),B.showFullPageControl&&e3.createElement(scroll_z,{id:B.fullPageButton,label:"full page"},e3.createElement(ii,null)),B.showRotationControl&&e3.createElement(e3.Fragment,null,e3.createElement(scroll_z,{id:B.rotateRightButton,label:"rotate right"},e3.createElement(scroll_$e,null)),e3.createElement(scroll_z,{id:B.rotateLeftButton,label:"rotate left"},e3.createElement(scroll_$e,null))),B.showHomeControl&&e3.createElement(scroll_z,{id:B.homeButton,label:"reset"},e3.createElement(oi,null)),W.filter(A=>{var B;return null==(B=A.imageViewer)?void 0:B.controls}).map((A,B)=>{var H,$,W,K;let et=null==($=null==(H=A.imageViewer)?void 0:H.controls)?void 0:$.component;return e3.createElement(et,{key:B,...null==(K=null==(W=null==A?void 0:A.imageViewer)?void 0:W.controls)?void 0:K.componentProps,canvas:en,useViewerDispatch:scroll_xt,useViewerState:scroll_Oe})}))},si=({ariaLabel:A,config:B,uri:H,_cloverViewerHasPlaceholder:$,imageType:W,openSeadragonCallback:K})=>{let[et,en]=(0,e3.useState)(),[er,ei]=(0,e3.useState)(),eo=scroll_xt(),el=(0,e3.useRef)(!1);return(0,e3.useEffect)(()=>(el.current||(el.current=!0,er||ei(e0(B))),()=>null==er?void 0:er.destroy()),[]),(0,e3.useEffect)(()=>{er&&K&&K(er)},[er,K]),(0,e3.useEffect)(()=>{er&&H!==et&&(null==er||er.forceRedraw(),en(H))},[er,et,H]),(0,e3.useEffect)(()=>{if(et&&er)switch(W){case"simpleImage":null==er||er.addSimpleImage({url:et});break;case"tiledImage":Fn(et).then(A=>{try{if(!A)throw Error(`No tile source found for ${et}`);null==er||er.addTiledImage({tileSource:A,success:()=>{"function"==typeof eo&&eo({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(A){console.error(A)}});break;default:null==er||er.close(),console.warn(`Unable to render ${et} in OpenSeadragon as type: "${W}"`)}},[W,et]),e3.createElement(cu,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":B.id,hasNavigator:B.showNavigator},e3.createElement(ai,{_cloverViewerHasPlaceholder:$,config:B}),B.showNavigator&&e3.createElement(cl,{id:B.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e3.createElement(cc,{id:B.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...A&&{"aria-label":A}}))},ci=({_cloverViewerHasPlaceholder:A=!1,body:B,instanceId:H,isTiledImage:$=!1,label:W,src:K="",openSeadragonCallback:et,openSeadragonConfig:en={}})=>{let er=H||esm_browser_v4(),ei="string"==typeof W?W:scroll_Z(W),eo={id:`openseadragon-${er}`,navigatorId:`openseadragon-navigator-${er}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${er}`,homeButton:`reset-${er}`,rotateLeftButton:`rotateLeft-${er}`,rotateRightButton:`rotateRight-${er}`,zoomInButton:`zoomIn-${er}`,zoomOutButton:`zoomOut-${er}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...en},{imageType:el,uri:es}=B?Bn(B):Vn(K,$);return es?e3.createElement(e1.ErrorBoundary,{FallbackComponent:Wn},e3.createElement(si,{_cloverViewerHasPlaceholder:A,ariaLabel:ei,config:eo,imageType:el,key:er,uri:es,openSeadragonCallback:et})):null},cE=sb("div",{width:"100%",height:"100%",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),cy=e3.memo(({body:A,label:B})=>e3.createElement(cE,{"data-testid":"scroll-figure-image"},e3.createElement(ci,{body:A,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...B&&{label:B}}))),cv=e3.memo(({body:A,label:B})=>e3.createElement(cE,{"data-testid":"scroll-figure-thumbnail"},e3.createElement(qr,{thumbnail:[A],style:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"},altAsLabel:B}))),hi=(A,B,H,$)=>{var W,K;let et={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(et.canvas=A.get(B),et.canvas&&(et.annotationPage=A.get(et.canvas.items[0]),et.accompanyingCanvas=null!=(W=et.canvas)&&W.accompanyingCanvas?A.get(null==(K=et.canvas)?void 0:K.accompanyingCanvas):void 0),et.annotationPage){let W=A.get(et.annotationPage.items).map(B=>({body:A.get(B.body[0].id),motivation:B.motivation,type:"Annotation"})),K=[];W.forEach(B=>{"Choice"===B.body.type?B.body.items.forEach(H=>K.push({...B,id:H.id,body:A.get(H.id)})):K.push(B)}),et.annotations=K.filter(W=>{if(W){if(!W.body||!W.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",W);return}let K=W.body;Array.isArray(K)&&(K=K[0]);let et=A.get(K.id);if(et)switch(H){case"painting":return W.target===B.id&&W.motivation&&"painting"===W.motivation[0]&&$.includes(et.type)&&(W.body=et),!!W;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return et},fi=(A,B)=>{let H=hi(A,{id:B,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==H.annotations.length&&H.annotations&&H.annotations)return H.annotations.map(A=>null==A?void 0:A.body)},gi=({canvas:A,canvasInfo:B})=>{let{state:H}=(0,e3.useContext)(sT),{vault:$,options:W}=H,{figure:K}=W,et=K.display?K.display:sv.options.figure.display,en=K.aspectRatio?K.aspectRatio:sv.options.figure.aspectRatio,er=fi($,A.id);return er?e3.createElement(s9,null,null==er?void 0:er.map(B=>e3.createElement(s8,{ratio:en,key:null==B?void 0:B.id},"thumbnail"===et&&e3.createElement(cv,{body:B,label:null==A?void 0:A.label}),"image-viewer"===et&&e3.createElement(cy,{label:null==A?void 0:A.label,body:B}))),e3.createElement(zn,{canvas:A,canvasInfo:B})):null},cT="255, 197, 32",cb=sb("div",{opacity:"1","&[dir=rtl]":{textAlign:"right"},"&[data-active-language=false]":{opacity:"0",width:"0",height:"0"},ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.clover-scroll-highlight":{position:"relative",fontWeight:"bold","&.active":{"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${cT}, 0.2)`,borderBottom:`1px solid rgba(${cT}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${cT}, 0.2)`,zIndex:-1}},"&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:"1px solid #6663",borderBottom:"1px solid #6664",boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:"#6661",zIndex:-1}}}),vi=({searchString:A="",content:B,stringLength:H=150})=>{let $=B.toLowerCase().indexOf(A.toLowerCase());if(-1!==$){let W=Math.max(0,$-H/2),K=Math.min(B.length,$+A.length+H/2);if(W>0){let A=B.lastIndexOf(" ",W+1);W=A>0?A+1:W}if(K<B.length){let A=B.indexOf(" ",K-1);K=A>-1?A:K}B=(W>0?"... ":"")+B.substring(W,K)+(K<B.length?" ...":"")}else B=B.substring(0,H)+"...";return B},Ei=({body:A,numItems:B=1,stringLength:H,type:$="content"})=>{let W;let{state:K}=(0,e3.useContext)(sT),{activeLanguages:et,searchActiveMatch:en,searchString:er}=K,ei=String(A.value);"snippet"==$&&(ei=vi({searchString:er,content:ei,stringLength:H}));let eo=function(A){let[B,H]=e3.useState("");return e3.useEffect(()=>{(async()=>{let B=await use_markdown_mr(A);H(B)})()},[A]),{html:B,jsx:lw.jsx("div",{dangerouslySetInnerHTML:{__html:B}})}}(ei);if("text/plain"===A.format&&(W=null==ei?void 0:ei.replace(/\n/g,"<br />")),"text/markdown"===A.format&&(W=null==eo?void 0:eo.html),"text/html"===A.format&&(W=ei),String(er)&&W){let B=1,H=RegExp(`(${er})`,"gi");W=null==W?void 0:W.replace(H,H=>{let $=`${A.id}/${B}`,W=en===$;return B+=1,`<span class="clover-scroll-highlight${W?" active":""}" data-index="${$}">${H}</span>`})}let el=[A.id,$].join("-"),es="RTL"===fn(String(A.language)),ec=String(A.language);return(0,e3.useEffect)(()=>{if(en){let A=document.querySelector(`[data-index="${en}"]`);A&&A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},[en]),W?e3.createElement(cb,{dangerouslySetInnerHTML:{__html:W},"data-active-language":null==et?void 0:et.includes(ec),"data-body-id":el,"data-testid":"scroll-item-body",style:{"--num-items":B},id:el,dir:es?"rtl":"ltr",css:{fontSize:es?"1.3em":"1em"},lang:ec}):null},ck=e3.memo(({hasItemBreak:A,isLastItem:B,item:H,itemCount:$,itemNumber:W})=>{var K;let{state:et}=e3.useContext(sT),{activeLanguages:en,annotations:er,vault:ei,options:eo}=et,{figure:el}=eo,es=null==ei?void 0:ei.get(H),ec=null==en?void 0:en.length,eu=null==(K=null==er?void 0:er.filter(A=>{var B,$;return(null==($=null==(B=A.target)?void 0:B.source)?void 0:$.id)===H.id}))?void 0:K.map(A=>null==A?void 0:A.body.map((A,B)=>e3.createElement(Ei,{body:A,key:B,numItems:ec})));return e3.createElement(e3.Fragment,null,e3.createElement(s2,{"data-page-break":A,"data-page-number":W,"data-last-item":B},e3.createElement(s3,{css:{width:el.width?el.width:sv.options.figure.width},"data-width":el.width},es&&e3.createElement(gi,{canvas:es,canvasInfo:{current:W,total:$}})),e3.createElement(s4,null,e3.createElement("div",null,null!=eu&&eu.length?eu:e3.createElement("p",null,"[Blank]")))),A&&e3.createElement(s5,{"aria-label":"Page Break"}))}),bi=({items:A})=>e3.createElement(s6,null,A.map((B,H)=>{let $=H+1,W=$===A.length;return e3.createElement(ck,{item:B,hasItemBreak:$<A.length,isLastItem:W,key:B.id,itemCount:A.length,itemNumber:$})})),wi=(A,B)=>{let[H,$]=(0,e3.useState)([]);return(0,e3.useEffect)(()=>{if(!B)return;let H=[];null==A||A.forEach(A=>{var $;let W=B.get(A);null==($=null==W?void 0:W.annotations)||$.forEach(A=>{var $;let W=B.get(A);null==($=null==W?void 0:W.items)||$.forEach(A=>{var $;let W=B.get(A);W&&H.push({...W,body:null==($=null==W?void 0:W.body)?void 0:$.map(A=>B.get(A))})})})});let W=H.reduce((A,B)=>(A.some(A=>A.id===B.id)||A.push(B),A),[]);$(W)},[A,B]),H},Ai=({iiifContent:A})=>{let[B,H]=(0,e3.useState)(),{state:$,dispatch:W}=(0,e3.useContext)(sT),{options:K,vault:et}=$,en=wi(null==B?void 0:B.items,et);return(0,e3.useEffect)(()=>{et&&et.load(A).then(A=>A&&H(A)).catch(B=>console.error(`Manifest ${A} failed to load: ${B}`))},[A]),(0,e3.useEffect)(()=>{var A;let B=(null==(A=null==K?void 0:K.language)?void 0:A.defaultLanguages)||scroll_yt(en);console.log(en),W({type:"updateAnnotations",payload:en}),W({type:"updateActiveLanguages",payload:B})},[en]),B?e3.createElement(sL,null,B&&e3.createElement(e3.Fragment,null,e3.createElement(Tn,{label:null==B?void 0:B.label}),e3.createElement(bi,{items:B.items}))):null},Ni=({iiifContent:A,options:B})=>e3.createElement(scroll_Tr,{options:B},e3.createElement(Ai,{iiifContent:A}));var cA=H(49897),cS=H(15059),cC=H(36609),cx=H(12849),cw=H(85893);function useCallbackRef(A){let B=e3.useRef(A);return e3.useEffect(()=>{B.current=A}),e3.useMemo(()=>(...A)=>B.current?.(...A),[])}var cI=globalThis?.document?e3.useLayoutEffect:()=>{};function setRef(A,B){if("function"==typeof A)return A(B);null!=A&&(A.current=B)}function composeRefs(...A){return B=>{let H=!1,$=A.map(A=>{let $=setRef(A,B);return H||"function"!=typeof $||(H=!0),$});if(H)return()=>{for(let B=0;B<$.length;B++){let H=$[B];"function"==typeof H?H():setRef(A[B],null)}}}}function useComposedRefs(...A){return e3.useCallback(composeRefs(...A),A)}H(73935);var cO=e3.forwardRef((A,B)=>{let{children:H,...$}=A,W=e3.Children.toArray(H),K=W.find(isSlottable);if(K){let A=K.props.children,H=W.map(B=>B!==K?B:e3.Children.count(A)>1?e3.Children.only(null):e3.isValidElement(A)?A.props.children:null);return(0,cw.jsx)(cR,{...$,ref:B,children:e3.isValidElement(A)?e3.cloneElement(A,void 0,H):null})}return(0,cw.jsx)(cR,{...$,ref:B,children:H})});cO.displayName="Slot";var cR=e3.forwardRef((A,B)=>{let{children:H,...$}=A;if(e3.isValidElement(H)){let A,W;let K=(A=Object.getOwnPropertyDescriptor(H.props,"ref")?.get)&&"isReactWarning"in A&&A.isReactWarning?H.ref:(A=Object.getOwnPropertyDescriptor(H,"ref")?.get)&&"isReactWarning"in A&&A.isReactWarning?H.props.ref:H.props.ref||H.ref,et=function(A,B){let H={...B};for(let $ in B){let W=A[$],K=B[$],et=/^on[A-Z]/.test($);et?W&&K?H[$]=(...A)=>{K(...A),W(...A)}:W&&(H[$]=W):"style"===$?H[$]={...W,...K}:"className"===$&&(H[$]=[W,K].filter(Boolean).join(" "))}return{...A,...H}}($,H.props);return H.type!==e3.Fragment&&(et.ref=B?composeRefs(B,K):K),e3.cloneElement(H,et)}return e3.Children.count(H)>1?e3.Children.only(null):null});cR.displayName="SlotClone";var Slottable=({children:A})=>(0,cw.jsx)(cw.Fragment,{children:A});function isSlottable(A){return e3.isValidElement(A)&&A.type===Slottable}var cN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((A,B)=>{let H=e3.forwardRef((A,H)=>{let{asChild:$,...W}=A,K=$?cO:B;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,cw.jsx)(K,{...W,ref:H})});return H.displayName=`Primitive.${B}`,{...A,[B]:H}},{}),Presence=A=>{let B,H;let{present:$,children:W}=A,K=function(A){var B;let[H,$]=e3.useState(),W=e3.useRef({}),K=e3.useRef(A),et=e3.useRef("none"),en=A?"mounted":"unmounted",[er,ei]=(B={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},e3.useReducer((A,H)=>{let $=B[A][H];return $??A},en));return e3.useEffect(()=>{let A=getAnimationName(W.current);et.current="mounted"===er?A:"none"},[er]),cI(()=>{let B=W.current,H=K.current,$=H!==A;if($){let $=et.current,W=getAnimationName(B);A?ei("MOUNT"):"none"===W||B?.display==="none"?ei("UNMOUNT"):H&&$!==W?ei("ANIMATION_OUT"):ei("UNMOUNT"),K.current=A}},[A,ei]),cI(()=>{if(H){let A;let B=H.ownerDocument.defaultView??window,handleAnimationEnd=$=>{let et=getAnimationName(W.current),en=et.includes($.animationName);if($.target===H&&en&&(ei("ANIMATION_END"),!K.current)){let $=H.style.animationFillMode;H.style.animationFillMode="forwards",A=B.setTimeout(()=>{"forwards"===H.style.animationFillMode&&(H.style.animationFillMode=$)})}},handleAnimationStart=A=>{A.target===H&&(et.current=getAnimationName(W.current))};return H.addEventListener("animationstart",handleAnimationStart),H.addEventListener("animationcancel",handleAnimationEnd),H.addEventListener("animationend",handleAnimationEnd),()=>{B.clearTimeout(A),H.removeEventListener("animationstart",handleAnimationStart),H.removeEventListener("animationcancel",handleAnimationEnd),H.removeEventListener("animationend",handleAnimationEnd)}}ei("ANIMATION_END")},[H,ei]),{isPresent:["mounted","unmountSuspended"].includes(er),ref:e3.useCallback(A=>{A&&(W.current=getComputedStyle(A)),$(A)},[])}}($),et="function"==typeof W?W({present:K.isPresent}):e3.Children.only(W),en=useComposedRefs(K.ref,(B=Object.getOwnPropertyDescriptor(et.props,"ref")?.get)&&"isReactWarning"in B&&B.isReactWarning?et.ref:(B=Object.getOwnPropertyDescriptor(et,"ref")?.get)&&"isReactWarning"in B&&B.isReactWarning?et.props.ref:et.props.ref||et.ref),er="function"==typeof W;return er||K.isPresent?e3.cloneElement(et,{ref:en}):null};function getAnimationName(A){return A?.animationName||"none"}Presence.displayName="Presence";var cD=e4["useId".toString()]||(()=>void 0),cL=0,cP="Collapsible",[cM,cF]=function(A,B=[]){let H=[],createScope=()=>{let B=H.map(A=>e3.createContext(A));return function(H){let $=H?.[A]||B;return e3.useMemo(()=>({[`__scope${A}`]:{...H,[A]:$}}),[H,$])}};return createScope.scopeName=A,[function(B,$){let W=e3.createContext($),K=H.length;H=[...H,$];let Provider=B=>{let{scope:H,children:$,...et}=B,en=H?.[A]?.[K]||W,er=e3.useMemo(()=>et,Object.values(et));return(0,cw.jsx)(en.Provider,{value:er,children:$})};return Provider.displayName=B+"Provider",[Provider,function(H,et){let en=et?.[A]?.[K]||W,er=e3.useContext(en);if(er)return er;if(void 0!==$)return $;throw Error(`\`${H}\` must be used within \`${B}\``)}]},function(...A){let B=A[0];if(1===A.length)return B;let createScope=()=>{let H=A.map(A=>({useScope:A(),scopeName:A.scopeName}));return function(A){let $=H.reduce((B,{useScope:H,scopeName:$})=>{let W=H(A),K=W[`__scope${$}`];return{...B,...K}},{});return e3.useMemo(()=>({[`__scope${B.scopeName}`]:$}),[$])}};return createScope.scopeName=B.scopeName,createScope}(createScope,...B)]}(cP),[cB,cU]=cM(cP),cH=e3.forwardRef((A,B)=>{let{__scopeCollapsible:H,open:$,defaultOpen:W,disabled:K,onOpenChange:et,...en}=A,[er=!1,ei]=function({prop:A,defaultProp:B,onChange:H=()=>{}}){let[$,W]=function({defaultProp:A,onChange:B}){let H=e3.useState(A),[$]=H,W=e3.useRef($),K=useCallbackRef(B);return e3.useEffect(()=>{W.current!==$&&(K($),W.current=$)},[$,W,K]),H}({defaultProp:B,onChange:H}),K=void 0!==A,et=K?A:$,en=useCallbackRef(H),er=e3.useCallback(B=>{if(K){let H="function"==typeof B?B(A):B;H!==A&&en(H)}else W(B)},[K,A,W,en]);return[et,er]}({prop:$,defaultProp:W,onChange:et});return(0,cw.jsx)(cB,{scope:H,disabled:K,contentId:function(A){let[B,H]=e3.useState(cD());return cI(()=>{A||H(A=>A??String(cL++))},[A]),A||(B?`radix-${B}`:"")}(),open:er,onOpenToggle:e3.useCallback(()=>ei(A=>!A),[ei]),children:(0,cw.jsx)(cN.div,{"data-state":getState(er),"data-disabled":K?"":void 0,...en,ref:B})})});cH.displayName=cP;var cz="CollapsibleTrigger",cG=e3.forwardRef((A,B)=>{let{__scopeCollapsible:H,...$}=A,W=cU(cz,H);return(0,cw.jsx)(cN.button,{type:"button","aria-controls":W.contentId,"aria-expanded":W.open||!1,"data-state":getState(W.open),"data-disabled":W.disabled?"":void 0,disabled:W.disabled,...$,ref:B,onClick:function(A,B,{checkForDefaultPrevented:H=!0}={}){return function($){if(A?.($),!1===H||!$.defaultPrevented)return B?.($)}}(A.onClick,W.onOpenToggle)})});cG.displayName=cz;var cj="CollapsibleContent",cV=e3.forwardRef((A,B)=>{let{forceMount:H,...$}=A,W=cU(cj,A.__scopeCollapsible);return(0,cw.jsx)(Presence,{present:H||W.open,children:({present:A})=>(0,cw.jsx)(c$,{...$,ref:B,present:A})})});cV.displayName=cj;var c$=e3.forwardRef((A,B)=>{let{__scopeCollapsible:H,present:$,children:W,...K}=A,et=cU(cj,H),[en,er]=e3.useState($),ei=e3.useRef(null),eo=useComposedRefs(B,ei),el=e3.useRef(0),es=el.current,ec=e3.useRef(0),eu=ec.current,ed=et.open||en,eh=e3.useRef(ed),ep=e3.useRef(void 0);return e3.useEffect(()=>{let A=requestAnimationFrame(()=>eh.current=!1);return()=>cancelAnimationFrame(A)},[]),cI(()=>{let A=ei.current;if(A){ep.current=ep.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";let B=A.getBoundingClientRect();el.current=B.height,ec.current=B.width,eh.current||(A.style.transitionDuration=ep.current.transitionDuration,A.style.animationName=ep.current.animationName),er($)}},[et.open,$]),(0,cw.jsx)(cN.div,{"data-state":getState(et.open),"data-disabled":et.disabled?"":void 0,id:et.contentId,hidden:!ed,...K,ref:eo,style:{"--radix-collapsible-content-height":es?`${es}px`:void 0,"--radix-collapsible-content-width":eu?`${eu}px`:void 0,...A.style},children:ed&&W})});function getState(A){return A?"open":"closed"}var cQ=H(39597),cq=H(82968),cY=H(94801),cW=H(59821),cX=H(87462),cK=H(36206),cZ=H(28771),cJ=H(25360),c0=H(91276),c1=H(75320);(A,B)=>(0,e3.createElement)(c1.WV.label,(0,cX.Z)({},A,{ref:B,onMouseDown:B=>{var H;null===(H=A.onMouseDown)||void 0===H||H.call(A,B),!B.defaultPrevented&&B.detail>1&&B.preventDefault()}}));let[c2,c3]=(0,cJ.b)("Form"),c4="Form",[c5,c6]=c2(c4),[c8,c9]=c2(c4),c7=(0,e3.forwardRef)((A,B)=>{let{__scopeForm:H,onClearServerErrors:$=()=>{},...W}=A,K=(0,e3.useRef)(null),et=(0,cZ.e)(B,K),[en,er]=(0,e3.useState)({}),ei=(0,e3.useCallback)(A=>en[A],[en]),eo=(0,e3.useCallback)((A,B)=>er(H=>{var $;return{...H,[A]:{...null!==($=H[A])&&void 0!==$?$:{},...B}}}),[]),el=(0,e3.useCallback)(A=>{er(B=>({...B,[A]:void 0})),em(B=>({...B,[A]:{}}))},[]),[es,ec]=(0,e3.useState)({}),eu=(0,e3.useCallback)(A=>{var B;return null!==(B=es[A])&&void 0!==B?B:[]},[es]),ed=(0,e3.useCallback)((A,B)=>{ec(H=>{var $;return{...H,[A]:[...null!==($=H[A])&&void 0!==$?$:[],B]}})},[]),eh=(0,e3.useCallback)((A,B)=>{ec(H=>{var $;return{...H,[A]:(null!==($=H[A])&&void 0!==$?$:[]).filter(A=>A.id!==B)}})},[]),[ep,em]=(0,e3.useState)({}),ef=(0,e3.useCallback)(A=>{var B;return null!==(B=ep[A])&&void 0!==B?B:{}},[ep]),eg=(0,e3.useCallback)((A,B)=>{em(H=>{var $;return{...H,[A]:{...null!==($=H[A])&&void 0!==$?$:{},...B}}})},[]),[e_,eE]=(0,e3.useState)({}),ey=(0,e3.useCallback)((A,B)=>{eE(H=>{let $=new Set(H[A]).add(B);return{...H,[A]:$}})},[]),ev=(0,e3.useCallback)((A,B)=>{eE(H=>{let $=new Set(H[A]);return $.delete(B),{...H,[A]:$}})},[]),eT=(0,e3.useCallback)(A=>{var B;return Array.from(null!==(B=e_[A])&&void 0!==B?B:[]).join(" ")||void 0},[e_]);return(0,e3.createElement)(c5,{scope:H,getFieldValidity:ei,onFieldValidityChange:eo,getFieldCustomMatcherEntries:eu,onFieldCustomMatcherEntryAdd:ed,onFieldCustomMatcherEntryRemove:eh,getFieldCustomErrors:ef,onFieldCustomErrorsChange:eg,onFieldValiditionClear:el},(0,e3.createElement)(c8,{scope:H,onFieldMessageIdAdd:ey,onFieldMessageIdRemove:ev,getFieldDescription:eT},(0,e3.createElement)(c1.WV.form,(0,cX.Z)({},W,{ref:et,onInvalid:(0,cK.M)(A.onInvalid,A=>{let B=$d94698215c4408a7$var$getFirstInvalidControl(A.currentTarget);B===A.target&&B.focus(),A.preventDefault()}),onSubmit:(0,cK.M)(A.onSubmit,$,{checkForDefaultPrevented:!1}),onReset:(0,cK.M)(A.onReset,$)}))))}),ue="FormField",[ut,un]=c2(ue),ui=(0,e3.forwardRef)((A,B)=>{let{__scopeForm:H,name:$,serverInvalid:W=!1,...K}=A,et=c6(ue,H),en=et.getFieldValidity($),er=(0,c0.M)();return(0,e3.createElement)(ut,{scope:H,id:er,name:$,serverInvalid:W},(0,e3.createElement)(c1.WV.div,(0,cX.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(en,W),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(en,W)},K,{ref:B})))}),uo="FormControl",ul=(0,e3.forwardRef)((A,B)=>{let{__scopeForm:H,...$}=A,W=c6(uo,H),K=un(uo,H),et=c9(uo,H),en=(0,e3.useRef)(null),er=(0,cZ.e)(B,en),ei=$.name||K.name,eo=$.id||K.id,el=W.getFieldCustomMatcherEntries(ei),{onFieldValidityChange:es,onFieldCustomErrorsChange:ec,onFieldValiditionClear:eu}=W,ed=(0,e3.useCallback)(async A=>{if($d94698215c4408a7$var$hasBuiltInError(A.validity)){let B=$d94698215c4408a7$var$validityStateToObject(A.validity);es(ei,B);return}let B=A.form?new FormData(A.form):new FormData,H=[A.value,B],$=[],W=[];el.forEach(A=>{"AsyncFunction"===A.match.constructor.name||(0,A.match)(...H) instanceof Promise?W.push(A):"Function"===A.match.constructor.name&&$.push(A)});let K=$.map(({id:A,match:B})=>[A,B(...H)]),et=Object.fromEntries(K),en=Object.values(et).some(Boolean);A.setCustomValidity(en?uc:"");let er=$d94698215c4408a7$var$validityStateToObject(A.validity);if(es(ei,er),ec(ei,et),!en&&W.length>0){let B=W.map(({id:A,match:B})=>B(...H).then(B=>[A,B])),$=await Promise.all(B),K=Object.fromEntries($),et=Object.values(K).some(Boolean);A.setCustomValidity(et?uc:"");let en=$d94698215c4408a7$var$validityStateToObject(A.validity);es(ei,en),ec(ei,K)}},[el,ei,ec,es]);(0,e3.useEffect)(()=>{let A=en.current;if(A){let handleChange=()=>ed(A);return A.addEventListener("change",handleChange),()=>A.removeEventListener("change",handleChange)}},[ed]);let eh=(0,e3.useCallback)(()=>{let A=en.current;A&&(A.setCustomValidity(""),eu(ei))},[ei,eu]);(0,e3.useEffect)(()=>{var A;let B=null===(A=en.current)||void 0===A?void 0:A.form;if(B)return B.addEventListener("reset",eh),()=>B.removeEventListener("reset",eh)},[eh]),(0,e3.useEffect)(()=>{let A=en.current,B=null==A?void 0:A.closest("form");if(B&&K.serverInvalid){let H=$d94698215c4408a7$var$getFirstInvalidControl(B);H===A&&H.focus()}},[K.serverInvalid]);let ep=W.getFieldValidity(ei);return(0,e3.createElement)(c1.WV.input,(0,cX.Z)({"data-valid":$d94698215c4408a7$var$getValidAttribute(ep,K.serverInvalid),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(ep,K.serverInvalid),"aria-invalid":!!K.serverInvalid||void 0,"aria-describedby":et.getFieldDescription(ei),title:""},$,{ref:er,id:eo,name:ei,onInvalid:(0,cK.M)(A.onInvalid,A=>{let B=A.currentTarget;ed(B)}),onChange:(0,cK.M)(A.onChange,A=>{eh()})}))}),uc="This value is not valid",uu={badInput:uc,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},ud="FormMessage",uh=((A,B)=>{let{match:H,forceMatch:$=!1,name:W,children:K,...et}=A,en=c6(ud,et.__scopeForm),er=en.getFieldValidity(W),ei=$||(null==er?void 0:er[H]);return ei?(0,e3.createElement)(uh,(0,cX.Z)({ref:B},et,{name:W}),null!=K?K:uu[H]):null},(0,e3.forwardRef)((A,B)=>{let{__scopeForm:H,id:$,name:W,...K}=A,et=c9(ud,H),en=(0,c0.M)(),er=null!=$?$:en,{onFieldMessageIdAdd:ei,onFieldMessageIdRemove:eo}=et;return(0,e3.useEffect)(()=>(ei(W,er),()=>eo(W,er)),[W,er,ei,eo]),(0,e3.createElement)(c1.WV.span,(0,cX.Z)({id:er},K,{ref:B}))})),up=(0,e3.forwardRef)((A,B)=>{let{__scopeForm:H,...$}=A;return(0,e3.createElement)(c1.WV.button,(0,cX.Z)({type:"submit"},$,{ref:B}))});function $d94698215c4408a7$var$validityStateToObject(A){let B={};for(let H in A)B[H]=A[H];return B}function $d94698215c4408a7$var$isHTMLElement(A){return A instanceof HTMLElement}function $d94698215c4408a7$var$isInvalid(A){return"validity"in A&&(!1===A.validity.valid||"true"===A.getAttribute("aria-invalid"))}function $d94698215c4408a7$var$getFirstInvalidControl(A){let B=A.elements,[H]=Array.from(B).filter($d94698215c4408a7$var$isHTMLElement).filter($d94698215c4408a7$var$isInvalid);return H}function $d94698215c4408a7$var$hasBuiltInError(A){let B=!1;for(let H in A)if("valid"!==H&&"customError"!==H&&A[H]){B=!0;break}return B}function $d94698215c4408a7$var$getValidAttribute(A,B){if((null==A?void 0:A.valid)===!0&&!B)return!0}function $d94698215c4408a7$var$getInvalidAttribute(A,B){if((null==A?void 0:A.valid)===!1||B)return!0}var um=H(72679),uf=H(38886),ug=H(22512);let u_="clover",uE=Object.fromEntries(Object.entries({en:{commonClose:"Close",commonNext:"Next",commonPrevious:"Previous",commonSearch:"Search",commonSearchPlaceholder:"Search...",commonShare:"Share",commonViewAll:"View All",copyFailure:"Failed",copySuccess:"Copied",informationPanelTabs:"Select",informationPanelTabsAbout:"About",informationPanelTabsAnnotations:"Annotations",informationPanelTabsSearch:"Search",informationPanelToggle:"More Information",shareCollectionJson:"View Collection",shareCollectionCopy:"Copy Collection URL",shareManifestJson:"View Manifest",shareManifestCopy:"Copy Manifest URL"},pt:{}}).map(([A,B])=>[A,{[`${u_}`]:B}]));cC.ZP.use(cS.Z).use(cx.Db).init({defaultNS:u_,fallbackLng:"en",ns:[u_],resources:{...uE}});var viewer_$=function(A){return function(){let B={type:A,getType:()=>A,toString:()=>A};return(A,H)=>({...B,...void 0!==A&&{payload:A},...void 0!==H&&{meta:H}})}},uy="@iiif/IMPORT_ENTITIES",uv="@iiif/MODIFY_ENTITY_FIELD",uT="@iiif/REORDER_ENTITY_FIELD",ub="@iiif/ADD_REFERENCE",uk="@iiif/UPDATE_REFERENCE",uA="@iiif/REMOVE_REFERENCE",uS="@iiif/ADD_METADATA",uC="@iiif/REMOVE_METADATA",ux="@iiif/UPDATE_METADATA",uw="@iiif/REORDER_METADATA",uI=viewer_$(uy)(),uO=viewer_$(uv)(),uR=viewer_$(uT)(),uN=viewer_$(ub)(),uD=viewer_$(uA)(),uL=viewer_$(uk)(),uP=viewer_$(uS)(),uM=viewer_$(ux)(),uF={importEntities:uI,modifyEntityField:uO,reorderEntityField:uR,addReference:uN,removeReference:uD,updateReference:uL,addMetadata:uP,removeMetadata:viewer_$(uC)(),updateMetadata:uM,reorderMetadata:viewer_$(uw)()},uB="@iiif/ADD_MAPPING",uU="@iiif/ADD_MAPPINGS",uH=viewer_$(uB)(),uz=viewer_$(uU)(),uG="RESOURCE_ERROR",uj="RESOURCE_LOADING",uV="RESOURCE_READY",u$="@iiif/REQUEST_RESOURCE",uQ="@iiif/REQUEST_ERROR",uq="@iiif/REQUEST_MISMATCH",uY="@iiif/REQUEST_COMPLETE",uW=viewer_$(u$)(),uX=viewer_$(uQ)(),uK=viewer_$(uq)(),uZ=viewer_$(uY)(),uJ="@iiif/BATCH",u0=viewer_$(uJ)(),viewer_jr=(A,B)=>{let{entities:H,resource:$,mapping:W}=Fe(B);if(void 0===$.id)return[uX({id:A,message:"ID is not defined in resource."})];let K=[uI({entities:H}),uz({mapping:W})];return $.id!==A&&(K.push(uH({id:A,type:$.type})),K.push(uK({requestId:A,actualId:$.id}))),K.push(uZ({id:A})),K},u1=Number.isNaN||function(A){return"number"==typeof A&&A!=A};function viewer_rt(A,B){if(!Array.isArray(A)||!Array.isArray(B))return A===B;if(A.length!==B.length)return!1;for(let W=0;W<A.length;W++){var H,$;if(!((H=A[W])===($=B[W])||u1(H)&&u1($)))return!1}return!0}function viewer_we(A,B,H){let $=A.iiif.requests[B],W=A.iiif.mapping[B];if(!W||!A.iiif.entities[W][$.resourceUri])return;let K=A.iiif.entities[W][$.resourceUri];if(K&&K[tb]){let A=K[tb].find(A=>A[tk]===K.id);return chunk_AXOUQGO3_oe(K,A)}return K}function viewer_ot(A,B,{waitTimeout:H=30}={}){return($,W)=>{let K=A.getStore(),et=K.getState(),en=et.iiif.requests[$];if(en){if(en.loadingState===uV){let A=viewer_we(et,$);if(A)return A}switch(en.loadingState){case uG:break;case uj:return(async()=>{let A,B=!1;try{let W=await Promise.race([new Promise((H,W)=>{B||(A=K.subscribe(()=>{let A=K.getState();if(A.iiif.requests[$].loadingState===uG){W();return}if(A.iiif.requests[$].loadingState===uV){let B=viewer_we(A,$);B?H(B):W()}}))}),new Promise((A,$)=>setTimeout(()=>{B=!0,$()},6e4*H))]);if(A&&A(),W)return W}catch{A&&A()}})()}}A.dispatch(uW({id:$}));let c=B=>{if(!B)return;B.id||B["@id"]||(B["@type"]&&(B["@id"]=$),B.id=$);let H=viewer_jr($,B);return A.dispatch(u0({actions:H})),viewer_we(K.getState(),$)};try{let H=B($,W);return H&&"function"==typeof H.then?(async()=>{try{return c(await H)}catch(B){throw A.dispatch(uX({id:$,message:B.toString()})),B}})():c(H)}catch(B){throw A.dispatch(uX({id:$,message:B.toString()})),B}}}function viewer_Ht(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}let u2={};var viewer_at=A=>{let B;let H=new Set,a=(A,$)=>{let W="function"==typeof A?A(B):A;if(!Object.is(W,B)){let A=B;B=$??("object"!=typeof W||null===W)?W:Object.assign({},B,W),H.forEach(H=>H(B,A))}},o=()=>B,$={setState:a,getState:o,getInitialState:()=>W,subscribe:A=>(H.add(A),()=>H.delete(A)),destroy:()=>{(u2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),H.clear()}},W=B=A(a,o,$);return $},viewer_Yr=A=>A?viewer_at(A):viewer_at,u3="@iiif/SET_META_VALUE",u4="@iiif/SET_META_VALUE_DYNAMIC",u5="@iiif/UNSET_META_VALUE",u6={setMetaValue:viewer_$(u3)(),setMetaValueDynamic:viewer_$(u4)(),unsetMetaValue:viewer_$(u5)()};let u8={};var to=(A,B)=>(H,$,W)=>(W.dispatch=B=>(H(H=>A(H,B),!1,B),B),W.dispatchFromDevtools=!0,{dispatch:(...A)=>W.dispatch(...A),...B}),u9=new Map,viewer_de=A=>{let B=u9.get(A);return B?Object.fromEntries(Object.entries(B.stores).map(([A,B])=>[A,B.getState()])):{}},no=(A,B,H)=>{if(void 0===A)return{type:"untracked",connection:B.connect(H)};let $=u9.get(H.name);if($)return{type:"tracked",store:A,...$};let W={connection:B.connect(H),stores:{}};return u9.set(H.name,W),{type:"tracked",store:A,...W}},oo=(A,B={})=>(H,$,W)=>{let K;let{enabled:et,anonymousActionType:en,store:er,...ei}=B;try{K=(et??(u8?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!K)return(u8?"production":void 0)!=="production"&&et&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),A(H,$,W);let{connection:eo,...el}=no(er,K,ei),es=!0;W.setState=(A,B,K)=>{let et=H(A,B);if(!es)return et;let el=void 0===K?{type:en||"anonymous"}:"string"==typeof K?{type:K}:K;return void 0===er?null==eo||eo.send(el,$()):null==eo||eo.send({...el,type:`${er}/${el.type}`},{...viewer_de(ei.name),[er]:W.getState()}),et};let f=(...A)=>{let B=es;es=!1,H(...A),es=B},ec=A(W.setState,$,W);if("untracked"===el.type?null==eo||eo.init(ec):(el.stores[el.store]=W,null==eo||eo.init(Object.fromEntries(Object.entries(el.stores).map(([A,B])=>[A,A===el.store?ec:B.getState()])))),W.dispatchFromDevtools&&"function"==typeof W.dispatch){let A=!1,B=W.dispatch;W.dispatch=(...H)=>{(u8?"production":void 0)==="production"||"__setState"!==H[0].type||A||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),B(...H)}}return eo.subscribe(A=>{var B;switch(A.type){case"ACTION":if("string"!=typeof A.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return viewer_xe(A.payload,A=>{if("__setState"===A.type){if(void 0===er){f(A.state);return}1!==Object.keys(A.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let B=A.state[er];if(null==B)return;JSON.stringify(W.getState())!==JSON.stringify(B)&&f(B);return}W.dispatchFromDevtools&&"function"==typeof W.dispatch&&W.dispatch(A)});case"DISPATCH":switch(A.payload.type){case"RESET":return f(ec),void 0===er?null==eo?void 0:eo.init(W.getState()):null==eo?void 0:eo.init(viewer_de(ei.name));case"COMMIT":if(void 0===er){null==eo||eo.init(W.getState());break}return null==eo?void 0:eo.init(viewer_de(ei.name));case"ROLLBACK":return viewer_xe(A.state,A=>{if(void 0===er){f(A),null==eo||eo.init(W.getState());return}f(A[er]),null==eo||eo.init(viewer_de(ei.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return viewer_xe(A.state,A=>{if(void 0===er){f(A);return}JSON.stringify(W.getState())!==JSON.stringify(A[er])&&f(A[er])});case"IMPORT_STATE":{let{nextLiftedState:H}=A.payload,$=null==(B=H.computedStates.slice(-1)[0])?void 0:B.state;if(!$)return;f(void 0===er?$:$[er]),null==eo||eo.send(null,H);break}case"PAUSE_RECORDING":return es=!es}return}}),ec},viewer_xe=(A,B)=>{let H;try{H=JSON.parse(A)}catch(A){console.error("[zustand devtools middleware] Could not parse the received json",A)}void 0!==H&&B(H)},io=A=>(B,H,$)=>{let W=$.subscribe;return $.subscribe=(A,B,H)=>{let K=A;if(B){let W=(null==H?void 0:H.equalityFn)||Object.is,et=A($.getState());K=H=>{let $=A(H);if(!W(et,$)){let A=et;B(et=$,A)}},null!=H&&H.fireImmediately&&B(et,et)}return W(K)},A(B,H,$)};function viewer_Ce(A,B,H,$){return!(!A[H]||!A[H][B]||!A[H][B][$]||!Array.isArray(A[H][B][$]))}function viewer_w(A){return A.payload}function viewer_Ae(A,B){return typeof A>"u"?B:A}function viewer_jt(A={}){let B=Object.keys(A);return function(H={},$){let W=!1,K={};for(let et=0;et<B.length;et++){let en=B[et];K[en]=A[en](H[en],$),W=W||K[en]!==H[en]}return W?K:H}}var u7=viewer_jt({mapping:(A={},B)=>{switch(B.type){case uB:return{...A,[B.payload.id]:B.payload.type};case uU:return{...A,...B.payload.mapping};default:return A}},entities:(A=viewer_Ht(),B)=>{var H;let n=(H,$)=>({...A,[viewer_w(B).type]:{...A[viewer_w(B).type],[viewer_w(B).id]:{...H,...$}}});switch(B.type){case uv:{if(!A[viewer_w(B).type]||!A[viewer_w(B).type][viewer_w(B).id])return A;let H=A[viewer_w(B).type][viewer_w(B).id];return"string"==typeof H?A:n(H,{[viewer_w(B).key]:viewer_w(B).value})}case uT:{if(!viewer_Ce(A,viewer_w(B).id,viewer_w(B).type,viewer_w(B).key))return A;let H=A[viewer_w(B).type][viewer_w(B).id];if("string"==typeof H)return A;let $=Array.from(H[viewer_w(B).key]),[W]=$.splice(viewer_w(B).startIndex,1);return $.splice(viewer_w(B).endIndex,0,W),n(H,{[viewer_w(B).key]:$})}case uy:{let H=Object.keys(viewer_w(B).entities),$={...A};for(let W of H){let H=viewer_w(B).entities[W],K={...A[W]||{}},et=!1,en=Object.keys(H||{})||[];if(H&&en){for(let B of en)et=!0,K[B]=A[W][B]?function(A,B){let H={},$=[];for(let[W,K]of Object.entries(A||{})){$.push(W);let A=(B||{})[W];if(!A||0===A.length){H[W]=K;continue}H[W]=A}for(let[A,W]of Object.entries(B||{}))-1===$.indexOf(A)&&(H[A]=W);return H}(A[W][B],H[B]):H[B];et&&($[W]=K)}}return $}case ub:{if(!viewer_Ce(A,viewer_w(B).id,viewer_w(B).type,viewer_w(B).key))return A;let H=A[viewer_w(B).type][viewer_w(B).id],$=Array.from(H[viewer_w(B).key]);return $.splice(viewer_Ae(viewer_w(B).index,$.length+1),0,viewer_w(B).reference),n(H,{[viewer_w(B).key]:$})}case uk:case uA:{if(!viewer_Ce(A,viewer_w(B).id,viewer_w(B).type,viewer_w(B).key))return A;let $=A[viewer_w(B).type][viewer_w(B).id],W=Array.from($[viewer_w(B).key]),K=viewer_Ae(viewer_w(B).index,W.findIndex(A=>A&&A.id===viewer_w(B).reference.id));return -1===K||(null==(H=W[K])?void 0:H.id)!==viewer_w(B).reference.id?A:(B.type===uk?W.splice(K,1,viewer_w(B).reference):W.splice(K,1),n($,{[viewer_w(B).key]:W}))}case uS:{let H=A[viewer_w(B).type][viewer_w(B).id];if(!H)return A;let $=Array.from(H.metadata||[]),W=viewer_w(B);return $.splice(viewer_Ae(B.payload.beforeIndex,$.length+1),0,{label:W.label,value:W.label}),n(H,{metadata:$})}case uw:{let H=A[viewer_w(B).type][viewer_w(B).id];if("string"==typeof H||!H)return A;let $=Array.from(H.metadata||[]),[W]=$.splice(viewer_w(B).startIndex,1);return $.splice(viewer_w(B).endIndex,0,W),n(H,{metadata:$})}case ux:case uC:{let H=A[viewer_w(B).type][viewer_w(B).id],$=Array.from(H.metadata||[]),W=viewer_w(B).atIndex;return typeof W>"u"||-1===W||!$[W]?A:(B.type===ux?$.splice(W,1,{label:viewer_w(B).label,value:viewer_w(B).value}):$.splice(W,1),n(H,{metadata:$}))}default:return A}},requests:(A={},B)=>{switch(B.type){case u$:case"@iiif/REQUEST_OFFLINE_RESOURCE":return{...A,[B.payload.id]:{requestUri:B.payload.id,loadingState:uj,uriMismatch:!1,resourceUri:B.payload.id}};case uq:return{...A,[B.payload.requestId]:{...A[B.payload.requestId]||{},uriMismatch:!0,resourceUri:B.payload.actualId},[B.payload.actualId]:{requestUri:B.payload.requestId,loadingState:A[B.payload.requestId].loadingState,uriMismatch:!0,resourceUri:B.payload.actualId}};case uQ:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:uG,error:B.payload.message}};case uY:return{...A,[B.payload.id]:{...A[B.payload.id]||{},loadingState:uV,error:void 0}}}return A},meta:(A={},B)=>{let{id:H,updateValue:$,value:W,meta:K,key:et}=B&&B.payload||{};switch(B.type){case u3:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:W}}};case u4:return{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:$(A[H]&&A[H][K]?A[H][K][et]:void 0)}}};case u5:return A[H]&&A[H][K]&&A[H][K][et]?{...A,[H]:{...A[H]||{},[K]:{...A[H]&&A[H][K]||{},[et]:void 0}}}:A;default:return A}}}),de=Object.defineProperty,yo=(A,B,H)=>B in A?de(A,B,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[B]=H,viewer_j=(A,B,H)=>(yo(A,"symbol"!=typeof B?B+"":B,H),H);function viewer_O(A,B,H,$=!0){B[di]=B[di]||[],B[di].push(A);let W=new Map;Object.defineProperty(B,A,{enumerable:$,get(){if(typeof B[dt][A]>"u")return;let $=B[dt][A];if(!$)return $;let K=H.get(B[dt][A],{parent:this.id?{id:this.id,type:this.type}:void 0});return W.has(K)||(W.clear(),W.set(K,viewer_Z(K,H))),W.get(K)},set($){B[dt][A]!==$&&(this[dn]?H.modifyEntityField({id:this.id,type:this.type},A,function viewer_Gt(A){return Array.isArray(A)?A.map(A=>viewer_Gt(A)):A&&A.type?{id:A.id,type:A.type}:A}($)):this[dt][A]=$)}})}var dt=Symbol.for("_refs_"),dn=Symbol.for("_reactive_"),di=Symbol.for("_defined_"),dl=Symbol.for("_parent_");function viewer_Z(A,B,H=!1,$){if(Array.isArray(A))return A.map(A=>viewer_Z(A,B,H));if(!A||!A.type||!A.id)return A;let W=function(A,B=!1,H){let $={id:"",type:"unknown",[di]:[],[dt]:{},[dl]:null,[dn]:null,is(A){return"string"==typeof A?this.id===A:!!A.id&&A.id===this.id},reactive(){if(!this[dn])return this[dn]=this.subscribe(()=>this.refresh(),!0),()=>{this.unreactive()}},refresh(){if(this.id){let A=this.unwrap();for(let B of Object.keys(A||{}))this[di].includes(B)?this[dt][B]=A[B]:this[B]=A[B]}},unreactive(){this[dn]&&(this[dn](),this[dn]=null)},unwrap(){if(!this.id)throw Error("Invalid object");let B=this[dl];return A.get(this.id,{parent:B?{id:B,type:"unknown"}:void 0})},toPresentation3(){return A.toPresentation3(this.unwrap())},toPresentation2(){return A.toPresentation2(this.unwrap())},valueOf(){return this.unwrap()},toJSON(){return{...this,items:this.items,annotations:this.annotations,structures:this.structures,seeAlso:this.seeAlso,service:this.service,services:this.services,rendering:this.rendering,partOf:this.partOf,start:this.start,supplementary:this.supplementary,homepage:this.homepage,thumbnail:this.thumbnail,placeholderCanvas:this.placeholderCanvas,accompanyingCanvas:this.accompanyingCanvas,provider:this.provider}},subscribe(B,H=!0){return A.subscribe(()=>this.id?A.get(this.id):null,B,H)}};return viewer_O("items",$,A),viewer_O("annotations",$,A),viewer_O("structures",$,A),viewer_O("seeAlso",$,A),viewer_O("rendering",$,A),viewer_O("partOf",$,A),viewer_O("start",$,A,!1),viewer_O("supplementary",$,A),viewer_O("homepage",$,A),viewer_O("thumbnail",$,A),viewer_O("placeholderCanvas",$,A,!1),viewer_O("accompanyingCanvas",$,A,!1),viewer_O("provider",$,A),viewer_O("body",$,A),viewer_O("logo",$,A),$}(B,H),K=Object.create(W),et=Object.assign(K,A);return H&&et.reactive(),et}function viewer_lt(A){switch(A){case"Image":case"Video":case"Sound":case"Dataset":case"Text":case"Composite":case"List":case"Independents":case"Audience":return"ContentResource";case"ImageService1":case"ImageService2":case"ImageService3":return"Service"}return A}var ds=class{constructor(A,B){var H;viewer_j(this,"options"),viewer_j(this,"store"),viewer_j(this,"emitter"),viewer_j(this,"isBatching",!1),viewer_j(this,"batchQueue",[]),viewer_j(this,"remoteFetcher"),viewer_j(this,"staticFetcher"),viewer_j(this,"defaultFetcher",A=>fetch(A).then(A=>A.json())),this.options=Object.assign({reducers:{},customFetcher:this.defaultFetcher,enableDevtools:!0},A||{}),this.store=B||function(A={}){var B;let{enableDevtools:H=!1,iiifStoreName:$="iiif",defaultState:W={iiif:{entities:viewer_Ht(),meta:{},mapping:{},requests:{}}},customReducers:K={}}=A,et=(B=viewer_jt({[$]:u7,...K}),(A,H)=>H&&H.type===uJ?H.payload.actions.reduce(B,A):H&&"@iiif/BATCH_IMPORT"===H.type?{...A,iiif:{...A.iiif,...H.payload.state}}:B(A,H)),en="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?oo:(A,B)=>A;return viewer_Yr(io(en(to(et,W),{enabled:H})))}({customReducers:this.options.reducers,defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:H=H||new Map,on:function(A,B){var $=H.get(A);$?$.push(B):H.set(A,[B])},off:function(A,B){var $=H.get(A);$&&(B?$.splice($.indexOf(B)>>>0,1):H.set(A,[]))},emit:function(A,B){var $=H.get(A);$&&$.slice().map(function(A){A(B)}),($=H.get("*"))&&$.slice().map(function(H){H(A,B)})}},this.remoteFetcher=viewer_ot(this,this.options.customFetcher),this.staticFetcher=viewer_ot(this,(A,B)=>B)}batch(A){this.isBatching=!0;try{A(this),this.isBatching=!1,this.dispatch(u0({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}async asyncBatch(A){this.isBatching=!0;try{await A(this),this.isBatching=!1,this.dispatch(u0({actions:this.batchQueue}))}catch(A){throw this.batchQueue=[],this.isBatching=!1,A}this.batchQueue=[]}modifyEntityField(A,B,H){this.dispatch(uF.modifyEntityField({id:A.id,type:A.type,key:B,value:H}))}dispatch(A){if(this.isBatching)this.batchQueue.push(A);else{if(A.type===uJ){for(let B of A.payload.actions)this.emitter.emit(B.type,{action:B,state:this.store.getState()});this.store.dispatch(A);let B=this.getState();for(let H of A.payload.actions)this.emitter.emit(`after:${H.type}`,{action:H,state:B});return}this.emitter.emit(A.type,{action:A,state:this.store.getState()}),this.store.dispatch(A);let B=this.store.getState();this.emitter.emit(`after:${A.type}`,{action:A,state:B});return}}on(A,B){return this.emitter.on(A,B),()=>{this.emitter.off(A,B)}}serialize(A,B){return $e(this.getState().iiif,A,B)}toPresentation2(A){return this.serialize(A,tP)}toPresentation3(A){return this.serialize(A,tM)}hydrate(A,B,H={}){return this.get(A,B,{...H,skipSelfReturn:!1})}get(A,B,H={}){"string"!=typeof B&&(H=B||{},B=void 0);let{skipSelfReturn:$=!0}=H||{},W=H.parent?"string"==typeof H.parent?H.parent:H.parent.id:void 0;if(Array.isArray(A))return A.map(A=>this.get(A,H));let K=this.getState();if(chunk_W3DWL6UZ_v(A)&&!H.preserveSpecificResources&&(A=A.source),"string"==typeof A){let H=viewer_lt(B||K.iiif.mapping[A]);if(!H)return $?null:{id:A,type:"unknown"};A={id:A,type:H}}if(A&&A.partOf&&!W&&!H.skipPartOfCheck){let B=Array.isArray(A.partOf)?A.partOf[0]:A.partOf;B&&("string"==typeof B&&(W=B),"string"==typeof B.id&&(W=B.id))}let et=viewer_lt(B||(null==A?void 0:A.type)),en=null==A?void 0:A.id,er=K.iiif.entities[et];if(!er){let B=K.iiif.requests[en];return B&&B.resourceUri!==en?this.get(B.resourceUri,H):$?null:A}let ei=er[A.id];if(ei&&ei[tb]){let A=ei[tb].find(A=>W?A[tk]===W:A[tk]===ei.id);return chunk_AXOUQGO3_oe(ei,A)}return er[A.id]||($?null:A)}select(A){return A(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}deep(A,B){if(typeof A>"u")return this.get(B,{skipSelfReturn:!1});if("function"==typeof A)try{let H=A(this.get(B,{skipSelfReturn:!1})),o=A=>this.deep(A,H);return o.size=Array.isArray(H)?H.length:1,o}catch{let o=A=>this.deep(A,void 0);return o.size=0,o}let n=B=>this.deep(B,A);return n.size=Array.isArray(A)?A.length:1,n}loadManifest(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}loadCollection(A,B){let H="string"==typeof A?A:A.id;return this.load(H,B)}load(A,B){let H="string"==typeof A?A:A.id;return B?Promise.resolve(this.staticFetcher(H,B)):Promise.resolve(this.remoteFetcher(H))}loadSync(A,B){let H="string"==typeof A?A:A.id;return this.staticFetcher(H,B)}loadManifestSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}loadCollectionSync(A,B){let H="string"==typeof A?A:A.id;return this.loadSync(H,B)}areInputsEqual(A,B){return viewer_rt(A,B)}subscribe(A,B,H){return typeof H>"u"&&(typeof B>"u"||!1===B||!0===B)&&(H=B,B=A,A=A=>A),this.store.subscribe(A,A=>B(A,this),{equalityFn:viewer_rt,fireImmediately:!H})}async ensureLoaded(A){let B="string"==typeof A?A:A.id;this.requestStatus(B)||await this.load(B)}requestStatus(A){return this.select(B=>B.iiif.requests[A])}getResourceMeta(A,B){let H=this.getState().iiif.meta[A];if(H)return B?H[B]:H}getObject(A,B,H={}){let{reactive:$,...W}=H;return viewer_Z(this.get(A,B,W),this,$)}async loadObject(A,B){return viewer_Z(await this.load(A,B),this)}async loadManifestObject(A,B){return viewer_Z(await this.loadManifest(A,B),this)}async loadCollectionObject(A,B){return viewer_Z(await this.loadCollection(A,B),this)}wrapObject(A){return viewer_Z(this.get(A,{skipSelfReturn:!1}),this)}isWrapped(A){return!!A[di]}setMetaValue([A,B,H],$){this.dispatch("function"==typeof $?u6.setMetaValueDynamic({id:A,meta:B,key:H,updateValue:$}):u6.setMetaValue({id:A,meta:B,key:H,value:$}))}};let So=A=>{let B=A.toString().split(":"),H=Math.ceil(parseInt(B[0])),$=Math.ceil(parseInt(B[1])),W=Co(Math.ceil(parseInt(B[2])),2),K=`${0!==H&&$<10?($+"").padStart(2,"0"):$}:${W}`;return 0!==H&&(K=`${H}:${K}`),K},viewer_Jt=A=>{let B=new Date(1e3*A).toISOString().substr(11,8);return So(B)},viewer_Qt=(A,B)=>{if("object"!=typeof A||null===A)return B;for(let H in B)"object"!=typeof B[H]||null===B[H]||Array.isArray(B[H])?A[H]=B[H]:(A[H]||(A[H]={}),A[H]=viewer_Qt(A[H],B[H]));return A},xo=A=>A.split("").reduce(function(A,B){return(A=(A<<5)-A+B.charCodeAt(0))&A},0),viewer_Yt=(A,B)=>Object.hasOwn(A,B)?A[B].toString():void 0,Co=(A,B)=>String(A).padStart(B,"0"),dc={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}};function viewer_Zt(A){let B={...dc.informationPanel.vtt.autoScroll};return"object"==typeof A&&(B="enabled"in A?A:{enabled:!0,settings:A}),!1===A&&(B.enabled=!1),function({behavior:A,block:B}){let H=["auto","instant","smooth"],$=["center","end","nearest","start"];if(!H.includes(A))throw TypeError(`'${A}' not in ${H.join(" | ")}`);if(!$.includes(B))throw TypeError(`'${B}' not in ${$.join(" | ")}`)}(B.settings),B}let du=viewer_Zt(null==(eq=null==(eQ=null==dc?void 0:dc.informationPanel)?void 0:eQ.vtt)?void 0:eq.autoScroll),dd={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:dc,customDisplays:[],plugins:[],isAutoScrollEnabled:du.enabled,isAutoScrolling:!1,isInformationOpen:null==(eY=null==dc?void 0:dc.informationPanel)?void 0:eY.open,isLoaded:!1,isUserScrolling:void 0,vault:new ds,contentSearchVault:new ds,openSeadragonViewer:null,viewerId:esm_browser_v4()},dh=e3.createContext(dd),dp=e3.createContext(dd);function To(A,B){switch(B.type){case"updateActiveCanvas":return B.canvasId||(B.canvasId=""),{...A,activeCanvas:B.canvasId};case"updateActiveManifest":return{...A,activeManifest:B.manifestId};case"updateOSDImageLoaded":return{...A,OSDImageLoaded:B.OSDImageLoaded};case"updateAutoScrollAnnotationEnabled":return{...A,isAutoScrollEnabled:B.isAutoScrollEnabled};case"updateAutoScrolling":return{...A,isAutoScrolling:B.isAutoScrolling};case"updateCollection":return{...A,collection:B.collection};case"updateConfigOptions":return{...A,configOptions:viewer_Qt(A.configOptions,B.configOptions)};case"updateInformationOpen":return{...A,isInformationOpen:B.isInformationOpen};case"updateIsLoaded":return{...A,isLoaded:B.isLoaded};case"updateUserScrolling":return{...A,isUserScrolling:B.isUserScrolling};case"updateOpenSeadragonViewer":return{...A,openSeadragonViewer:B.openSeadragonViewer};case"updateViewerId":return{...A,viewerId:B.viewerId};default:throw Error(`Unhandled action type: ${B.type}`)}}let Ro=({initialState:A=dd,children:B})=>{let[H,$]=(0,e3.useReducer)(To,A);return e3.createElement(dh.Provider,{value:H},e3.createElement(dp.Provider,{value:$},B))};function viewer_T(){let A=e3.useContext(dh);if(void 0===A)throw Error("useViewerState must be used within a ViewerProvider");return A}function viewer_F(){let A=e3.useContext(dp);if(void 0===A)throw Error("useViewerDispatch must be used within a ViewerProvider");return A}let dm=window.OpenSeadragon;if(!dm&&!(dm=e0))throw Error("OpenSeadragon is missing.");let df="http://www.w3.org/2000/svg";dm.Viewer&&(dm.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_Ge(this)),this._svgOverlayInfo});let viewer_Ge=function(A){let B=this;this._viewer=A,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(df,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(df,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){B.resize()}),this._viewer.addHandler("open",function(){B.resize()}),this._viewer.addHandler("rotate",function(){B.resize()}),this._viewer.addHandler("flip",function(){B.resize()}),this._viewer.addHandler("resize",function(){B.resize()}),this.resize()};viewer_Ge.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let A=this._viewer.viewport.pixelFromPoint(new dm.Point(0,0),!0),B=this._viewer.viewport.getZoom(!0),H=this._viewer.viewport.getRotation(),$=this._viewer.viewport.getFlip(),W=this._viewer.viewport._containerInnerSize.x,K=W*B,et=K;$&&(K=-K,A.x=-A.x+W),this._node.setAttribute("transform","translate("+A.x+","+A.y+") scale("+K+","+et+") rotate("+H+")")},onClick:function(A,B){new dm.MouseTracker({element:A,clickHandler:B}).setTracking(!0)}};let $o=A=>new viewer_Ge(A),viewer_en=A=>{var B,H,$,W,K;let et={id:"string"==typeof A?A:A.source};if("string"==typeof A){if(A.includes("#xywh=")){let B=A.split("#xywh=");if(B&&B[1]){let[A,H,$,W]=B[1].split(",").map(A=>Number(A));et={id:B[0],rect:{x:A,y:H,w:$,h:W}}}}else if(A.includes("#t=")){let B=A.split("#t=");B&&B[1]&&(et={id:B[0],t:B[1]})}}else if("object"==typeof A){if((null==(B=A.selector)?void 0:B.type)==="PointSelector")et={id:A.source,point:{x:A.selector.x,y:A.selector.y}};else if((null==(H=A.selector)?void 0:H.type)==="SvgSelector")et={id:A.source,svg:A.selector.value};else if((null==($=A.selector)?void 0:$.type)==="FragmentSelector"&&null!=(W=A.selector)&&W.value.includes("xywh=")&&"Canvas"==A.source.type&&A.source.id){let B=null==(K=A.selector)?void 0:K.value.split("xywh=");if(B&&B[1]){let[H,$,W,K]=B[1].split(",").map(A=>Number(A));et={id:A.source.id,rect:{x:H,y:$,w:W,h:K}}}}}return et},Mo=A=>fetch(`${A.replace(/\/$/,"")}/info.json`).then(A=>A.json()).then(A=>A).catch(B=>{console.error(`The IIIF tilesource ${A.replace(/\/$/,"")}/info.json failed to load: ${B}`)}),_o=A=>{let B,H;return Array.isArray(A)&&(B=A[0])&&(H="@id"in B?B["@id"]:B.id),H},viewer_Je=A=>{var B;let H,$;if(Fo(A))H=A,$={};else{let W=JSON.parse((0,cQ.o0)(A));switch(null==W?void 0:W.type){case"SpecificResource":case"Range":case"Annotation":$={manifest:H=null==W?void 0:W.target.partOf[0].id,canvas:null==W?void 0:W.target.id};break;case"Canvas":$={manifest:H=null==W?void 0:W.partOf[0].id,canvas:null==W?void 0:W.id};break;case"Manifest":H=null==W?void 0:W.id,$={collection:null==(B=null==W?void 0:W.partOf[0])?void 0:B.id,manifest:null==W?void 0:W.id};break;case"Collection":$={collection:H=null==W?void 0:W.id}}}return{resourceId:H,active:$}},Po=A=>{let{resourceId:B,active:H}=viewer_Je(A);return H.collection||H.manifest||B},Oo=(A,B)=>{let H=B.items.map(A=>A.id),{active:$}=viewer_Je(A),W=$.canvas;return H.includes(W)?W:H[0]},Lo=(A,B)=>{let{active:H}=viewer_Je(A),$=H.manifest,W=B.items.filter(A=>"Manifest"===A.type).map(A=>A.id);return 0==W.length?null:W.includes($)?$:W[0]},Fo=A=>{try{new URL(A)}catch{return!1}return!0};var dg=((eb=dg||{}).TiledImage="tiledImage",eb.SimpleImage="simpleImage",eb);function viewer_tn(A,B,H,$,W){if(!A)return;let K=1/B.width;$.forEach(B=>{if(!B.target)return;let $=viewer_en(B.target),{point:et,rect:en,svg:er}=$;if(en){let{x:B,y:$,w:et,h:er}=en;!function(A,B,H,$,W,K,et){let en=new e0.Rect(B,H,$,W),er=document.createElement("div");if(K){let{backgroundColor:A,opacity:B,borderType:H,borderColor:$,borderWidth:W}=K;er.style.backgroundColor=A,er.style.opacity=B,er.style.border=`${H} ${W} ${$}`,er.className=et}A.addOverlay(er,en)}(A,B*K,$*K,et*K,er*K,H,W)}if(et){let{x:B,y:$}=et,en=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${B}" cy="${$}" r="20" />
        </svg>
      `;viewer_dt(A,en,H,K,W)}er&&viewer_dt(A,er,H,K,W)})}function viewer_dt(A,B,H,$,W){let K=function(A){if(!A)return null;let B=document.createElement("template");return B.innerHTML=A.trim(),B.content.children[0]}(B);if(K)for(let B of K.children)!function viewer_nn(A,B,H,$,W){var K;if("#text"===B.nodeName)B.textContent&&(B.textContent.includes(`
`)||console.log("nodeName:",B.nodeName,", textContent:",B.textContent,", childNodes.length",B.childNodes.length));else{let et=function(A,B,H){let $=!1,W=!1,K=!1,et=!1,en=document.createElementNS("http://www.w3.org/2000/svg",A.nodeName);if(A.attributes.length>0)for(let B=0;B<A.attributes.length;B++){let H=A.attributes[B];switch(H.name){case"fill":K=!0;break;case"stroke":$=!0;break;case"stroke-width":W=!0;break;case"fill-opacity":et=!0}en.setAttribute(H.name,H.textContent)}return $||(en.style.stroke=null==B?void 0:B.borderColor),W||(en.style.strokeWidth=null==B?void 0:B.borderWidth),K||(en.style.fill=null==B?void 0:B.backgroundColor),et||(en.style.fillOpacity=null==B?void 0:B.opacity),en.setAttribute("transform",`scale(${H})`),en}(B,H,$),en=$o(A);en.node().append(et),null==(K=en._svg)||K.setAttribute("class",W),B.childNodes.forEach(B=>{viewer_nn(A,B,H,$,W)})}}(A,B,H,$,W)}let Ho=A=>{let B=Array.isArray(null==A?void 0:A.service)&&(null==A?void 0:A.service.length)>0,H=B?_o(null==A?void 0:A.service):null==A?void 0:A.id,$=B?dg.TiledImage:dg.SimpleImage;return{uri:H,imageType:$}},Uo=(A,B)=>{let H=B?dg.TiledImage:dg.SimpleImage;return{uri:A,imageType:H}};function viewer_rn(A,B){if(!A)return;B.startsWith(".")||(B="."+B);let H=document.querySelectorAll(B);H&&H.forEach(B=>A.removeOverlay(B))}function viewer_Ve(A,B,H,$){let W=viewer_en(H),{point:K,rect:et,svg:en}=W;if(K||et||en){let H=function(A,B,H){let $,W,K=40,et=40;B.rect&&($=B.rect.x,W=B.rect.y,K=B.rect.w,et=B.rect.h),B.point&&($=B.point.x,W=B.point.y);let en=1/A.width;return new e0.Rect($*en-K*en/2*(H-1),W*en-et*en/2*(H-1),K*en*H,et*en*H)}($,W,B);null==A||A.viewport.fitBounds(H)}}let qo=async(A,B)=>{let H=A.get({id:B,type:"Canvas"});if(!(null!=H&&H.annotations)||!H.annotations[0])return[];let $=A.get(H.annotations).filter(A=>!!A.items&&A),W=[];for(let B of $)if(B.items.length>0){let A=B.label||{none:["Annotations"]};W.push({...B,label:A})}else{let H={};try{H=await A.load(B.id)}catch(A){console.log(A)}if(H.items&&H.items.length>0){let A=H.label||{none:["Annotations"]};W.push({...H,label:A})}}return W},viewer_on=async(A,B,H,$)=>{let W;if(null==$||null==$.q)return{label:{none:[H]}};let K=`${B}?q=${$.q.trim()}`;try{W=await A.load(K)}catch{return console.log("Could not load content search."),{}}return null==W.label&&(W.label={none:[H]}),W},viewer_an=(A,B,H,$)=>{var W,K;let et={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(et.canvas=A.get(B),et.canvas&&(et.annotationPage=A.get(et.canvas.items[0]),et.accompanyingCanvas=null!=(W=et.canvas)&&W.accompanyingCanvas?A.get(null==(K=et.canvas)?void 0:K.accompanyingCanvas):void 0),et.annotationPage){let W=A.get(et.annotationPage.items).map(B=>({body:A.get(B.body[0].id),motivation:B.motivation,type:"Annotation"})),K=[];W.forEach(B=>{"Choice"===B.body.type?B.body.items.forEach(H=>K.push({...B,id:H.id,body:A.get(H.id)})):K.push(B)}),et.annotations=K.filter(W=>{if(W){if(!W.body||!W.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",W);return}let K=W.body;Array.isArray(K)&&(K=K[0]);let et=A.get(K.id);if(et)switch(H){case"painting":return W.target===B.id&&W.motivation&&"painting"===W.motivation[0]&&$.includes(et.type)&&(W.body=et),!!W;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return et},viewer_re=(A,B="en")=>{if(!A)return"";if(!A[B]){let B=Object.getOwnPropertyNames(A);if(B.length>0)return A[B[0]]}return A[B]},viewer_pe=(A,B)=>{let H=viewer_an(A,{id:B,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==H.annotations.length&&H.annotations&&H.annotations)return H.annotations.map(A=>null==A?void 0:A.body)},jo=(A,B,H,$)=>{let W=[];if(B.canvas&&B.canvas.thumbnail.length>0){let H=A.get(B.canvas.thumbnail[0]);W.push(H)}if(B.annotations[0]){if(B.annotations[0].thumbnail&&B.annotations[0].thumbnail.length>0){let H=A.get(B.annotations[0].thumbnail[0]);W.push(H)}if(!B.annotations[0].body)return;let H=B.annotations[0].body;"Image"===H.type&&W.push(H)}return 0===W.length?void 0:{id:W[0].id,format:W[0].format,type:W[0].type,width:H,height:$}},d_={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:dE,css:dy,keyframes:dv,createTheme:dT}=(0,e2.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:d_}),db=dE("div",{display:"flex",flexDirection:"column",alignItems:"center"}),dk=dE("p",{fontWeight:"bold",fontSize:"x-large"}),dA=dE("span",{fontSize:"medium"}),viewer_Ze=({error:A})=>{let{message:B}=A;return e3.createElement(db,{role:"alert"},e3.createElement(dk,{"data-testid":"headline"},"Something went wrong"),B&&e3.createElement(dA,null,`Error message: ${B}`," "))},dS=dE("div",{position:"relative",zIndex:"0"}),dC=dE("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),dx=dE("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),dw=dE(cG,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),dI=dE(cV,{width:"100%",display:"flex"}),dO=dE("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),dR=dE("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${dC}`]:{flexGrow:"1"},[`& ${dx}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${dS}`]:{display:"none"},[`& ${dw}`]:{margin:"1rem"},[`& ${dI}`]:{height:"100%"}}}}),dN=dE(cq.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),dD=dE(cq.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),dL=dE(cq.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),dP=dE(cq.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),dM=dE(({handleScroll:A,children:B,className:H})=>e3.createElement("div",{className:H,onScroll:A},B),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),dF={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},dB=dE("button",{textAlign:"left","&:hover":{color:"$accent"}}),dU=dE("div",{display:"flex",flexDirection:"column",width:"100%"}),dH=dE("div",{...dF}),dz=dE("div",{"&:hover":{color:"$accent"}}),viewer_ut=({value:A,handleClick:B})=>e3.createElement(dB,{onClick:B},A),ia=({value:A,handleClick:B})=>e3.createElement(dz,{dangerouslySetInnerHTML:{__html:A},onClick:B}),sa=()=>{function e(A){return A.map(A=>{let B=A.identifier||esm_browser_v4();return{...A,identifier:B}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(A){var B;let H=[],$=[],W=e(A);for(let A of W){for(;$.length>0&&$[$.length-1].end<=A.start;)$.pop();$.length>0?($[$.length-1].children||($[$.length-1].children=[]),null==(B=$[$.length-1].children)||B.push(A)):H.push(A),$.push(A)}return H},isChild:function(A,B=[]){return B.some(B=>A.start>=B.start&&A.end<=B.end)},orderCuesByTime:function(A=[]){return A.sort((A,B)=>A.start-B.start)}}},dG=dv({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),dj=dE(cY.fC,{display:"flex",flexDirection:"column",width:"100%"}),dV=dE(cY.ck,{...dF,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:dG,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:dG,boxSizing:"content-box","@sm":{content:"unset"}}}}),da=A=>{for(;A&&A!==document.body;){let B=window.getComputedStyle(A).overflowY;if("visible"!==B&&"hidden"!==B&&A.scrollHeight>A.clientHeight)return A;A=A.parentNode}return null},ua=({label:A,start:B,end:H})=>{var $,W;let K=viewer_F(),{configOptions:et,isAutoScrollEnabled:en,isUserScrolling:er}=viewer_T(),ei=null==(W=null==($=null==et?void 0:et.informationPanel)?void 0:$.vtt)?void 0:W.autoScroll,[eo,el]=(0,e3.useState)(!1),es=(0,e3.useRef)(null),ec=document.getElementById("clover-iiif-video");return(0,e3.useEffect)(()=>(null==ec||ec.addEventListener("timeupdate",()=>{let{currentTime:A}=ec;el(B<=A&&A<H)}),()=>document.removeEventListener("timeupdate",()=>{})),[H,B,ec]),(0,e3.useEffect)(()=>{var A,B;if(en&&eo&&es.current&&!er){let H=es.current;if(H&&H instanceof HTMLElement){let $=da(H);if($&&$ instanceof HTMLElement){let W;switch(null==(A=null==ei?void 0:ei.settings)?void 0:A.block){case"center":let et=$.getBoundingClientRect();W=H.offsetTop+H.offsetHeight-Math.floor((et.bottom-et.top)/2);break;case"end":W=H.offsetTop+H.offsetHeight-($.clientHeight-H.clientHeight)+2;break;default:W=H.offsetTop-2}K({type:"updateAutoScrolling",isAutoScrolling:!0}),$.scrollTo({top:W,left:0,behavior:null==(B=null==ei?void 0:ei.settings)?void 0:B.behavior}),setTimeout(()=>K({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[ei,eo,er,en,K]),e3.createElement(dV,{ref:es,"aria-checked":eo,"data-testid":"information-panel-cue",onClick:()=>{ec&&(ec.pause(),ec.currentTime=B,ec.play())},value:A},A,e3.createElement("strong",null,viewer_Jt(B)))},d$=dE("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${dV}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_hn=({items:A})=>e3.createElement(d$,null,A.map(A=>{let{text:B,start:H,end:$,children:W,identifier:K}=A;return e3.createElement("li",{key:K},e3.createElement(ua,{label:B,start:H,end:$}),W&&e3.createElement(viewer_hn,{items:W}))})),fa=({label:A,vttUri:B})=>{let[H,$]=e3.useState([]),{createNestedCues:W,orderCuesByTime:K}=sa(),[et,en]=e3.useState();return(0,e3.useEffect)(()=>{B&&fetch(B,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(A=>A.text()).then(A=>{let B=(0,cW.parse)(A).cues,H=K(B),et=W(H);$(et)}).catch(A=>{console.error(B,A.toString()),en(A)})},[B]),e3.createElement(dj,{"data-testid":"annotation-item-vtt","aria-label":`${viewer_re(A)}`},et&&e3.createElement("div",{"data-testid":"error-message"},"Network Error: ",et.toString()),e3.createElement(viewer_hn,{items:H}))},pa=({caption:A,handleClick:B,imageUri:H})=>e3.createElement(dB,{onClick:B},e3.createElement("img",{src:H,alt:`A visual annotation for ${A}`}),e3.createElement("span",null,A)),ha=({annotation:A})=>{var B,H;let{target:$}=A,W=viewer_T(),{openSeadragonViewer:K,vault:et,activeCanvas:en,configOptions:er}=W,ei=A.body.map(A=>et.get(A.id)),eo=(null==(B=ei.find(A=>A.format))?void 0:B.format)||"",el=(null==(H=ei.find(A=>A.value))?void 0:H.value)||"",es=et.get({id:en,type:"Canvas"});function m(){var A;if(!$)return;let B=(null==(A=er.annotationOverlays)?void 0:A.zoomLevel)||1;viewer_Ve(K,B,$,es)}return e3.createElement(dH,null,function(){var A,B;switch(eo){case"text/plain":return e3.createElement(viewer_ut,{value:el,handleClick:m});case"text/html":return e3.createElement(ia,{value:el,handleClick:m});case"text/vtt":return e3.createElement(fa,{label:ei[0].label,vttUri:ei[0].id||""});case null==(A=eo.match(/^image\//))?void 0:A.input:let H=(null==(B=ei.find(A=>{var B;return!(null!=(B=A.id)&&B.includes("vault://"))}))?void 0:B.id)||"";return e3.createElement(pa,{caption:el,handleClick:m,imageUri:H});default:return e3.createElement(viewer_ut,{value:el,handleClick:m})}}())},ga=({annotationPage:A})=>{var B;let H=viewer_T(),{vault:$}=H;if(!A||!A.items||(null==(B=A.items)?void 0:B.length)===0)return e3.createElement(e3.Fragment,null);let W=A.items.map(A=>$.get(A.id));return W?e3.createElement(dU,{"data-testid":"annotation-page"},null==W?void 0:W.map(A=>e3.createElement(ha,{key:A.id,annotation:A}))):e3.createElement(e3.Fragment,null)},dQ=dE("button",{textAlign:"left","&:hover":{color:"$accent"}}),dq=dE("li",{margin:"0.25rem 0"}),dY=dE("ol",{listStyleType:"auto",marginBottom:"1rem",listStylePosition:"inside"}),dW=dE("div",{margin:"0.5rem 1.618rem"}),dX=dE("div",{fontWeight:"bold"}),dK=dE("div",{marginBottom:"1rem"}),xa=({value:A,handleClick:B,target:H,canvas:$})=>e3.createElement(dQ,{onClick:B,"data-target":H,"data-canvas":$},A),Ca=({annotation:A,activeContentSearchTarget:B,setActiveContentSearchTarget:H})=>{var $,W,K;let et,en;let er=viewer_F(),ei=viewer_T(),{openSeadragonViewer:eo,vault:el,contentSearchVault:es,activeCanvas:ec,configOptions:eu,OSDImageLoaded:ed}=ei,eh=el.get({id:ec,type:"Canvas"}),ep=(null==($=A.body.map(A=>es.get(A.id)).find(A=>A.value))?void 0:$.value)||"";if(A.target&&"string"==typeof A.target&&(et=A.target),et){let A=et.split("#xywh");A.length>1&&(en=A[0])}let em=(null==(K=null==(W=eu.contentSearch)?void 0:W.overlays)?void 0:K.zoomLevel)||1;(0,e3.useEffect)(()=>{ed&&eo&&A.target&&A.target==B&&viewer_Ve(eo,em,et,eh)},[eo,ed]);let ef=JSON.stringify(et);return e3.createElement(dq,null,e3.createElement(xa,{target:ef,canvas:en,value:ep,handleClick:function(A){if(!eo)return;let B=JSON.parse(A.target.dataset.target),$=A.target.dataset.canvas;ec===$?viewer_Ve(eo,em,et,eh):(er({type:"updateOSDImageLoaded",OSDImageLoaded:!1}),er({type:"updateActiveCanvas",canvasId:$}),H(B))}}))},Aa=({annotationPage:A})=>{var B,H,$;let W=viewer_T(),{contentSearchVault:K,configOptions:et}=W,[en,er]=(0,e3.useState)(),ei=null==(B=et.contentSearch)?void 0:B.searchResultsLimit,eo=null==(H=et.localeText)?void 0:H.contentSearch;return A&&A.items&&(null==($=A.items)?void 0:$.length)!==0?e3.createElement(e3.Fragment,null,Object.entries(function(A){let B={};return A.items.forEach(A=>{let H=K.get(A.id),$="";if(H.label){let A=viewer_re(H.label);A&&($=A[0])}null==B[$]&&(B[$]=[]),B[$].push(H)}),B}(A)).map(([A,B],H)=>e3.createElement("div",{key:H},e3.createElement(dX,{className:"content-search-results-title"},A),e3.createElement(dY,{className:"content-search-results"},(ei?B.slice(0,ei):B).map((A,B)=>e3.createElement(Ca,{key:B,annotation:A,activeContentSearchTarget:en,setActiveContentSearchTarget:er}))),function(A){if(ei){let B=A.length-ei;if(B>0)return e3.createElement(dK,null,B," ",null==eo?void 0:eo.moreResults)}}(B)))):e3.createElement("p",null,null==eo?void 0:eo.noSearchResults)},dZ=dE("div",{".content-search-form":{display:"flex",marginBottom:"1rem"},input:{padding:".25rem",marginRight:"1rem"}}),dJ=dE("button",{display:"flex",background:"none",border:"none",width:"2rem",height:"2rem",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),Ta=({searchServiceUrl:A,setContentSearchResource:B,setLoading:H})=>{var $;let[W,K]=(0,e3.useState)(),et=viewer_T(),{contentSearchVault:en,openSeadragonViewer:er,configOptions:ei}=et,eo=null==($=ei.localeText)?void 0:$.contentSearch;async function u($){$.preventDefault();let K=null==eo?void 0:eo.tabLabel;if(er&&A){if(!W||""===W.trim()){B({label:{none:[K]}});return}H(!0),viewer_on(en,A,K,{q:W}).then(A=>{B(A),H(!1)})}}return e3.createElement(dZ,null,e3.createElement(c7,{onSubmit:u,className:"content-search-form"},e3.createElement(ui,{className:"FormField",name:"searchTerms",onChange:A=>{A.preventDefault(),K(A.target.value)}},e3.createElement(ul,{placeholder:null==eo?void 0:eo.formPlaceholder})),e3.createElement(up,{asChild:!0},e3.createElement(dJ,{type:"submit"},e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,"Search"),e3.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}))))))},Ra=({searchServiceUrl:A,setContentSearchResource:B,activeCanvas:H,annotationPage:$})=>{let[W,K]=(0,e3.useState)(!1);return e3.createElement(dW,null,e3.createElement(Ta,{searchServiceUrl:A,setContentSearchResource:B,activeCanvas:H,setLoading:K}),!W&&e3.createElement(Aa,{annotationPage:$}),W&&e3.createElement("span",null,"Loading..."))},d0=dE("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),d1=dE("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_gn=(A,B="none")=>{if(!A)return null;if("string"==typeof A)return[A];if(!A[B]){let B=Object.getOwnPropertyNames(A);if(B.length>0)return A[B[0]]}return A[B]&&Array.isArray(A[B])?A[B]:null},viewer_D=(A,B="none",H=", ")=>{let $=viewer_gn(A,B);return Array.isArray($)?$.join(`${H}`):$};function viewer_H(A,B){let H=Object.keys(A).filter(A=>B.includes(A)?null:A),$={};return H.forEach(B=>{$[B]=A[B]}),$}let d2=dE("span",{}),viewer_J=A=>{let{as:B,label:H}=A,$=viewer_H(A,["as","label"]);return e3.createElement(d2,{as:B,...$},viewer_D(H,$.lang))},La=(A,B="200,",H="full")=>{let $;Array.isArray(A)&&(A=A[0]);let{id:W,service:K}=A;if(!K)return W;if(Array.isArray(A.service)&&A.service.length>0&&($=K[0]),$){if($["@id"])return`${$["@id"]}/${H}/${B}/0/default.jpg`;if($.id)return`${$.id}/${H}/${B}/0/default.jpg`}},d3=dE("img",{objectFit:"cover"}),Fa=A=>{let B;let H=(0,e3.useRef)(null),{contentResource:$,altAsLabel:W,region:K="full"}=A;W&&(B=viewer_D(W));let et=viewer_H(A,["contentResource","altAsLabel"]),{type:en,id:er,width:ei=200,height:eo=200,duration:el}=$;(0,e3.useEffect)(()=>{if(!er&&!H.current||["Image"].includes(en)||!er.includes("m3u8"))return;let A=new nZ.ZP;return H.current&&(A.attachMedia(H.current),A.on(nZ.ZP.Events.MEDIA_ATTACHED,function(){A.loadSource(er)})),A.on(nZ.ZP.Events.ERROR,function(B,H){if(H.fatal)switch(H.type){case nZ.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${B} network error encountered, try to recover`),A.startLoad();break;case nZ.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${B} media error encountered, try to recover`),A.recoverMediaError();break;default:A.destroy()}}),()=>{A&&(A.detachMedia(),A.destroy())}},[er,en]);let es=(0,e3.useCallback)(()=>{if(!H.current)return;let A=0,B=30;if(el&&(B=el),!er.split("#t=")&&el&&(A=.1*el),er.split("#t=").pop()){let B=er.split("#t=").pop();B&&(A=parseInt(B.split(",")[0]))}let $=H.current;$.autoplay=!0,$.currentTime=A,setTimeout(()=>es(),1e3*B)},[el,er]);(0,e3.useEffect)(()=>es(),[es]);let ec=La($,`${ei},${eo}`,K);switch(en){case"Image":return e3.createElement(d3,{as:"img",alt:B,css:{width:ei,height:eo},key:er,src:ec,...et});case"Video":return e3.createElement(d3,{as:"video",css:{width:ei,height:eo},disablePictureInPicture:!0,key:er,loop:!0,muted:!0,onPause:es,ref:H,src:er});default:return console.warn(`Resource type: ${en} is not valid or not yet supported in Primitives.`),e3.createElement(e3.Fragment,null)}},d4=dE("a",{}),za=A=>{let{children:B,homepage:H}=A,$=viewer_H(A,["children","homepage"]);return e3.createElement(e3.Fragment,null,H&&H.map(A=>{let H=viewer_D(A.label,$.lang);return e3.createElement(d4,{"aria-label":B?H:void 0,href:A.id,key:A.id,...$},B||H)}))},d5={delimiter:", "},d6=(0,e3.createContext)(void 0),viewer_vn=()=>{let A=(0,e3.useContext)(d6);if(void 0===A)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return A},viewer_Ke=({children:A,initialState:B=d5})=>{let H=Na(B,"delimiter");return e3.createElement(d6.Provider,{value:{delimiter:H}},A)},Na=(A,B)=>Object.hasOwn(A,B)?A[B].toString():void 0,d8=dE("span",{}),viewer_pt=A=>{let{as:B,markup:H}=A,{delimiter:$}=viewer_vn();if(!H)return e3.createElement(e3.Fragment,null);let W=viewer_H(A,["as","markup"]),K={__html:nK(viewer_D(H,W.lang,$),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return e3.createElement(d8,{as:B,...W,dangerouslySetInnerHTML:K})},viewer_yn=A=>e3.useContext(d6)?e3.createElement(viewer_pt,{...A}):e3.createElement(viewer_Ke,null,e3.createElement(viewer_pt,{...A})),Ha=({as:A="dd",lang:B,value:H})=>e3.createElement(viewer_yn,{markup:H,as:A,lang:B}),d9=dE("span",{}),Wa=({as:A="dd",customValueContent:B,lang:H,value:$})=>{var W;let{delimiter:K}=viewer_vn(),et=null==(W=viewer_gn($,H))?void 0:W.map(A=>(0,e3.cloneElement)(B,{value:A}));return e3.createElement(d9,{as:A,lang:H},null==et?void 0:et.map((A,B)=>[B>0&&`${K}`,e3.createElement(e3.Fragment,{key:B},A)]))},viewer_En=A=>{var B;let{item:H,lang:$,customValueContent:W}=A,{label:K,value:et}=H,en=null==(B=viewer_D(K))?void 0:B.replace(" ","-").toLowerCase();return e3.createElement("div",{role:"group","data-label":en},e3.createElement(viewer_J,{as:"dt",label:K,lang:$}),W?e3.createElement(Wa,{as:"dd",customValueContent:W,value:et,lang:$}):e3.createElement(Ha,{as:"dd",value:et,lang:$}))},d7=dE("dl",{}),Ga=A=>{let{as:B,customValueContent:H,metadata:$}=A;if(!Array.isArray($))return e3.createElement(e3.Fragment,null);let W=viewer_Yt(A,"customValueDelimiter"),K=viewer_H(A,["as","customValueContent","customValueDelimiter","metadata"]);return e3.createElement(viewer_Ke,{..."string"==typeof W?{initialState:{delimiter:W}}:void 0},$.length>0&&e3.createElement(d7,{as:B,...K},$.map((A,B)=>{let $=H?function(A,B){let H=B.filter(B=>{let{matchingLabel:H}=B,$=Object.keys(B.matchingLabel)[0],W=viewer_D(H,$);if(viewer_D(A,$)===W)return!0}).map(A=>A.Content);if(Array.isArray(H))return H[0]}(A.label,H):void 0;return e3.createElement(viewer_En,{customValueContent:$,item:A,key:B,lang:null==K?void 0:K.lang})})))};dE("li",{}),dE("ul",{});let he=dE("li",{}),ht=dE("ul",{}),Ya=A=>{let{as:B,rendering:H}=A,$=viewer_H(A,["as","rendering"]);return e3.createElement(ht,{as:B},H&&H.map(A=>{let B=viewer_D(A.label,$.lang);return e3.createElement(he,{key:A.id},e3.createElement("a",{href:A.id,...$,target:"_blank"},B||A.id))}))},hn=dE("dl",{}),Xa=A=>{let{as:B,requiredStatement:H}=A;if(!H)return e3.createElement(e3.Fragment,null);let $=viewer_Yt(A,"customValueDelimiter"),W=viewer_H(A,["as","customValueDelimiter","requiredStatement"]);return e3.createElement(viewer_Ke,{..."string"==typeof $?{initialState:{delimiter:$}}:void 0},e3.createElement(hn,{as:B,...W},e3.createElement(viewer_En,{item:H,lang:W.lang})))},ho=dE("li",{}),hl=dE("ul",{}),viewer_ti=A=>{let{as:B,seeAlso:H}=A,$=viewer_H(A,["as","seeAlso"]);return e3.createElement(hl,{as:B},H&&H.map(A=>{let B=viewer_D(A.label,$.lang);return e3.createElement(ho,{key:A.id},e3.createElement("a",{href:A.id,...$},B||A.id))}))},viewer_ni=A=>{let{as:B,summary:H}=A,$=viewer_H(A,["as","customValueDelimiter","summary"]);return e3.createElement(viewer_yn,{as:B,markup:H,...$})},viewer_bn=A=>{let{thumbnail:B,region:H}=A,$=viewer_H(A,["thumbnail"]);return e3.createElement(e3.Fragment,null,B&&B.map(A=>e3.createElement(Fa,{contentResource:A,key:A.id,region:H,...$})))},viewer_ri=({homepage:A})=>(null==A?void 0:A.length)===0?e3.createElement(e3.Fragment,null):e3.createElement(e3.Fragment,null,e3.createElement("span",{className:"manifest-property-title"},"Homepage"),e3.createElement(za,{homepage:A})),viewer_oi=({id:A,htmlLabel:B,parent:H="manifest"})=>e3.createElement(e3.Fragment,null,e3.createElement("span",{className:"manifest-property-title"},B),e3.createElement("a",{href:A,target:"_blank",id:`iiif-${H}-id`},A)),viewer_ai=({metadata:A,parent:B="manifest"})=>A?e3.createElement(e3.Fragment,null,e3.createElement(Ga,{metadata:A,id:`iiif-${B}-metadata`})):e3.createElement(e3.Fragment,null),viewer_ii=({rendering:A})=>(null==A?void 0:A.length)===0?e3.createElement(e3.Fragment,null):e3.createElement(e3.Fragment,null,e3.createElement("span",{className:"manifest-property-title"},"Alternate formats"),e3.createElement(Ya,{rendering:A})),viewer_si=({requiredStatement:A,parent:B="manifest"})=>A?e3.createElement(e3.Fragment,null,e3.createElement(Xa,{requiredStatement:A,id:`iiif-${B}-required-statement`})):e3.createElement(e3.Fragment,null),viewer_li=({rights:A})=>A?e3.createElement(e3.Fragment,null,e3.createElement("span",{className:"manifest-property-title"},"Rights"),e3.createElement("a",{href:A,target:"_blank"},A)):e3.createElement(e3.Fragment,null),viewer_ci=({seeAlso:A})=>(null==A?void 0:A.length)===0?e3.createElement(e3.Fragment,null):e3.createElement(e3.Fragment,null,e3.createElement("span",{className:"manifest-property-title"},"See Also"),e3.createElement(viewer_ti,{seeAlso:A})),viewer_di=({summary:A,parent:B="manifest"})=>A?e3.createElement(e3.Fragment,null,e3.createElement(viewer_ni,{summary:A,as:"p",id:`iiif-${B}-summary`})):e3.createElement(e3.Fragment,null),viewer_ui=({label:A,thumbnail:B})=>(null==B?void 0:B.length)===0?e3.createElement(e3.Fragment,null):e3.createElement(e3.Fragment,null,e3.createElement(viewer_bn,{altAsLabel:A||{none:["resource"]},thumbnail:B,style:{backgroundColor:"#6663",objectFit:"cover"}})),viewer_mi=()=>{let A=viewer_T(),{activeManifest:B,vault:H}=A,[$,W]=(0,e3.useState)(),[K,et]=(0,e3.useState)([]),[en,er]=(0,e3.useState)([]),[ei,eo]=(0,e3.useState)([]),[el,es]=(0,e3.useState)([]);return(0,e3.useEffect)(()=>{var A,$,K,en;let ei=H.get(B);W(ei),(null==(A=ei.homepage)?void 0:A.length)>0&&et(H.get(ei.homepage)),(null==($=ei.seeAlso)?void 0:$.length)>0&&er(H.get(ei.seeAlso)),(null==(K=ei.rendering)?void 0:K.length)>0&&eo(H.get(ei.rendering)),(null==(en=ei.thumbnail)?void 0:en.length)>0&&es(H.get(ei.thumbnail))},[B,H]),$?e3.createElement(d1,null,e3.createElement(d0,null,e3.createElement(viewer_ui,{thumbnail:el,label:$.label}),e3.createElement(viewer_di,{summary:$.summary}),e3.createElement(viewer_ai,{metadata:$.metadata}),e3.createElement(viewer_si,{requiredStatement:$.requiredStatement}),e3.createElement(viewer_li,{rights:$.rights}),e3.createElement(viewer_ri,{homepage:K}),e3.createElement(viewer_ci,{seeAlso:en}),e3.createElement(viewer_ii,{rendering:ei}),e3.createElement(viewer_oi,{id:$.id,htmlLabel:"IIIF Manifest"}))):e3.createElement(e3.Fragment,null)},viewer_hi=({activeCanvas:A,annotationResources:B,searchServiceUrl:H,setContentSearchResource:$,contentSearchResource:W})=>{let{t:K}=(0,cx.$G)(),et=viewer_F(),en=viewer_T(),{isAutoScrolling:er,isUserScrolling:ei,vault:eo,configOptions:el,plugins:es}=en,{informationPanel:ec}=el,[eu,ed]=(0,e3.useState)(),eh=null==ec?void 0:ec.renderAbout,ep=null==ec?void 0:ec.renderAnnotation,em=eo.get({id:A,type:"Canvas"}),ef=null==ec?void 0:ec.renderContentSearch,eg=[...eh?["manifest-about"]:[],...ef&&H?["manifest-content-search"]:[],...ep&&B?B.map(A=>A.id):[]],{pluginsWithInfoPanel:e_}=function(A){let B=[];return A.forEach(A=>{var H;null!=(H=A.informationPanel)&&H.component&&B.push(A)}),{pluginsWithInfoPanel:B}}(es);return(0,e3.useEffect)(()=>{if(null!=ec&&ec.defaultTab)switch(null==ec?void 0:ec.defaultTab){case"manifest-annotations":B&&(null==B?void 0:B.length)>0&&ed(B[0].id);break;case"manifest-content-search":ed("manifest-content-search");break;default:ed("manifest-about")}else eg&&eg.length>0&&ed(eg[0])},[]),e3.createElement(dN,{"data-testid":"information-panel",defaultValue:eu,onValueChange:A=>{ed(A)},orientation:"horizontal",value:eu,className:"clover-viewer-information-panel"},e3.createElement(dD,{"aria-label":K("informationPanelTabs"),"data-testid":"information-panel-list"},eh&&e3.createElement(dL,{value:"manifest-about"},K("informationPanelTabsAbout")),ef&&W&&e3.createElement(dL,{value:"manifest-content-search"},e3.createElement(viewer_J,{label:W.label})),ep&&B&&B.map((A,B)=>e3.createElement(dL,{key:B,value:A.id},e3.createElement(viewer_J,{label:A.label}))),e_&&e_.map((A,B)=>{var H;return e3.createElement(dL,{key:B,value:A.id},e3.createElement(viewer_J,{label:null==(H=A.informationPanel)?void 0:H.label}))})),e3.createElement(dM,{handleScroll:function(){if(!er){clearTimeout(ei);let A=setTimeout(()=>{et({type:"updateUserScrolling",isUserScrolling:void 0})},1500);et({type:"updateUserScrolling",isUserScrolling:A})}}},eh&&e3.createElement(dP,{value:"manifest-about"},e3.createElement(viewer_mi,null)),ef&&W&&e3.createElement(dP,{value:"manifest-content-search"},e3.createElement(Ra,{searchServiceUrl:H,setContentSearchResource:$,activeCanvas:A,annotationPage:W})),ep&&B&&B.map(A=>e3.createElement(dP,{key:A.id,value:A.id},e3.createElement(ga,{annotationPage:A}))),e_&&e_.map((A,B)=>(function(A,B){var H,$;let W=null==(H=null==A?void 0:A.informationPanel)?void 0:H.component;return void 0===W?e3.createElement(e3.Fragment,null):e3.createElement(dP,{key:B,value:A.id},e3.createElement(e1.ErrorBoundary,{FallbackComponent:viewer_Ze},e3.createElement(W,{...null==($=null==A?void 0:A.informationPanel)?void 0:$.componentProps,canvas:em,useViewerDispatch:viewer_F,useViewerState:viewer_T})))})(A,B))))},hs=dE("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),hc=dE("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),hu=dE("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),hd=dE("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),hh=dE("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${hs}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),viewer_Ei=(A,B)=>{(0,e3.useEffect)(()=>{function n(H){H.key===A&&B()}return window.addEventListener("keyup",n),()=>window.removeEventListener("keyup",n)},[])},viewer_bi=({title:A})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,A),e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),viewer_wi=({title:A})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,A),e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),viewer_Si=({title:A})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,A),e3.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),viewer_xi=({title:A})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e3.createElement("title",null,A),e3.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Ci=({handleCanvasToggle:A,handleFilter:B,activeIndex:H,canvasLength:$})=>{let[W,K]=(0,e3.useState)(!1),[et,en]=(0,e3.useState)(!1),[er,ei]=(0,e3.useState)(!1),{t:eo}=(0,cx.$G)();return(0,e3.useEffect)(()=>{ei(0===H),H===$-1?en(!0):en(!1)},[H,$]),viewer_Ei("Escape",()=>{K(!1),B("")}),e3.createElement(hh,{isToggle:W},e3.createElement(hs,null,W&&e3.createElement(hc,{autoFocus:!0,onChange:A=>B(A.target.value),placeholder:eo("commonSearchPlaceholder")}),!W&&e3.createElement(hd,null,e3.createElement(hu,{onClick:()=>A(-1),disabled:er,type:"button"},e3.createElement(viewer_bi,{title:eo("commonPrevious")})),e3.createElement("span",null,H+1," of ",$),e3.createElement(hu,{onClick:()=>A(1),disabled:et,type:"button"},e3.createElement(viewer_wi,{title:eo("commonNext")}))),e3.createElement(hu,{onClick:()=>{K(A=>!A),B("")},type:"button",className:"clover-viewer-media-search"},W?e3.createElement(viewer_Si,{title:eo("commonClose")}):e3.createElement(viewer_xi,{title:eo("commonSearch")}))))},hp=dE(cY.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),hm=dE("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_=A=>e3.createElement(hm,{...A,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},A.children);viewer_.Title=({children:A})=>e3.createElement("title",null,A),viewer_.Add=()=>e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_.Audio=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),e3.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),e3.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_.Close=()=>e3.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_.Download=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),viewer_.Image=()=>e3.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_.Video=()=>e3.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let hf=dv({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),hg=dv({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),h_=dE(n0.Eh,{fill:"$secondaryAlt"}),hE=dE(n0.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),hy=dE(n0.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:hg},'&[data-side="bottom"]':{animationName:hf},'&[data-align="end"]':{[`& ${h_}`]:{margin:"0 0.7rem"}}}),hv=dE(n0.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),hT=dE(n0.fC,{boxSizing:"content-box"}),viewer_ee=({children:A})=>e3.createElement(hT,null,A);viewer_ee.Trigger=A=>e3.createElement(hv,{...A},A.children),viewer_ee.Content=A=>e3.createElement(hy,{...A,sideOffset:5,collisionPadding:21},e3.createElement(h_,null),e3.createElement(hE,null,e3.createElement(viewer_,{isSmall:!0},e3.createElement(viewer_.Close,null))),A.children);let hb=dE("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${hm}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),hk=dE("span",{display:"flex"}),hA=dE("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),hS=dE("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),hC=dE(cY.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${hk}`]:{position:"absolute",right:"0",bottom:"0",[`& ${hb}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${hk}`]:{[`& ${hb}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Wi=({type:A})=>{switch(A){case"Sound":return e3.createElement(viewer_.Audio,null);case"Image":default:return e3.createElement(viewer_.Image,null);case"Video":return e3.createElement(viewer_.Video,null)}},qi=({canvas:A,canvasIndex:B,isActive:H,thumbnail:$,type:W,handleChange:K})=>{let et=null!=A&&A.label?viewer_re(A.label):(B+1).toString();return e3.createElement(hC,{"aria-checked":H,"data-testid":"media-thumbnail","data-canvas":B,onClick:()=>K(A.id),value:A.id},e3.createElement("figure",null,e3.createElement("div",null,(null==$?void 0:$.id)&&e3.createElement(um.LazyLoadImage,{src:$.id,alt:et,loading:"lazy"}),e3.createElement(hk,null,e3.createElement(hb,{isIcon:!0,"data-testid":"thumbnail-tag"},e3.createElement(hA,null),e3.createElement(viewer_,{"aria-label":W},e3.createElement(Wi,{type:W})),["Video","Sound"].includes(W)&&e3.createElement(hS,null,viewer_Jt(A.duration))))),e3.createElement("figcaption",{"data-testid":"fig-caption"},A.label?e3.createElement(viewer_J,{label:A.label}):(B+1).toString())))},ji=A=>A.body?A.body.type:"Image",Gi=({items:A})=>{let{t:B}=(0,cx.$G)(),H=viewer_F(),$=viewer_T(),{activeCanvas:W,vault:K}=$,[et,en]=(0,e3.useState)(""),[er,ei]=(0,e3.useState)([]),[eo,el]=(0,e3.useState)(0),es=e3.useRef(null),g=A=>{W!==A&&H({type:"updateActiveCanvas",canvasId:A})};return(0,e3.useEffect)(()=>{if(!er.length){let B=["Image","Sound","Video"],H=A.map(A=>viewer_an(K,A,"painting",B)).filter(A=>A.annotations.length>0);ei(H)}},[A,er.length,K]),(0,e3.useEffect)(()=>{er.forEach((A,B)=>{null!=A&&A.canvas&&A.canvas.id===W&&el(B)})},[W,er]),(0,e3.useEffect)(()=>{let A=document.querySelector(`[data-canvas="${eo}"]`);if(A instanceof HTMLElement&&es.current){let B=A.offsetLeft-es.current.offsetWidth/2+A.offsetWidth/2;es.current.scrollTo({left:B,behavior:"smooth"})}},[eo]),e3.createElement(e3.Fragment,null,e3.createElement(Ci,{handleFilter:A=>en(A),handleCanvasToggle:A=>{let B=er[eo+A];null!=B&&B.canvas&&g(B.canvas.id)},activeIndex:eo,canvasLength:A.length}),e3.createElement(hp,{"aria-label":B("media.selectItem"),"data-testid":"media","data-active-canvas":A[eo].id,"data-canvas-length":A.length,"data-filter":et,ref:es},er.filter((A,B)=>{var H;if(!et)return!0;if(null==(H=A.canvas)||!H.label)return(B+1).toString().includes(et);{let B=viewer_re(A.canvas.label);if(Array.isArray(B))return B[0].toLowerCase().includes(et.toLowerCase())}}).map(A=>{var B,H;return e3.createElement(qi,{canvas:A.canvas,canvasIndex:er.findIndex(B=>B===A),handleChange:g,isActive:W===(null==(B=null==A?void 0:A.canvas)?void 0:B.id),key:null==(H=null==A?void 0:A.canvas)?void 0:H.id,thumbnail:jo(K,A,200,200),type:ji(A.annotations[0])})})))},hx=dE("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),hw=dE("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),hI=dE(hw,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),hO=dE("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${hI}`]:{backgroundColor:"$accent"},[`${hx}`]:{backgroundColor:"#6662"}}}),hR=dE("div",{width:"100%",height:"100%"}),hN=dE("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),hD=dE(uf.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),hL=dE(uf.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),hP=dE(uf.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),hM=dE(uf.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),hF=dE(uf.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_Te=({direction:A,title:B})=>e3.createElement(hN,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",null,B),"up"===A&&e3.createElement(()=>e3.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===A&&e3.createElement(()=>e3.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_Tn=({children:A,label:B,maxHeight:H,onValueChange:$,value:W})=>e3.createElement(hF,{onValueChange:$,value:W},e3.createElement(hD,{"data-testid":"select-button"},e3.createElement(uf.ki,{"data-testid":"select-button-value"}),e3.createElement(uf.GV,null,e3.createElement(viewer_Te,{direction:"down",title:"select"}))),e3.createElement(uf.ue,null,e3.createElement(hL,{css:{maxHeight:`${H} !important`},"data-testid":"select-content"},e3.createElement(uf.Pn,null,e3.createElement(viewer_Te,{direction:"up",title:"scroll up for more"})),e3.createElement(uf.Q_,null,e3.createElement(uf.DI,null,B&&e3.createElement(hM,null,e3.createElement(viewer_J,{"data-testid":"select-label",label:B})),A)),e3.createElement(uf.Jk,null,e3.createElement(viewer_Te,{direction:"down",title:"scroll down for more"}))))),viewer_Rn=A=>e3.createElement(hP,{...A},A.thumbnail&&e3.createElement(viewer_bn,{thumbnail:A.thumbnail}),e3.createElement(uf.S_,null,e3.createElement(viewer_J,{label:A.label})),e3.createElement(uf.o6,null)),hB=dE("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),hU=dE("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),hH=dE("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${hB}`]:{display:"block"}},false:{[`${hB}`]:{display:"none"}}}}}),viewer_te=({className:A,id:B,label:H,children:$})=>{let W=H.toLowerCase().replace(/\s/g,"-");return e3.createElement(hw,{id:B,className:A,"data-testid":"openseadragon-button","data-button":W},e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${B}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",{id:`${B}-svg-title`},H),$))},hz=dE("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),os=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),as=()=>e3.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),viewer_is=()=>e3.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),ss=()=>e3.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_ht=()=>e3.createElement(e3.Fragment,null,e3.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),e3.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),ls=({_cloverViewerHasPlaceholder:A,config:B})=>{let H=viewer_T(),{activeCanvas:$,plugins:W,vault:K,openSeadragonViewer:et}=H,en=K.get({id:$,type:"Canvas"});return(0,e3.useEffect)(()=>{if(!et)return;let A=et.viewport.getRotation();et.addHandler("home",()=>{et.viewport.setRotation(A)})},[et]),e3.createElement(hz,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:A},B.showZoomControl&&e3.createElement(e3.Fragment,null,e3.createElement(viewer_te,{id:B.zoomInButton,label:"zoom in"},e3.createElement(os,null)),e3.createElement(viewer_te,{id:B.zoomOutButton,label:"zoom out"},e3.createElement(as,null))),B.showFullPageControl&&e3.createElement(viewer_te,{id:B.fullPageButton,label:"full page"},e3.createElement(viewer_is,null)),B.showRotationControl&&e3.createElement(e3.Fragment,null,e3.createElement(viewer_te,{id:B.rotateRightButton,label:"rotate right"},e3.createElement(viewer_ht,null)),e3.createElement(viewer_te,{id:B.rotateLeftButton,label:"rotate left"},e3.createElement(viewer_ht,null))),B.showHomeControl&&e3.createElement(viewer_te,{id:B.homeButton,label:"reset"},e3.createElement(ss,null)),W.filter(A=>{var B;return null==(B=A.imageViewer)?void 0:B.controls}).map((A,B)=>{var H,$,W,K;let et=null==($=null==(H=A.imageViewer)?void 0:H.controls)?void 0:$.component;return e3.createElement(et,{key:B,...null==(K=null==(W=null==A?void 0:A.imageViewer)?void 0:W.controls)?void 0:K.componentProps,canvas:en,useViewerDispatch:viewer_F,useViewerState:viewer_T})}))},cs=({ariaLabel:A,config:B,uri:H,_cloverViewerHasPlaceholder:$,imageType:W,openSeadragonCallback:K})=>{let[et,en]=(0,e3.useState)(),[er,ei]=(0,e3.useState)(),eo=viewer_F(),el=(0,e3.useRef)(!1);return(0,e3.useEffect)(()=>(el.current||(el.current=!0,er||ei(e0(B))),()=>null==er?void 0:er.destroy()),[]),(0,e3.useEffect)(()=>{er&&K&&K(er)},[er,K]),(0,e3.useEffect)(()=>{er&&H!==et&&(null==er||er.forceRedraw(),en(H))},[er,et,H]),(0,e3.useEffect)(()=>{if(et&&er)switch(W){case"simpleImage":null==er||er.addSimpleImage({url:et});break;case"tiledImage":Mo(et).then(A=>{try{if(!A)throw Error(`No tile source found for ${et}`);null==er||er.addTiledImage({tileSource:A,success:()=>{"function"==typeof eo&&eo({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(A){console.error(A)}});break;default:null==er||er.close(),console.warn(`Unable to render ${et} in OpenSeadragon as type: "${W}"`)}},[W,et]),e3.createElement(hH,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":B.id,hasNavigator:B.showNavigator},e3.createElement(ls,{_cloverViewerHasPlaceholder:$,config:B}),B.showNavigator&&e3.createElement(hB,{id:B.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),e3.createElement(hU,{id:B.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...A&&{"aria-label":A}}))},us=({_cloverViewerHasPlaceholder:A=!1,body:B,instanceId:H,isTiledImage:$=!1,label:W,src:K="",openSeadragonCallback:et,openSeadragonConfig:en={}})=>{let er=H||esm_browser_v4(),ei="string"==typeof W?W:viewer_D(W),eo={id:`openseadragon-${er}`,navigatorId:`openseadragon-navigator-${er}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${er}`,homeButton:`reset-${er}`,rotateLeftButton:`rotateLeft-${er}`,rotateRightButton:`rotateRight-${er}`,zoomInButton:`zoomIn-${er}`,zoomOutButton:`zoomOut-${er}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...en},{imageType:el,uri:es}=B?Ho(B):Uo(K,$);return es?e3.createElement(e1.ErrorBoundary,{FallbackComponent:viewer_Ze},e3.createElement(cs,{_cloverViewerHasPlaceholder:A,ariaLabel:ei,config:eo,imageType:el,key:er,uri:es,openSeadragonCallback:et})):null},ms=({isMedia:A,label:B,placeholderCanvas:H,setIsInteractive:$})=>{let{vault:W}=viewer_T(),K=viewer_pe(W,H),et=K?K[0]:void 0,en=B?viewer_re(B):["placeholder image"];return e3.createElement(hx,{onClick:()=>$(!0),isMedia:A,className:"clover-viewer-placeholder"},e3.createElement("img",{src:(null==et?void 0:et.id)||"",alt:en.join(),height:null==et?void 0:et.height,width:null==et?void 0:et.width}))},hG=dE("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),hj=e3.forwardRef((A,B)=>{let H=e3.useRef(null),$=(0,e3.useCallback)(()=>{var A,$;if(null!=(A=B.current)&&A.currentTime&&(null==($=B.current)?void 0:$.currentTime)>0)return;let W=B.current;if(!W)return;let K=new AudioContext,et=K.createMediaElementSource(W),en=K.createAnalyser(),er=H.current;if(!er)return;er.width=W.offsetWidth,er.height=W.offsetHeight;let ei=er.getContext("2d");et.connect(en),en.connect(K.destination),en.fftSize=256;let eo=en.frequencyBinCount,el=new Uint8Array(eo);setInterval(function(){!function(A,B,H,$,W,K){let et=W/H*2.6,en,er=0;A.getByteFrequencyData($),B.fillStyle="#000000",B.fillRect(0,0,W,K);for(let A=0;A<H;A++)en=2*$[A],B.fillStyle="rgba(78, 42, 132, 1)",B.fillRect(er,K-en,et,en),er+=et+6}(en,ei,eo,el,er.width,er.height)},20)},[B]);return e3.useEffect(()=>{B&&B.current&&(B.current.onplay=$)},[$,B]),e3.createElement(hG,{ref:H,role:"presentation"})}),hV=dE("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),gs=({resource:A,ignoreCaptionLabels:B})=>{let H=viewer_re(A.label,"en");return Array.isArray(H)&&H.some(A=>B.includes(A))?null:e3.createElement("track",{key:A.id,src:A.id,label:Array.isArray(H)?H[0]:H,srcLang:"en","data-testid":"player-track"})},h$=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],ys=({allSources:A,annotationResources:B,painting:H})=>{let[$,W]=e3.useState(0),[K,et]=e3.useState(),en=e3.useRef(null),er=(null==H?void 0:H.type)==="Sound",ei=viewer_T(),{activeCanvas:eo,configOptions:el,vault:es}=ei;return(0,e3.useEffect)(()=>{if(!H.id||!en.current)return;if(null!=en&&en.current){let A=en.current;A.src=H.id,A.load()}if("m3u8"!==H.id.split(".").pop()&&H.format&&!h$.includes(H.format))return;let A=new nZ.ZP({xhrSetup:function(A,B){A.withCredentials=!!el.withCredentials}});return A.attachMedia(en.current),A.on(nZ.ZP.Events.MEDIA_ATTACHED,function(){A.loadSource(H.id)}),A.on(nZ.ZP.Events.ERROR,function(B,H){if(H.fatal)switch(H.type){case nZ.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${B} network error encountered, try to recover`),A.startLoad();break;case nZ.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${B} media error encountered, try to recover`),A.recoverMediaError();break;default:A.destroy()}}),()=>{if(A&&en.current){let B=en.current;A.detachMedia(),A.destroy(),B.currentTime=0}}},[el.withCredentials,H.id]),(0,e3.useEffect)(()=>{var A,B,H,W;let K=es.get(eo),en=null!=(A=K.accompanyingCanvas)&&A.id?viewer_pe(es,null==(B=K.accompanyingCanvas)?void 0:B.id):null,er=null!=(H=K.placeholderCanvas)&&H.id?viewer_pe(es,null==(W=K.placeholderCanvas)?void 0:W.id):null;en&&er?et(0===$?er[0].id:en[0].id):(en&&et(en[0].id),er&&et(er[0].id))},[eo,$,es]),(0,e3.useEffect)(()=>{if(null!=en&&en.current){let A=en.current;return null==A||A.addEventListener("timeupdate",()=>W(A.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),e3.createElement(hV,{css:{backgroundColor:el.canvasBackgroundColor,maxHeight:el.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},e3.createElement("video",{id:"clover-iiif-video",key:H.id,ref:en,controls:!0,height:H.height,width:H.width,crossOrigin:"anonymous",poster:K,style:{maxHeight:el.canvasHeight,position:"relative",zIndex:"1"}},A.map(A=>e3.createElement("source",{src:A.id,type:A.format,key:A.id})),(null==B?void 0:B.length)>0&&B.map(A=>{let B=[];return A.items.forEach(A=>{es.get(A.id).body.forEach(A=>{let H=es.get(A.id);B.push(H)})}),B.map(A=>e3.createElement(gs,{resource:A,ignoreCaptionLabels:el.ignoreCaptionLabels||[],key:A.id}))}),"Sorry, your browser doesn't support embedded videos."),er&&e3.createElement(hj,{ref:en}))},Es=()=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",{id:"close-svg-title"},"close"),e3.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),bs=({isMedia:A})=>e3.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},e3.createElement("title",{id:"open-svg-title"},"open"),A?e3.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):e3.createElement(e3.Fragment,null,e3.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),e3.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),ws=({handleToggle:A,isInteractive:B,isMedia:H})=>e3.createElement(hI,{onClick:A,isInteractive:B,isMedia:H,"data-testid":"placeholder-toggle"},B?e3.createElement(Es,null):e3.createElement(bs,{isMedia:H})),Ss=({activeCanvas:A,annotationResources:B,isMedia:H,painting:$})=>{var W,K,et,en,er;let[ei,eo]=e3.useState(0),[el,es]=e3.useState(!1),{configOptions:ec,customDisplays:eu,openSeadragonViewer:ed,vault:eh,viewerId:ep}=viewer_T(),em=viewer_F(),ef=eh.get(A),eg=null==(W=null==ef?void 0:ef.placeholderCanvas)?void 0:W.id,e_=!!eg,eE=(null==$?void 0:$.length)>1,ey=eg&&!el&&!H,ev=`${ep}-${xo(A+ei)}`,eT=eu.find(B=>{var H;let W=!1,{canvasId:K,paintingFormat:et}=B.target;if(Array.isArray(K)&&K.length>0&&(W=K.includes(A)),Array.isArray(et)&&et.length>0){let A=(null==(H=$[ei])?void 0:H.format)||"";W=!!(A&&et.includes(A))}return W}),eb=[];null==(et=null==(K=B[0])?void 0:K.items)||et.forEach(A=>{let B=eh.get(A.id);eb.push(B)}),(0,e3.useEffect)(()=>{var A;eb&&ed&&null!=(A=ec.annotationOverlays)&&A.renderOverlays&&(viewer_rn(ed,"annotation-overlay"),viewer_tn(ed,ef,ec.annotationOverlays,eb,"annotation-overlay"))},[ef,eb,ed,ec]),(0,e3.useEffect)(()=>{eo(0)},[A]);let ek=null==(en=null==eT?void 0:eT.display)?void 0:en.component;return e3.createElement(hO,{className:"clover-viewer-painting"},e3.createElement(hR,{style:{backgroundColor:ec.canvasBackgroundColor,height:"auto"===ec.canvasHeight?"100%":ec.canvasHeight}},eg&&!H&&e3.createElement(ws,{handleToggle:()=>es(!el),isInteractive:el,isMedia:H}),ey&&!H&&e3.createElement(ms,{isMedia:H,label:null==ef?void 0:ef.label,placeholderCanvas:eg,setIsInteractive:es}),!ey&&!eT&&(H?e3.createElement(ys,{allSources:$,painting:$[ei],annotationResources:B}):$&&e3.createElement(us,{_cloverViewerHasPlaceholder:e_,body:$[ei],instanceId:ev,key:ev,openSeadragonCallback:A=>{A&&(null==ed?void 0:ed.id)!==`openseadragon-${ev}`&&em({type:"updateOpenSeadragonViewer",openSeadragonViewer:A})},openSeadragonConfig:ec.openSeadragon})),!ey&&ek&&e3.createElement(ek,{id:A,annotationBody:$[ei],...null==eT?void 0:eT.display.componentProps})),eE&&e3.createElement(viewer_Tn,{value:null==(er=$[ei])?void 0:er.id,onValueChange:A=>{let B=$.findIndex(B=>B.id===A);eo(B)},maxHeight:"200px"},null==$?void 0:$.map(A=>e3.createElement(viewer_Rn,{value:null==A?void 0:A.id,key:null==A?void 0:A.id,label:null==A?void 0:A.label}))))},xs=({activeCanvas:A,annotationResources:B,searchServiceUrl:H,setContentSearchResource:$,contentSearchResource:W,isAudioVideo:K,items:et,painting:en})=>{let{t:er}=(0,cx.$G)(),{isInformationOpen:ei,configOptions:eo}=viewer_T(),{informationPanel:el}=eo,es=(null==el?void 0:el.renderAbout)&&ei,ec=(null==el?void 0:el.renderAnnotation)&&B.length>0&&!el.open;return e3.createElement(dC,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},e3.createElement(dx,null,e3.createElement(Ss,{activeCanvas:A,annotationResources:B,isMedia:K,painting:en}),es&&e3.createElement(dw,null,e3.createElement("span",null,er("informationPanelToggle"))),et.length>1&&e3.createElement(dS,{className:"clover-viewer-media-wrapper"},e3.createElement(Gi,{items:et,activeItem:0}))),(es||ec)&&e3.createElement(dO,null,e3.createElement(dI,null,e3.createElement(viewer_hi,{activeCanvas:A,annotationResources:B,searchServiceUrl:H,setContentSearchResource:$,contentSearchResource:W}))))},hQ=dE(viewer_ee.Trigger,{width:"30px",padding:"5px"}),hq=dE(viewer_ee.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),hY=dE("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),hW=dE("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${hF}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),hX=dE("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),Ts=()=>{var A;let B=viewer_F(),H=viewer_T(),{activeManifest:$,collection:W,configOptions:K,vault:et}=H,en=null==K?void 0:K.canvasHeight;return e3.createElement("div",{style:{margin:"0.75rem"}},e3.createElement(viewer_Tn,{label:W.label,maxHeight:en,value:$,onValueChange:A=>{B({type:"updateActiveManifest",manifestId:A}),B({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(A=null==W?void 0:W.items)?void 0:A.map(A=>e3.createElement(viewer_Rn,{value:A.id,key:A.id,thumbnail:null!=A&&A.thumbnail?et.get(null==A?void 0:A.thumbnail):void 0,label:A.label}))))},Rs=(A,B=2500)=>{let{t:H}=(0,cx.$G)(),[$,W]=(0,e3.useState)(""),K=(0,e3.useCallback)(()=>{navigator.clipboard.writeText(A).then(()=>W(H("copySuccess")),()=>W(H("copyFailure")))},[A]);return(0,e3.useEffect)(()=>{if(!$)return;let A=setTimeout(()=>W(""),B);return()=>clearTimeout(A)},[$]),[$,K]},hK=dE("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",lineHeight:"1em"}),Ms=({status:A})=>A?e3.createElement(hK,{"data-copy-status":A},A):null,viewer_gt=({textPrompt:A,textToCopy:B})=>{let[H,$]=Rs(B);return e3.createElement("button",{onClick:$},A," ",e3.createElement(Ms,{status:H}))},_s=({title:A})=>{let B="#ed1d33",H="#2873ab";return e3.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},e3.createElement("title",null,A),e3.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},e3.createElement("g",{transform:"scale(0.1)"},e3.createElement("path",{style:{fill:H},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),e3.createElement("path",{style:{fill:H},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),e3.createElement("path",{style:{fill:B},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),e3.createElement("path",{style:{fill:B},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),e3.createElement("path",{style:{fill:H},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),e3.createElement("path",{style:{fill:H},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),e3.createElement("path",{style:{fill:B},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},hZ=dE(ug.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),hJ=dE(ug.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),h0=dE("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),h1=dE("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Ds=()=>{var A;let{configOptions:B}=viewer_T(),H=viewer_F(),{t:$}=(0,cx.$G)(),[W,K]=(0,e3.useState)(null==(A=null==B?void 0:B.informationPanel)?void 0:A.open);return(0,e3.useEffect)(()=>{H({type:"updateInformationOpen",isInformationOpen:W})},[W,H]),e3.createElement(h1,null,e3.createElement(h0,{htmlFor:"information-toggle",css:W?{opacity:"1"}:{}},$("informationPanelToggle")),e3.createElement(hZ,{checked:W,onCheckedChange:()=>K(!W),id:"information-toggle","aria-label":$("informationPanelToggle"),name:"toggled?"},e3.createElement(hJ,null)))},h2=dE(viewer_ee.Trigger,{width:"30px",padding:"5px",marginBottom:"auto"}),h3=dE(hq,{h3:{color:"$primaryAlt",fontSize:"$2",fontWeight:"700",margin:"$2 0"},button:{},"& ul li":{marginBottom:"$1"}});function viewer_vt(A,B){let H=[];if(!A)return H;for(let $ of A)if($.id){let A=B.get($.id);A&&H.push(A)}return H}function viewer_yt(A,B){return A.map(({format:A,id:H,label:$})=>{let W=function(A){let{vault:B}=viewer_T();try{let H=A&&B.get(A);if(!H)throw Error(`Vault entity ${A} not found.`);return(null==H?void 0:H["@id"])||(null==H?void 0:H.id)}catch(B){return console.error(B),A}}(H);return{format:A,id:W,label:viewer_D($)||B}})}let Us=()=>{let{allPages:A,individualPages:B}=function(){let A=function(){let{activeCanvas:A,activeManifest:B,vault:H}=viewer_T(),[$,W]=(0,e3.useState)({root:[],canvas:[]});return(0,e3.useEffect)(()=>{let $=H.get(B),K=H.get(A),et=null==$?void 0:$.rendering,en=null==K?void 0:K.rendering,er=viewer_vt(et,H),ei=viewer_vt(en,H);W({root:er,canvas:ei})},[A,B,H]),{...$}}(),B=viewer_yt((null==A?void 0:A.root)||[],"Root Rendering Label"),H=viewer_yt((null==A?void 0:A.canvas)||[],"Canvas Rendering Label");return{allPages:B,individualPages:H}}(),H=A.length>0||B.length>0,a=A=>{window.open(A,"_blank")};return H?e3.createElement(viewer_ee,null,e3.createElement(h2,{"data-testid":"download-button"},e3.createElement(viewer_,null,e3.createElement(viewer_.Download,null))),e3.createElement(h3,{"data-testid":"download-content"},B.length>0&&e3.createElement(e3.Fragment,null,e3.createElement("h3",null,"Individual Pages"),e3.createElement("ul",null,B.map(({format:A,id:B,label:H})=>e3.createElement("li",{key:H},e3.createElement("button",{onClick:()=>a(B)},H," (",A,")"))))),A.length>0&&e3.createElement(e3.Fragment,null,e3.createElement("h3",null,"All Pages"),e3.createElement("ul",null,A.map(({format:A,id:B,label:H})=>e3.createElement("li",{key:H},e3.createElement("button",{onClick:()=>a(B)},H," (",A,")"))))))):null},viewer_Mn=A=>{let t=()=>!!window.matchMedia&&window.matchMedia(A).matches,[B,H]=(0,e3.useState)(t);return(0,e3.useEffect)(()=>{let o=()=>H(t);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),B},Ws=({manifestId:A,manifestLabel:B})=>{let H=viewer_T(),{collection:$,configOptions:W}=H,{informationPanel:K,showDownload:et,showIIIFBadge:en,showTitle:er}=W,ei=et||en||(null==K?void 0:K.renderToggle),eo=viewer_Mn(d_.sm),{t:el}=(0,cx.$G)();return e3.createElement(hW,{className:"clover-viewer-header"},null!=$&&$.items?e3.createElement(Ts,null):e3.createElement(hY,{className:er?"":"visually-hidden"},er&&e3.createElement(viewer_J,{label:B,className:"label"})),ei&&e3.createElement(hX,null,et&&e3.createElement(Us,null),en&&e3.createElement(viewer_ee,null,e3.createElement(hQ,null,e3.createElement(_s,{title:el("commonShare")})),e3.createElement(hq,null,(null==$?void 0:$.items)&&e3.createElement("button",{onClick:A=>{A.preventDefault(),window.open($.id,"_blank")}},el("shareCollectionJson")),e3.createElement("button",{onClick:B=>{B.preventDefault(),window.open(A,"_blank")}},el("shareManifestJson"))," ",(null==$?void 0:$.items)&&e3.createElement(viewer_gt,{textPrompt:el("shareCollectionCopy"),textToCopy:$.id}),e3.createElement(viewer_gt,{textPrompt:el("shareManifestCopy"),textToCopy:A}))),(null==K?void 0:K.renderToggle)&&!eo&&e3.createElement(Ds,null)))},qs=(A=!1)=>{let[B,H]=(0,e3.useState)(A);return(0,e3.useLayoutEffect)(()=>{if(!B)return;let A=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=A}},[B]),(0,e3.useEffect)(()=>{B!==A&&H(A)},[A]),[B,H]},js=({manifest:A,theme:B,iiifContentSearchQuery:H})=>{var $;let W=viewer_T(),K=viewer_F(),{activeCanvas:et,isInformationOpen:en,vault:er,contentSearchVault:ei,configOptions:eo,openSeadragonViewer:el}=W,es=(null==eo?void 0:eo.canvasHeight)&&["100%","auto"].includes(null==eo?void 0:eo.canvasHeight),[ec,eu]=(0,e3.useState)(!1),[ed,eh]=(0,e3.useState)(!1),[ep,em]=(0,e3.useState)([]),[ef,eg]=(0,e3.useState)([]),[e_,eE]=(0,e3.useState)(),[ey,ev]=qs(!1),eT=viewer_Mn(d_.sm),[eb,ek]=(0,e3.useState)(),eA=(0,e3.useCallback)(A=>{K({type:"updateInformationOpen",isInformationOpen:A})},[K]);(0,e3.useEffect)(()=>{var A;null!=(A=null==eo?void 0:eo.informationPanel)&&A.open&&eA(!eT)},[eT,null==($=null==eo?void 0:eo.informationPanel)?void 0:$.open,eA]),(0,e3.useEffect)(()=>{if(!eT){ev(!1);return}ev(en)},[en,eT,ev]),(0,e3.useEffect)(()=>{let A=viewer_pe(er,et);A&&(eh(["Sound","Video"].indexOf(A[0].type)>-1),em(A)),qo(er,et).then(A=>{A.length>0&&K({type:"updateInformationOpen",isInformationOpen:!0}),eg(A),eu(0!==A.length)})},[et,ef.length,er,K]);let eS=A.service.some(A=>"SearchService2"===A.type);return(0,e3.useEffect)(()=>{if(eS){let B=A.service.find(A=>"SearchService2"===A.type);B&&ek(B.id)}},[A,eS]),(0,e3.useEffect)(()=>{var A,B,$;eb&&(null==(A=eo.informationPanel)?void 0:A.renderContentSearch)!==!1&&viewer_on(ei,eb,null==($=null==(B=eo.localeText)?void 0:B.contentSearch)?void 0:$.tabLabel,H).then(A=>{eE(A)})},[eb]),(0,e3.useEffect)(()=>{if(!el||!e_)return;let A=er.get({id:et,type:"Canvas"});viewer_rn(el,"content-search-overlay"),function(A,B,H,$,W){var K;if(!(null!=B&&B.items)||(null==B?void 0:B.items.length)===0)return;let et=[];B.items.forEach(B=>{let H=A.get(B.id);"string"==typeof H.target&&H.target.startsWith($.id)&&et.push(H)}),H&&null!=(K=W.contentSearch)&&K.overlays&&viewer_tn(H,$,W.contentSearch.overlays,et,"content-search-overlay")}(ei,e_,el,A,eo)},[el,e_]),e3.createElement(e1.ErrorBoundary,{FallbackComponent:viewer_Ze},e3.createElement(dR,{className:`${B} clover-viewer`,css:{background:null==eo?void 0:eo.background},"data-body-locked":ey,"data-absolute-position":es,"data-information-panel":ec,"data-information-panel-open":en},e3.createElement(cH,{open:en,onOpenChange:eA},e3.createElement(Ws,{manifestLabel:A.label,manifestId:A.id}),e3.createElement(xs,{activeCanvas:et,painting:ep,annotationResources:ef,searchServiceUrl:eb,setContentSearchResource:eE,contentSearchResource:e_,items:A.items,isAudioVideo:ed}))))},h4={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_bt(A,B=null){return{ok:!1,status:A.status,statusText:A.statusText,headers:A.getAllResponseHeaders(),data:B||A.statusText,json:()=>JSON.parse(B||A.statusText)}}let fl=({canvasIdCallback:A=()=>{},customDisplays:B=[],plugins:H=[],customTheme:$,iiifContent:W,id:K,manifestId:et,options:en,iiifContentSearchQuery:er})=>{var ei,eo,el;let es=W;K&&(es=K),et&&(es=et);let ec=viewer_Zt(null==(eo=null==(ei=null==en?void 0:en.informationPanel)?void 0:ei.vtt)?void 0:eo.autoScroll);return e3.createElement(Ro,{initialState:{...dd,customDisplays:B,plugins:H,isAutoScrollEnabled:ec.enabled,isInformationOpen:!!(null!=(el=null==en?void 0:en.informationPanel)&&el.open),vault:new ds({customFetcher:A=>(function(A,B=h4){let H=B.headers||h4.headers;return new Promise(($,W)=>{let K=new XMLHttpRequest;K.open("get",A),K.withCredentials=B.withCredentials,H&&Object.keys(H).forEach(A=>K.setRequestHeader(A,H[A])),K.onload=()=>{$({ok:K.status>=200&&K.status<300,status:K.status,statusText:K.statusText,headers:K.getAllResponseHeaders(),data:K.responseText,json:()=>JSON.parse(K.responseText)})},K.onerror=()=>{W(viewer_bt(K,"Failed to make request."))},K.ontimeout=()=>{W(viewer_bt(K,"Request took longer than expected."))},K.send()})})(A,{withCredentials:null==en?void 0:en.withCredentials,headers:null==en?void 0:en.requestHeaders}).then(A=>JSON.parse(A.data))})}},e3.createElement(Qs,{iiifContent:es,canvasIdCallback:A,customTheme:$,options:en,iiifContentSearchQuery:er}))},Qs=({canvasIdCallback:A,customTheme:B,iiifContent:H,options:$,iiifContentSearchQuery:W})=>{let K=viewer_F(),et=viewer_T(),{activeCanvas:en,activeManifest:er,isLoaded:ei,vault:eo}=et,[el,es]=(0,e3.useState)(),[ec,eu]=(0,e3.useState)(),ed={};if(B&&(ed=(0,e2.jG)("custom",B)),(0,e3.useEffect)(()=>{A&&A(en)},[en,A]),(0,e3.useEffect)(()=>{er&&eo.load(er).then(A=>{eu(A),K({type:"updateActiveCanvas",canvasId:Oo(H,A)})}).catch(A=>{console.error(`Manifest failed to load: ${A}`)}).finally(()=>{K({type:"updateIsLoaded",isLoaded:!0})})},[H,er,K,eo]),(0,e3.useEffect)(()=>{K({type:"updateConfigOptions",configOptions:$});let A=Po(H);eo.load(A).then(A=>{es(A)}).catch(A=>{console.error(`The IIIF resource ${H} failed to load: ${A}`)})},[K,H,$,eo]),(0,e3.useEffect)(()=>{if((null==el?void 0:el.type)==="Collection"){K({type:"updateCollection",collection:el});let A=Lo(H,el);A&&K({type:"updateActiveManifest",manifestId:A})}else(null==el?void 0:el.type)==="Manifest"&&K({type:"updateActiveManifest",manifestId:el.id})},[K,H,el]),!ei){if(null==$||!$.customLoadingComponent)return e3.createElement(e3.Fragment,null,"Loading");{let A=$.customLoadingComponent;return e3.createElement(A,null)}}return ec&&ec.items?0===ec.items.length?(console.log(`The IIIF manifest ${H} does not contain canvases.`),e3.createElement(e3.Fragment,null)):e3.createElement(js,{manifest:ec,theme:ed,key:ec.id,iiifContentSearchQuery:W}):(console.log(`The IIIF manifest ${H} failed to load.`),e3.createElement(e3.Fragment,null))},helpers_u=A=>{var B,H,$,W,K;let et={id:"string"==typeof A?A:A.source};if("string"==typeof A){if(A.includes("#xywh=")){let B=A.split("#xywh=");if(B&&B[1]){let[A,H,$,W]=B[1].split(",").map(A=>Number(A));et={id:B[0],rect:{x:A,y:H,w:$,h:W}}}}else if(A.includes("#t=")){let B=A.split("#t=");B&&B[1]&&(et={id:B[0],t:B[1]})}}else if("object"==typeof A){if((null==(B=A.selector)?void 0:B.type)==="PointSelector")et={id:A.source,point:{x:A.selector.x,y:A.selector.y}};else if((null==(H=A.selector)?void 0:H.type)==="SvgSelector")et={id:A.source,svg:A.selector.value};else if((null==($=A.selector)?void 0:$.type)==="FragmentSelector"&&null!=(W=A.selector)&&W.value.includes("xywh=")&&"Canvas"==A.source.type&&A.source.id){let B=null==(K=A.selector)?void 0:K.value.split("xywh=");if(B&&B[1]){let[H,$,W,K]=B[1].split(",").map(A=>Number(A));et={id:A.source.id,rect:{x:H,y:$,w:W,h:K}}}}}return et},h5=window.OpenSeadragon;if(!h5&&!(h5=e0))throw Error("OpenSeadragon is missing.");let h6="http://www.w3.org/2000/svg";h5.Viewer&&(h5.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new helpers_a(this)),this._svgOverlayInfo});let helpers_a=function(A){let B=this;this._viewer=A,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(h6,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(h6,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){B.resize()}),this._viewer.addHandler("open",function(){B.resize()}),this._viewer.addHandler("rotate",function(){B.resize()}),this._viewer.addHandler("flip",function(){B.resize()}),this._viewer.addHandler("resize",function(){B.resize()}),this.resize()};helpers_a.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let A=this._viewer.viewport.pixelFromPoint(new h5.Point(0,0),!0),B=this._viewer.viewport.getZoom(!0),H=this._viewer.viewport.getRotation(),$=this._viewer.viewport.getFlip(),W=this._viewer.viewport._containerInnerSize.x,K=W*B,et=K;$&&(K=-K,A.x=-A.x+W),this._node.setAttribute("transform","translate("+A.x+","+A.y+") scale("+K+","+et+") rotate("+H+")")},onClick:function(A,B){new h5.MouseTracker({element:A,clickHandler:B}).setTracking(!0)}};let h8={parseAnnotationTarget:helpers_u,createOpenSeadragonRect:function(A,B,H){let $,W,K=40,et=40;B.rect&&($=B.rect.x,W=B.rect.y,K=B.rect.w,et=B.rect.h),B.point&&($=B.point.x,W=B.point.y),helpers_u.svg;let en=1/A.width;return new e0.Rect($*en-K*en/2*(H-1),W*en-et*en/2*(H-1),K*en*H,et*en*H)}};var h9=fl}}]);